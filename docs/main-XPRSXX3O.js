var h1=Object.defineProperty,f1=Object.defineProperties;var p1=Object.getOwnPropertyDescriptors;var xT=Object.getOwnPropertySymbols,g1=Object.getPrototypeOf,m1=Object.prototype.hasOwnProperty,v1=Object.prototype.propertyIsEnumerable,y1=Reflect.get;var kT=(t,e,n)=>e in t?h1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,V=(t,e)=>{for(var n in e||={})m1.call(e,n)&&kT(t,n,e[n]);if(xT)for(var n of xT(e))v1.call(e,n)&&kT(t,n,e[n]);return t},ee=(t,e)=>f1(t,p1(e));var ii=(t,e,n)=>y1(g1(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(u){i(u)}},s=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});function Xm(t,e){return Object.is(t,e)}var it=null,Ld=!1,ev=1,dn=Symbol("SIGNAL");function se(t){let e=it;return it=t,e}function tv(){return it}var Ss={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function sl(t){if(Ld)throw new Error("");if(it===null)return;it.consumerOnSignalRead(t);let e=it.nextProducerIndex++;if(Bd(it),e<it.producerNode.length&&it.producerNode[e]!==t&&ol(it)){let n=it.producerNode[e];Ud(n,it.producerIndexOfThis[e])}it.producerNode[e]!==t&&(it.producerNode[e]=t,it.producerIndexOfThis[e]=ol(it)?MT(t,it,e):0),it.producerLastReadVersion[e]=t.version}function RT(){ev++}function nv(t){if(!(ol(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ev)){if(!t.producerMustRecompute(t)&&!jd(t)){Jm(t);return}t.producerRecomputeValue(t),Jm(t)}}function rv(t){if(t.liveConsumerNode===void 0)return;let e=Ld;Ld=!0;try{for(let n of t.liveConsumerNode)n.dirty||_1(n)}finally{Ld=e}}function iv(){return it?.consumerAllowSignalWrites!==!1}function _1(t){t.dirty=!0,rv(t),t.consumerMarkedDirty?.(t)}function Jm(t){t.dirty=!1,t.lastCleanEpoch=ev}function al(t){return t&&(t.nextProducerIndex=0),se(t)}function Fd(t,e){if(se(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ol(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ud(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function jd(t){Bd(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(nv(n),r!==n.version))return!0}return!1}function cl(t){if(Bd(t),ol(t))for(let e=0;e<t.producerNode.length;e++)Ud(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function MT(t,e,n){if(NT(t),t.liveConsumerNode.length===0&&PT(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=MT(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Ud(t,e){if(NT(t),t.liveConsumerNode.length===1&&PT(t))for(let r=0;r<t.producerNode.length;r++)Ud(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Bd(i),i.producerIndexOfThis[r]=e}}function ol(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Bd(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function NT(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function PT(t){return t.producerNode!==void 0}function ov(t,e){let n=Object.create(w1);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(nv(n),sl(n),n.value===Vd)throw n.error;return n.value};return r[dn]=n,r}var Ym=Symbol("UNSET"),Zm=Symbol("COMPUTING"),Vd=Symbol("ERRORED"),w1=ee(V({},Ss),{value:Ym,dirty:!0,error:null,equal:Xm,kind:"computed",producerMustRecompute(t){return t.value===Ym||t.value===Zm},producerRecomputeValue(t){if(t.value===Zm)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Zm;let n=al(t),r,i=!1;try{r=t.computation(),se(null),i=e!==Ym&&e!==Vd&&r!==Vd&&t.equal(e,r)}catch(o){r=Vd,t.error=o}finally{Fd(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function I1(){throw new Error}var OT=I1;function LT(t){OT(t)}function sv(t){OT=t}var E1=null;function av(t,e){let n=Object.create(Hd);n.value=t,e!==void 0&&(n.equal=e);let r=()=>(sl(n),n.value);return r[dn]=n,r}function ll(t,e){iv()||LT(t),t.equal(t.value,e)||(t.value=e,b1(t))}function cv(t,e){iv()||LT(t),ll(t,e(t.value))}var Hd=ee(V({},Ss),{equal:Xm,value:void 0,kind:"signal"});function b1(t){t.version++,RT(),rv(t),E1?.()}function lv(t){let e=se(null);try{return t()}finally{se(e)}}var uv;function ul(){return uv}function wr(t){let e=uv;return uv=t,e}var $d=Symbol("NotFound");function re(t){return typeof t=="function"}function Ds(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var zd=Ds(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function no(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ve=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(re(r))try{r()}catch(o){e=o instanceof zd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{VT(o)}catch(s){e=e??[],s instanceof zd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new zd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)VT(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&no(n,e)}remove(e){let{_finalizers:n}=this;n&&no(n,e),e instanceof t&&e._removeParent(this)}};Ve.EMPTY=(()=>{let t=new Ve;return t.closed=!0,t})();var dv=Ve.EMPTY;function qd(t){return t instanceof Ve||t&&"closed"in t&&re(t.remove)&&re(t.add)&&re(t.unsubscribe)}function VT(t){re(t)?t():t.unsubscribe()}var xn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var As={setTimeout(t,e,...n){let{delegate:r}=As;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=As;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Wd(t){As.setTimeout(()=>{let{onUnhandledError:e}=xn;if(e)e(t);else throw t})}function dl(){}var FT=hv("C",void 0,void 0);function jT(t){return hv("E",void 0,t)}function UT(t){return hv("N",t,void 0)}function hv(t,e,n){return{kind:t,value:e,error:n}}var ro=null;function xs(t){if(xn.useDeprecatedSynchronousErrorHandling){let e=!ro;if(e&&(ro={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ro;if(ro=null,n)throw r}}else t()}function BT(t){xn.useDeprecatedSynchronousErrorHandling&&ro&&(ro.errorThrown=!0,ro.error=t)}var io=class extends Ve{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,qd(e)&&e.add(this)):this.destination=x1}static create(e,n,r){return new ks(e,n,r)}next(e){this.isStopped?pv(UT(e),this):this._next(e)}error(e){this.isStopped?pv(jT(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?pv(FT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},D1=Function.prototype.bind;function fv(t,e){return D1.call(t,e)}var gv=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Gd(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Gd(r)}else Gd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Gd(n)}}},ks=class extends io{constructor(e,n,r){super();let i;if(re(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&xn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&fv(e.next,o),error:e.error&&fv(e.error,o),complete:e.complete&&fv(e.complete,o)}):i=e}this.destination=new gv(i)}};function Gd(t){xn.useDeprecatedSynchronousErrorHandling?BT(t):Wd(t)}function A1(t){throw t}function pv(t,e){let{onStoppedNotification:n}=xn;n&&As.setTimeout(()=>n(t,e))}var x1={closed:!0,next:dl,error:A1,complete:dl};var Rs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function en(t){return t}function Kd(...t){return mv(t)}function mv(t){return t.length===0?en:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ue=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=R1(n)?n:new ks(n,r,i);return xs(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=HT(r),new r((i,o)=>{let s=new ks({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Rs](){return this}pipe(...n){return mv(n)(this)}toPromise(n){return n=HT(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function HT(t){var e;return(e=t??xn.Promise)!==null&&e!==void 0?e:Promise}function k1(t){return t&&re(t.next)&&re(t.error)&&re(t.complete)}function R1(t){return t&&t instanceof io||k1(t)&&qd(t)}function vv(t){return re(t?.lift)}function we(t){return e=>{if(vv(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ve(t,e,n,r,i){return new yv(t,e,n,r,i)}var yv=class extends io{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ms(){return we((t,e)=>{let n=null;t._refCount++;let r=ve(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ns=class extends ue{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,vv(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ve;let n=this.getSubject();e.add(this.source.subscribe(ve(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ve.EMPTY)}return e}refCount(){return Ms()(this)}};var $T=Ds(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ot=(()=>{class t extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Qd(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new $T}next(n){xs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){xs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){xs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?dv:(this.currentObservers=null,o.push(n),new Ve(()=>{this.currentObservers=null,no(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ue;return n.source=this,n}}return t.create=(e,n)=>new Qd(e,n),t})(),Qd=class extends ot{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:dv}};var Et=class extends ot{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var _v={now(){return(_v.delegate||Date).now()},delegate:void 0};var Yd=class extends Ve{constructor(e,n){super()}schedule(e,n=0){return this}};var hl={setInterval(t,e,...n){let{delegate:r}=hl;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=hl;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ps=class extends Yd{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return hl.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&hl.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,no(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Os=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Os.now=_v.now;var Ls=class extends Os{constructor(e,n=Os.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var wv=new Ls(Ps);var Zd=class extends Ps{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Jd=class extends Ls{};var Iv=new Jd(Zd);var Gt=new ue(t=>t.complete());function zT(t){return t&&re(t.schedule)}function qT(t){return t[t.length-1]}function Xd(t){return re(qT(t))?t.pop():void 0}function oi(t){return zT(qT(t))?t.pop():void 0}function Ev(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function GT(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(p){s(p)}}function c(d){try{u(r.throw(d))}catch(p){s(p)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function WT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function oo(t){return this instanceof oo?(this.v=t,this):new oo(t)}function KT(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(E){return Promise.resolve(E).then(m,p)}}function a(m,E){r[m]&&(i[m]=function(x){return new Promise(function(A,M){o.push([m,x,A,M])>1||c(m,x)})},E&&(i[m]=E(i[m])))}function c(m,E){try{u(r[m](E))}catch(x){g(o[0][3],x)}}function u(m){m.value instanceof oo?Promise.resolve(m.value.v).then(d,p):g(o[0][2],m)}function d(m){c("next",m)}function p(m){c("throw",m)}function g(m,E){m(E),o.shift(),o.length&&c(o[0][0],o[0][1])}}function QT(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof WT=="function"?WT(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var eh=t=>t&&typeof t.length=="number"&&typeof t!="function";function th(t){return re(t?.then)}function nh(t){return re(t[Rs])}function rh(t){return Symbol.asyncIterator&&re(t?.[Symbol.asyncIterator])}function ih(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function M1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var oh=M1();function sh(t){return re(t?.[oh])}function ah(t){return KT(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield oo(n.read());if(i)return yield oo(void 0);yield yield oo(r)}}finally{n.releaseLock()}})}function ch(t){return re(t?.getReader)}function Ze(t){if(t instanceof ue)return t;if(t!=null){if(nh(t))return N1(t);if(eh(t))return P1(t);if(th(t))return O1(t);if(rh(t))return YT(t);if(sh(t))return L1(t);if(ch(t))return V1(t)}throw ih(t)}function N1(t){return new ue(e=>{let n=t[Rs]();if(re(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function P1(t){return new ue(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function O1(t){return new ue(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Wd)})}function L1(t){return new ue(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function YT(t){return new ue(e=>{F1(t,e).catch(n=>e.error(n))})}function V1(t){return YT(ah(t))}function F1(t,e){var n,r,i,o;return GT(this,void 0,void 0,function*(){try{for(n=QT(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Kt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function si(t,e=0){return we((n,r)=>{n.subscribe(ve(r,i=>Kt(r,t,()=>r.next(i),e),()=>Kt(r,t,()=>r.complete(),e),i=>Kt(r,t,()=>r.error(i),e)))})}function ai(t,e=0){return we((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function ZT(t,e){return Ze(t).pipe(ai(e),si(e))}function JT(t,e){return Ze(t).pipe(ai(e),si(e))}function XT(t,e){return new ue(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function eC(t,e){return new ue(n=>{let r;return Kt(n,e,()=>{r=t[oh](),Kt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>re(r?.return)&&r.return()})}function lh(t,e){if(!t)throw new Error("Iterable cannot be null");return new ue(n=>{Kt(n,e,()=>{let r=t[Symbol.asyncIterator]();Kt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function tC(t,e){return lh(ah(t),e)}function nC(t,e){if(t!=null){if(nh(t))return ZT(t,e);if(eh(t))return XT(t,e);if(th(t))return JT(t,e);if(rh(t))return lh(t,e);if(sh(t))return eC(t,e);if(ch(t))return tC(t,e)}throw ih(t)}function Ne(t,e){return e?nC(t,e):Ze(t)}function te(...t){let e=oi(t);return Ne(t,e)}function Vs(t,e){let n=re(t)?t:()=>t,r=i=>i.error(n());return new ue(e?i=>e.schedule(r,0,i):r)}function bv(t){return!!t&&(t instanceof ue||re(t.lift)&&re(t.subscribe))}var Ir=Ds(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ae(t,e){return we((n,r)=>{let i=0;n.subscribe(ve(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:j1}=Array;function U1(t,e){return j1(e)?t(...e):t(e)}function uh(t){return ae(e=>U1(t,e))}var{isArray:B1}=Array,{getPrototypeOf:H1,prototype:$1,keys:z1}=Object;function dh(t){if(t.length===1){let e=t[0];if(B1(e))return{args:e,keys:null};if(q1(e)){let n=z1(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function q1(t){return t&&typeof t=="object"&&H1(t)===$1}function hh(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function fh(...t){let e=oi(t),n=Xd(t),{args:r,keys:i}=dh(t);if(r.length===0)return Ne([],e);let o=new ue(W1(r,e,i?s=>hh(i,s):en));return n?o.pipe(uh(n)):o}function W1(t,e,n=en){return r=>{rC(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)rC(e,()=>{let u=Ne(t[c],e),d=!1;u.subscribe(ve(r,p=>{o[c]=p,d||(d=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function rC(t,e,n){t?Kt(n,t,e):e()}function iC(t,e,n,r,i,o,s,a){let c=[],u=0,d=0,p=!1,g=()=>{p&&!c.length&&!u&&e.complete()},m=x=>u<r?E(x):c.push(x),E=x=>{o&&e.next(x),u++;let A=!1;Ze(n(x,d++)).subscribe(ve(e,M=>{i?.(M),o?m(M):e.next(M)},()=>{A=!0},void 0,()=>{if(A)try{for(u--;c.length&&u<r;){let M=c.shift();s?Kt(e,s,()=>E(M)):E(M)}g()}catch(M){e.error(M)}}))};return t.subscribe(ve(e,m,()=>{p=!0,g()})),()=>{a?.()}}function st(t,e,n=1/0){return re(e)?st((r,i)=>ae((o,s)=>e(r,o,i,s))(Ze(t(r,i))),n):(typeof e=="number"&&(n=e),we((r,i)=>iC(r,i,t,n)))}function oC(t=1/0){return st(en,t)}function sC(){return oC(1)}function Fs(...t){return sC()(Ne(t,oi(t)))}function ph(t){return new ue(e=>{Ze(t()).subscribe(e)})}function Tv(...t){let e=Xd(t),{args:n,keys:r}=dh(t),i=new ue(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let d=0;d<s;d++){let p=!1;Ze(n[d]).subscribe(ve(o,g=>{p||(p=!0,u--),a[d]=g},()=>c--,void 0,()=>{(!c||!p)&&(u||o.next(r?hh(r,a):a),o.complete())}))}});return e?i.pipe(uh(e)):i}function hn(t,e){return we((n,r)=>{let i=0;n.subscribe(ve(r,o=>t.call(e,o,i++)&&r.next(o)))})}function ci(t){return we((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ve(n,void 0,void 0,s=>{o=Ze(t(s,ci(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function aC(t,e,n,r,i){return(o,s)=>{let a=n,c=e,u=0;o.subscribe(ve(s,d=>{let p=u++;c=a?t(c,d,p):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function js(t,e){return re(e)?st(t,e,1):st(t,1)}function li(t){return we((e,n)=>{let r=!1;e.subscribe(ve(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Er(t){return t<=0?()=>Gt:we((e,n)=>{let r=0;e.subscribe(ve(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function gh(t=G1){return we((e,n)=>{let r=!1;e.subscribe(ve(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function G1(){return new Ir}function fl(t){return we((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function br(t,e){let n=arguments.length>=2;return r=>r.pipe(t?hn((i,o)=>t(i,o,r)):en,Er(1),n?li(e):gh(()=>new Ir))}function Us(t){return t<=0?()=>Gt:we((e,n)=>{let r=[];e.subscribe(ve(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Cv(t,e){let n=arguments.length>=2;return r=>r.pipe(t?hn((i,o)=>t(i,o,r)):en,Us(1),n?li(e):gh(()=>new Ir))}function mh(t,e){return we(aC(t,e,arguments.length>=2,!0))}function vh(...t){let e=oi(t);return we((n,r)=>{(e?Fs(t,n,e):Fs(t,n)).subscribe(r)})}function kn(t,e){return we((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ve(r,c=>{i?.unsubscribe();let u=0,d=o++;Ze(t(c,d)).subscribe(i=ve(r,p=>r.next(e?e(c,p,d,u++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Sv(t){return we((e,n)=>{Ze(t).subscribe(ve(n,()=>n.complete(),dl)),!n.closed&&e.subscribe(n)})}function bt(t,e,n){let r=re(t)||e||n?{next:t,error:e,complete:n}:t;return r?we((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ve(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):en}var K1="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",z=class extends Error{code;constructor(e,n){super(WC(e,n)),this.code=e}};function Q1(t){return`NG0${Math.abs(t)}`}function WC(t,e){return`${Q1(t)}${e?": "+e:""}`}var GC=Symbol("InputSignalNode#UNSET"),Y1=ee(V({},Hd),{transformFn:void 0,applyValueToInputSignal(t,e){ll(t,e)}});function KC(t,e){let n=Object.create(Y1);n.value=t,n.transformFn=e?.transform;function r(){if(sl(n),n.value===GC){let i=null;throw new z(-950,i)}return n.value}return r[dn]=n,r}function kl(t){return{toString:t}.toString()}var yh="__parameters__";function Z1(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function J1(t,e,n){return kl(()=>{let r=Z1(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,d){let p=c.hasOwnProperty(yh)?c[yh]:Object.defineProperty(c,yh,{value:[]})[yh];for(;p.length<=d;)p.push(null);return(p[d]=p[d]||[]).push(s),c}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function xe(t){for(let e in t)if(t[e]===xe)return e;throw Error("Could not find renamed property on target object.")}function X1(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Qt(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Qt).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function cC(t,e){return t?e?`${t} ${e}`:t:e||""}var eL=xe({__forward_ref__:xe});function pi(t){return t.__forward_ref__=pi,t.toString=function(){return Qt(this())},t}function Lt(t){return QC(t)?t():t}function QC(t){return typeof t=="function"&&t.hasOwnProperty(eL)&&t.__forward_ref__===pi}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ea(t){return{providers:t.providers||[],imports:t.imports||[]}}function Yh(t){return lC(t,ZC)||lC(t,JC)}function YC(t){return Yh(t)!==null}function lC(t,e){return t.hasOwnProperty(e)?t[e]:null}function tL(t){let e=t&&(t[ZC]||t[JC]);return e||null}function uC(t){return t&&(t.hasOwnProperty(dC)||t.hasOwnProperty(nL))?t[dC]:null}var ZC=xe({\u0275prov:xe}),dC=xe({\u0275inj:xe}),JC=xe({ngInjectableDef:xe}),nL=xe({ngInjectorDef:xe}),q=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function XC(t){return t&&!!t.\u0275providers}var rL=xe({\u0275cmp:xe}),iL=xe({\u0275dir:xe}),oL=xe({\u0275pipe:xe}),sL=xe({\u0275mod:xe}),Ch=xe({\u0275fac:xe}),vl=xe({__NG_ELEMENT_ID__:xe}),hC=xe({__NG_ENV_ID__:xe});function My(t){return typeof t=="string"?t:t==null?"":String(t)}function aL(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():My(t)}function eS(t,e){throw new z(-200,t)}function Ny(t,e){throw new z(-201,!1)}var le=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(le||{}),Hv;function tS(){return Hv}function fn(t){let e=Hv;return Hv=t,e}function nS(t,e,n){let r=Yh(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&le.Optional)return null;if(e!==void 0)return e;Ny(t,"Injector")}var cL={},so=cL,$v="__NG_DI_FLAG__",Sh=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?$d:so,r)}},Dh="ngTempTokenPath",lL="ngTokenPath",uL=/\n/gm,dL="\u0275",fC="__source";function hL(t,e=le.Default){if(ul()===void 0)throw new z(-203,!1);if(ul()===null)return nS(t,void 0,e);{let n=ul(),r;return n instanceof Sh?r=n.injector:r=n,r.get(t,e&le.Optional?null:void 0,e)}}function pe(t,e=le.Default){return(tS()||hL)(Lt(t),e)}function R(t,e=le.Default){return pe(t,Zh(e))}function Zh(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function zv(t){let e=[];for(let n=0;n<t.length;n++){let r=Lt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new z(900,!1);let i,o=le.Default;for(let s=0;s<r.length;s++){let a=r[s],c=pL(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(pe(i,o))}else e.push(pe(r))}return e}function fL(t,e){return t[$v]=e,t.prototype[$v]=e,t}function pL(t){return t[$v]}function gL(t,e,n,r){let i=t[Dh];throw e[fC]&&i.unshift(e[fC]),t.message=mL(`
`+t.message,i,n,r),t[lL]=i,t[Dh]=null,t}function mL(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==dL?t.slice(2):t;let i=Qt(e);if(Array.isArray(e))i=e.map(Qt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Qt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(uL,`
  `)}`}var vn=fL(J1("Optional"),8);function qs(t,e){let n=t.hasOwnProperty(Ch);return n?t[Ch]:null}function Py(t,e){t.forEach(n=>Array.isArray(n)?Py(n,e):e(n))}function rS(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ah(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function vL(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function yL(t,e,n){let r=Rl(t,e);return r>=0?t[r|1]=n:(r=~r,vL(t,r,e,n)),r}function Dv(t,e){let n=Rl(t,e);if(n>=0)return t[n|1]}function Rl(t,e){return _L(t,e,1)}function _L(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var co={},pn=[],yl=new q(""),iS=new q("",-1),oS=new q(""),xh=class{get(e,n=so){if(n===so){let r=new Error(`NullInjectorError: No provider for ${Qt(e)}!`);throw r.name="NullInjectorError",r}return n}};function sS(t,e){let n=t[sL]||null;if(!n&&e===!0)throw new Error(`Type ${Qt(t)} does not have '\u0275mod' property.`);return n}function Ws(t){return t[rL]||null}function wL(t){return t[iL]||null}function IL(t){return t[oL]||null}function Tr(t){return{\u0275providers:t}}function EL(...t){return{\u0275providers:aS(!0,t),\u0275fromNgModule:!0}}function aS(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Py(e,s=>{let a=s;qv(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&cS(i,o),n}function cS(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Oy(i,o=>{e(o,r)})}}function qv(t,e,n,r){if(t=Lt(t),!t)return!1;let i=null,o=uC(t),s=!o&&Ws(t);if(!o&&!s){let c=t.ngModule;if(o=uC(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)qv(u,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{Py(o.imports,d=>{qv(d,e,n,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&cS(u,e)}if(!a){let u=qs(i)||(()=>new i);e({provide:i,useFactory:u,deps:pn},i),e({provide:oS,useValue:i,multi:!0},i),e({provide:yl,useValue:()=>pe(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=t;Oy(c,d=>{e(d,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Oy(t,e){for(let n of t)XC(n)&&(n=n.\u0275providers),Array.isArray(n)?Oy(n,e):e(n)}var bL=xe({provide:String,useValue:xe});function lS(t){return t!==null&&typeof t=="object"&&bL in t}function TL(t){return!!(t&&t.useExisting)}function CL(t){return!!(t&&t.useFactory)}function Gs(t){return typeof t=="function"}function SL(t){return!!t.useClass}var Jh=new q(""),wh={},pC={},Av;function Ly(){return Av===void 0&&(Av=new xh),Av}var Yt=class{},_l=class extends Yt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Gv(e,s=>this.processProvider(s)),this.records.set(iS,Bs(void 0,this)),i.has("environment")&&this.records.set(Yt,Bs(void 0,this));let o=this.records.get(Jh);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(oS,pn,le.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?$d:so,r)}destroy(){gl(this),this._destroyed=!0;let e=se(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),se(e)}}onDestroy(e){return gl(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){gl(this);let n=wr(this),r=fn(void 0),i;try{return e()}finally{wr(n),fn(r)}}get(e,n=so,r=le.Default){if(gl(this),e.hasOwnProperty(hC))return e[hC](this);r=Zh(r);let i,o=wr(this),s=fn(void 0);try{if(!(r&le.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=RL(e)&&Yh(e);u&&this.injectableDefInScope(u)?c=Bs(Wv(e),wh):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,r)}let a=r&le.Self?Ly():this.parent;return n=r&le.Optional&&n===so?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Dh]=a[Dh]||[]).unshift(Qt(e)),o)throw a;return gL(a,e,"R3InjectorError",this.source)}else throw a}finally{fn(s),wr(o)}}resolveInjectorInitializers(){let e=se(null),n=wr(this),r=fn(void 0),i;try{let o=this.get(yl,pn,le.Self);for(let s of o)s()}finally{wr(n),fn(r),se(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Qt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Lt(e);let n=Gs(e)?e:Lt(e&&e.provide),r=AL(e);if(!Gs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Bs(void 0,wh,!0),i.factory=()=>zv(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=se(null);try{return n.value===pC?eS(Qt(e)):n.value===wh&&(n.value=pC,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&kL(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{se(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Lt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Wv(t){let e=Yh(t),n=e!==null?e.factory:qs(t);if(n!==null)return n;if(t instanceof q)throw new z(204,!1);if(t instanceof Function)return DL(t);throw new z(204,!1)}function DL(t){if(t.length>0)throw new z(204,!1);let n=tL(t);return n!==null?()=>n.factory(t):()=>new t}function AL(t){if(lS(t))return Bs(void 0,t.useValue);{let e=uS(t);return Bs(e,wh)}}function uS(t,e,n){let r;if(Gs(t)){let i=Lt(t);return qs(i)||Wv(i)}else if(lS(t))r=()=>Lt(t.useValue);else if(CL(t))r=()=>t.useFactory(...zv(t.deps||[]));else if(TL(t))r=(i,o)=>pe(Lt(t.useExisting),o!==void 0&&o&le.Optional?le.Optional:void 0);else{let i=Lt(t&&(t.useClass||t.provide));if(xL(t))r=()=>new i(...zv(t.deps));else return qs(i)||Wv(i)}return r}function gl(t){if(t.destroyed)throw new z(205,!1)}function Bs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function xL(t){return!!t.deps}function kL(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function RL(t){return typeof t=="function"||typeof t=="object"&&t instanceof q}function Gv(t,e){for(let n of t)Array.isArray(n)?Gv(n,e):n&&XC(n)?Gv(n.\u0275providers,e):e(n)}function jt(t,e){let n;t instanceof _l?(gl(t),n=t):n=new Sh(t);let r,i=wr(n),o=fn(void 0);try{return e()}finally{wr(i),fn(o)}}function dS(){return tS()!==void 0||ul()!=null}function Xh(t){if(!dS())throw new z(-203,!1)}function ML(t){return typeof t=="function"}var Cr=0,fe=1,ie=2,Ft=3,Mn=4,Pn=5,wl=6,kh=7,at=8,lo=9,hi=10,Xe=11,Il=12,gC=13,ta=14,Nn=15,Ks=16,Hs=17,Qs=18,ef=19,hS=20,ui=21,xv=22,uo=23,gn=24,kv=25,mn=26,fS=1;var ho=7,Rh=8,Mh=9,Vt=10;function di(t){return Array.isArray(t)&&typeof t[fS]=="object"}function Sr(t){return Array.isArray(t)&&t[fS]===!0}function pS(t){return(t.flags&4)!==0}function na(t){return t.componentOffset>-1}function Vy(t){return(t.flags&1)===1}function Kn(t){return!!t.template}function Nh(t){return(t[ie]&512)!==0}function ra(t){return(t[ie]&256)===256}var Kv=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function gS(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var _o=(()=>{let t=()=>mS;return t.ngInherit=!0,t})();function mS(t){return t.type.prototype.ngOnChanges&&(t.setInput=PL),NL}function NL(){let t=yS(this),e=t?.current;if(e){let n=t.previous;if(n===co)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function PL(t,e,n,r,i){let o=this.declaredInputs[r],s=yS(t)||OL(t,{previous:co,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new Kv(u&&u.currentValue,n,c===co),gS(t,e,i,n)}var vS="__ngSimpleChanges__";function yS(t){return t[vS]||null}function OL(t,e){return t[vS]=e}var mC=null;var ke=function(t,e=null,n){mC?.(t,e,n)},_S="svg",LL="math";function Qn(t){for(;Array.isArray(t);)t=t[Cr];return t}function wS(t,e){return Qn(e[t])}function Xn(t,e){return Qn(e[t.index])}function Fy(t,e){return t.data[e]}function Yn(t,e){let n=e[t];return di(n)?n:n[Cr]}function jy(t){return(t[ie]&128)===128}function VL(t){return Sr(t[Ft])}function Ys(t,e){return e==null?null:t[e]}function IS(t){t[Hs]=0}function ES(t){t[ie]&1024||(t[ie]|=1024,jy(t)&&Ml(t))}function FL(t,e){for(;t>0;)e=e[ta],t--;return e}function tf(t){return!!(t[ie]&9216||t[gn]?.dirty)}function Qv(t){t[hi].changeDetectionScheduler?.notify(8),t[ie]&64&&(t[ie]|=1024),tf(t)&&Ml(t)}function Ml(t){t[hi].changeDetectionScheduler?.notify(0);let e=fo(t);for(;e!==null&&!(e[ie]&8192||(e[ie]|=8192,!jy(e)));)e=fo(e)}function bS(t,e){if(ra(t))throw new z(911,!1);t[ui]===null&&(t[ui]=[]),t[ui].push(e)}function jL(t,e){if(t[ui]===null)return;let n=t[ui].indexOf(e);n!==-1&&t[ui].splice(n,1)}function fo(t){let e=t[Ft];return Sr(e)?e[Ft]:e}function TS(t){return t[kh]??=[]}function CS(t){return t.cleanup??=[]}var ge={lFrame:NS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Yv=!1;function UL(){return ge.lFrame.elementDepthCount}function BL(){ge.lFrame.elementDepthCount++}function HL(){ge.lFrame.elementDepthCount--}function SS(){return ge.bindingsEnabled}function $L(){return ge.skipHydrationRootTNode!==null}function zL(t){return ge.skipHydrationRootTNode===t}function qL(){ge.skipHydrationRootTNode=null}function Se(){return ge.lFrame.lView}function Ut(){return ge.lFrame.tView}function wo(t){return ge.lFrame.contextLView=t,t[at]}function Io(t){return ge.lFrame.contextLView=null,t}function yn(){let t=DS();for(;t!==null&&t.type===64;)t=t.parent;return t}function DS(){return ge.lFrame.currentTNode}function WL(){let t=ge.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Nl(t,e){let n=ge.lFrame;n.currentTNode=t,n.isParent=e}function AS(){return ge.lFrame.isParent}function GL(){ge.lFrame.isParent=!1}function xS(){return Yv}function Ph(t){let e=Yv;return Yv=t,e}function KL(t){return ge.lFrame.bindingIndex=t}function ia(){return ge.lFrame.bindingIndex++}function QL(t){let e=ge.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function YL(){return ge.lFrame.inI18n}function ZL(t,e){let n=ge.lFrame;n.bindingIndex=n.bindingRootIndex=t,Zv(e)}function JL(){return ge.lFrame.currentDirectiveIndex}function Zv(t){ge.lFrame.currentDirectiveIndex=t}function XL(t){let e=ge.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function kS(t){ge.lFrame.currentQueryIndex=t}function eV(t){let e=t[fe];return e.type===2?e.declTNode:e.type===1?t[Pn]:null}function RS(t,e,n){if(n&le.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&le.Host);)if(i=eV(o),i===null||(o=o[ta],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ge.lFrame=MS();return r.currentTNode=e,r.lView=t,!0}function Uy(t){let e=MS(),n=t[fe];ge.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function MS(){let t=ge.lFrame,e=t===null?null:t.child;return e===null?NS(t):e}function NS(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function PS(){let t=ge.lFrame;return ge.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var OS=PS;function By(){let t=PS();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function tV(t){return(ge.lFrame.contextLView=FL(t,ge.lFrame.contextLView))[at]}function Eo(){return ge.lFrame.selectedIndex}function po(t){ge.lFrame.selectedIndex=t}function nf(){let t=ge.lFrame;return Fy(t.tView,t.selectedIndex)}function xt(){ge.lFrame.currentNamespace=_S}function Bt(){nV()}function nV(){ge.lFrame.currentNamespace=null}function rV(){return ge.lFrame.currentNamespace}var LS=!0;function Hy(){return LS}function $y(t){LS=t}function iV(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=mS(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function VS(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function Ih(t,e,n){FS(t,e,3,n)}function Eh(t,e,n,r){(t[ie]&3)===n&&FS(t,e,n,r)}function Rv(t,e){let n=t[ie];(n&3)===e&&(n&=16383,n+=1,t[ie]=n)}function FS(t,e,n,r){let i=r!==void 0?t[Hs]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Hs]+=65536),(a<o||o==-1)&&(oV(t,n,e,c),t[Hs]=(t[Hs]&4294901760)+c+2),c++}function vC(t,e){ke(4,t,e);let n=se(null);try{e.call(t)}finally{se(n),ke(5,t,e)}}function oV(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[ie]>>14<t[Hs]>>16&&(t[ie]&3)===e&&(t[ie]+=16384,vC(a,o)):vC(a,o)}var zs=-1,go=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function sV(t){return(t.flags&8)!==0}function aV(t){return(t.flags&16)!==0}function cV(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];uV(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function lV(t){return t===3||t===4||t===6}function uV(t){return t.charCodeAt(0)===64}function El(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?yC(t,n,i,null,e[++r]):yC(t,n,i,null,null))}}return t}function yC(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function jS(t){return t!==zs}function Oh(t){return t&32767}function dV(t){return t>>16}function Lh(t,e){let n=dV(t),r=e;for(;n>0;)r=r[ta],n--;return r}var Jv=!0;function _C(t){let e=Jv;return Jv=t,e}var hV=256,US=hV-1,BS=5,fV=0,Gn={};function pV(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(vl)&&(r=n[vl]),r==null&&(r=n[vl]=fV++);let i=r&US,o=1<<i;e.data[t+(i>>BS)]|=o}function Vh(t,e){let n=HS(t,e);if(n!==-1)return n;let r=e[fe];r.firstCreatePass&&(t.injectorIndex=e.length,Mv(r.data,t),Mv(e,null),Mv(r.blueprint,null));let i=zy(t,e),o=t.injectorIndex;if(jS(i)){let s=Oh(i),a=Lh(i,e),c=a[fe].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function Mv(t,e){t.push(0,0,0,0,0,0,0,0,e)}function HS(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function zy(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=GS(i),r===null)return zs;if(n++,i=i[ta],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return zs}function Xv(t,e,n){pV(t,e,n)}function $S(t,e,n){if(n&le.Optional||t!==void 0)return t;Ny(e,"NodeInjector")}function zS(t,e,n,r){if(n&le.Optional&&r===void 0&&(r=null),(n&(le.Self|le.Host))===0){let i=t[lo],o=fn(void 0);try{return i?i.get(e,r,n&le.Optional):nS(e,r,n&le.Optional)}finally{fn(o)}}return $S(r,e,n)}function qS(t,e,n,r=le.Default,i){if(t!==null){if(e[ie]&2048&&!(r&le.Self)){let s=_V(t,e,n,r,Gn);if(s!==Gn)return s}let o=WS(t,e,n,r,Gn);if(o!==Gn)return o}return zS(e,n,r,i)}function WS(t,e,n,r,i){let o=vV(n);if(typeof o=="function"){if(!RS(e,t,r))return r&le.Host?$S(i,n,r):zS(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&le.Optional))Ny(n);else return s}finally{OS()}}else if(typeof o=="number"){let s=null,a=HS(t,e),c=zs,u=r&le.Host?e[Nn][Pn]:null;for((a===-1||r&le.SkipSelf)&&(c=a===-1?zy(t,e):e[a+8],c===zs||!IC(r,!1)?a=-1:(s=e[fe],a=Oh(c),e=Lh(c,e)));a!==-1;){let d=e[fe];if(wC(o,a,d.data)){let p=gV(a,e,n,s,r,u);if(p!==Gn)return p}c=e[a+8],c!==zs&&IC(r,e[fe].data[a+8]===u)&&wC(o,a,e)?(s=d,a=Oh(c),e=Lh(c,e)):a=-1}}return i}function gV(t,e,n,r,i,o){let s=e[fe],a=s.data[t+8],c=r==null?na(a)&&Jv:r!=s&&(a.type&3)!==0,u=i&le.Host&&o===a,d=mV(a,s,n,c,u);return d!==null?Fh(e,s,d,a,i):Gn}function mV(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,u=t.directiveEnd,d=o>>20,p=r?a:a+d,g=i?a+d:u;for(let m=p;m<g;m++){let E=s[m];if(m<c&&n===E||m>=c&&E.type===n)return m}if(i){let m=s[c];if(m&&Kn(m)&&m.type===n)return c}return null}function Fh(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof go){let a=o;a.resolving&&eS(aL(s[n]));let c=_C(a.canSeeViewProviders);a.resolving=!0;let u,d=a.injectImpl?fn(a.injectImpl):null,p=RS(t,r,le.Default);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&iV(n,s[n],e)}finally{d!==null&&fn(d),_C(c),a.resolving=!1,OS()}}return o}function vV(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(vl)?t[vl]:void 0;return typeof e=="number"?e>=0?e&US:yV:e}function wC(t,e,n){let r=1<<t;return!!(n[e+(t>>BS)]&r)}function IC(t,e){return!(t&le.Self)&&!(t&le.Host&&e)}var ao=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return qS(this._tNode,this._lView,e,Zh(r),n)}};function yV(){return new ao(yn(),Se())}function oa(t){return kl(()=>{let e=t.prototype.constructor,n=e[Ch]||ey(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Ch]||ey(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ey(t){return QC(t)?()=>{let e=ey(Lt(t));return e&&e()}:qs(t)}function _V(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ie]&2048&&!Nh(s);){let a=WS(o,s,n,r|le.Self,Gn);if(a!==Gn)return a;let c=o.parent;if(!c){let u=s[hS];if(u){let d=u.get(n,Gn,r);if(d!==Gn)return d}c=GS(s),s=s[ta]}o=c}return i}function GS(t){let e=t[fe],n=e.type;return n===2?e.declTNode:n===1?t[Pn]:null}function EC(t,e=null,n=null,r){let i=KS(t,e,n,r);return i.resolveInjectorInitializers(),i}function KS(t,e=null,n=null,r,i=new Set){let o=[n||pn,EL(t)];return r=r||(typeof t=="object"?void 0:Qt(t)),new _l(o,e||Ly(),r||null,i)}var ft=class t{static THROW_IF_NOT_FOUND=so;static NULL=new xh;static create(e,n){if(Array.isArray(e))return EC({name:""},n,e,"");{let r=e.name??"";return EC({name:r},e.parent,e.providers,r)}}static \u0275prov=G({token:t,providedIn:"any",factory:()=>pe(iS)});static __NG_ELEMENT_ID__=-1};var wV=new q("");wV.__NG_ELEMENT_ID__=t=>{let e=yn();if(e===null)throw new z(204,!1);if(e.type&2)return e.value;if(t&le.Optional)return null;throw new z(204,!1)};var QS=!1,Dr=(()=>{class t{static __NG_ELEMENT_ID__=IV;static __NG_ENV_ID__=n=>n}return t})(),jh=class extends Dr{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return ra(n)?(e(),()=>{}):(bS(n,e),()=>jL(n,e))}};function IV(){return new jh(Se())}var mo=class{},qy=new q("",{providedIn:"root",factory:()=>!1});var YS=new q(""),ZS=new q(""),bo=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Et(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}return t})(),rf=(()=>{class t{internalPendingTasks=R(bo);scheduler=R(mo);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return w(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}return t})(),ty=class extends ot{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,dS()&&(this.destroyRef=R(Dr,{optional:!0})??void 0,this.pendingTasks=R(bo,{optional:!0})??void 0)}emit(e){let n=se(null);try{super.next(e)}finally{se(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ve&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Je=ty;function bl(...t){}function JS(t){let e,n;function r(){t=bl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function bC(t){return queueMicrotask(()=>t()),()=>{t=bl}}var Wy="isAngularZone",Uh=Wy+"_ID",EV=0,Ce=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Je(!1);onMicrotaskEmpty=new Je(!1);onStable=new Je(!1);onError=new Je(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=QS}=e;if(typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,CV(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Wy)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new z(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,bV,bl,bl);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},bV={};function Gy(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function TV(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){JS(()=>{t.callbackScheduled=!1,ny(t),t.isCheckStableRunning=!0,Gy(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),ny(t)}function CV(t){let e=()=>{TV(t)},n=EV++;t._inner=t._inner.fork({name:"angular",properties:{[Wy]:!0,[Uh]:n,[Uh+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(SV(c))return r.invokeTask(o,s,a,c);try{return TC(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),CC(t)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return TC(t),r.invoke(o,s,a,c,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!DV(c)&&e(),CC(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,ny(t),Gy(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function ny(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function TC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function CC(t){t._nesting--,Gy(t)}var ry=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Je;onMicrotaskEmpty=new Je;onStable=new Je;onError=new Je;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function SV(t){return XS(t,"__ignore_ng_zone__")}function DV(t){return XS(t,"__scheduler_tick__")}function XS(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Zn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},AV=new q("",{providedIn:"root",factory:()=>{let t=R(Ce),e=R(Zn);return n=>t.runOutsideAngular(()=>e.handleError(n))}}),iy=class{destroyed=!1;listeners=null;errorHandler=R(Zn,{optional:!0});destroyRef=R(Dr);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new z(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed){console.warn(WC(953,!1));return}if(this.listeners===null)return;let n=se(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{se(n)}}};function eD(t){return new iy}function SC(t,e){return KC(t,e)}function xV(t){return KC(GC,t)}var _n=(SC.required=xV,SC);function kV(){return Ky(yn(),Se())}function Ky(t,e){return new of(Xn(t,e))}var of=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=kV}return t})();function RV(t){return typeof t=="function"&&t[dn]!==void 0}function Fe(t,e){let n=av(t,e?.equal),r=n[dn];return n.set=i=>ll(r,i),n.update=i=>cv(r,i),n.asReadonly=MV.bind(n),n}function MV(){let t=this[dn];if(t.readonlyFn===void 0){let e=()=>this();e[dn]=t,t.readonlyFn=e}return t.readonlyFn}function tD(t){return RV(t)&&typeof t.set=="function"}function nD(t){return(t.flags&128)===128}var rD=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(rD||{}),iD=new Map,NV=0;function PV(){return NV++}function OV(t){iD.set(t[ef],t)}function oy(t){iD.delete(t[ef])}var DC="__ngContext__";function Pl(t,e){di(e)?(t[DC]=e[ef],OV(e)):t[DC]=e}function oD(t){return aD(t[Il])}function sD(t){return aD(t[Mn])}function aD(t){for(;t!==null&&!Sr(t);)t=t[Mn];return t}var sy;function cD(t){sy=t}function LV(){if(sy!==void 0)return sy;if(typeof document<"u")return document;throw new z(210,!1)}var sf=new q("",{providedIn:"root",factory:()=>VV}),VV="ng",Qy=new q(""),To=new q("",{providedIn:"platform",factory:()=>"unknown"});var Yy=new q("",{providedIn:"root",factory:()=>LV().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var FV="h",jV="b";var lD=!1,UV=new q("",{providedIn:"root",factory:()=>lD});var uD=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(uD||{}),af=new q(""),AC=new Set;function Ol(t){AC.has(t)||(AC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var dD=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=BV}return t})();function BV(){return new dD(Se(),yn())}var HV=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}return t})();var $V=()=>null;function hD(t,e,n=!1){return $V(t,e,n)}function fD(t,e){let n=t.contentQueries;if(n!==null){let r=se(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];kS(o),a.contentQueries(2,e[s],s)}}}finally{se(r)}}}function ay(t,e,n){kS(0);let r=se(null);try{e(t,n)}finally{se(r)}}function pD(t,e,n){if(pS(e)){let r=se(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{se(r)}}}var Jn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Jn||{});var cy=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${K1})`}};function zV(t){return t instanceof cy?t.changingThisBreaksApplicationSecurity:t}function gD(t){return t instanceof Function?t():t}function qV(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var mD="ng-template";function WV(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&qV(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Zy(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Zy(t){return t.type===4&&t.value!==mD}function GV(t,e,n){let r=t.type===4&&!n?mD:t.value;return e===r}function KV(t,e,n){let r=4,i=t.attrs,o=i!==null?ZV(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Rn(r)&&!Rn(c))return!1;if(s&&Rn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!GV(t,c,n)||c===""&&e.length===1){if(Rn(r))return!1;s=!0}}else if(r&8){if(i===null||!WV(t,i,c,n)){if(Rn(r))return!1;s=!0}}else{let u=e[++a],d=QV(c,i,Zy(t),n);if(d===-1){if(Rn(r))return!1;s=!0;continue}if(u!==""){let p;if(d>o?p="":p=i[d+1].toLowerCase(),r&2&&u!==p){if(Rn(r))return!1;s=!0}}}}return Rn(r)||s}function Rn(t){return(t&1)===0}function QV(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return JV(e,t)}function YV(t,e,n=!1){for(let r=0;r<e.length;r++)if(KV(t,e[r],n))return!0;return!1}function ZV(t){for(let e=0;e<t.length;e++){let n=t[e];if(lV(n))return e}return t.length}function JV(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function xC(t,e){return t?":not("+e.trim()+")":e}function XV(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Rn(s)&&(e+=xC(o,i),i=""),r=s,o=o||!Rn(r);n++}return i!==""&&(e+=xC(o,i)),e}function eF(t){return t.map(XV).join(",")}function tF(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Rn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var gi={};function nF(t,e){return t.createText(e)}function rF(t,e,n){t.setValue(e,n)}function vD(t,e,n){return t.createElement(e,n)}function Bh(t,e,n,r,i){t.insertBefore(e,n,r,i)}function yD(t,e,n){t.appendChild(e,n)}function kC(t,e,n,r,i){r!==null?Bh(t,e,n,r,i):yD(t,e,n)}function iF(t,e,n){t.removeChild(null,e,n)}function oF(t,e,n){t.setAttribute(e,"style",n)}function sF(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function _D(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&cV(t,e,r),i!==null&&sF(t,e,i),o!==null&&oF(t,e,o)}function Jy(t,e,n,r,i,o,s,a,c,u,d){let p=mn+r,g=p+i,m=aF(p,g),E=typeof u=="function"?u():u;return m[fe]={type:t,blueprint:m,template:n,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:E,incompleteFirstPass:!1,ssrId:d}}function aF(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:gi);return n}function cF(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Jy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Xy(t,e,n,r,i,o,s,a,c,u,d){let p=e.blueprint.slice();return p[Cr]=i,p[ie]=r|4|128|8|64|1024,(u!==null||t&&t[ie]&2048)&&(p[ie]|=2048),IS(p),p[Ft]=p[ta]=t,p[at]=n,p[hi]=s||t&&t[hi],p[Xe]=a||t&&t[Xe],p[lo]=c||t&&t[lo]||null,p[Pn]=o,p[ef]=PV(),p[wl]=d,p[hS]=u,p[Nn]=e.type==2?t[Nn]:p,p}function lF(t,e,n){let r=Xn(e,t),i=cF(n),o=t[hi].rendererFactory,s=e_(t,Xy(t,i,null,wD(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function wD(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function ID(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function e_(t,e){return t[Il]?t[gC][Mn]=e:t[Il]=e,t[gC]=e,e}function de(t=1){ED(Ut(),Se(),Eo()+t,!1)}function ED(t,e,n,r){if(!r)if((e[ie]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Ih(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Eh(e,o,0,n)}po(n)}var cf=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(cf||{});function ly(t,e,n,r){let i=se(null);try{let[o,s,a]=t.inputs[n],c=null;(s&cf.SignalBased)!==0&&(c=e[o][dn]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,o):gS(e,c,o,r)}finally{se(i)}}function bD(t,e,n,r,i){let o=Eo(),s=r&2;try{po(-1),s&&e.length>mn&&ED(t,e,mn,!1),ke(s?2:0,i),n(r,i)}finally{po(o),ke(s?3:1,i)}}function t_(t,e,n){gF(t,e,n),(n.flags&64)===64&&mF(t,e,n)}function TD(t,e,n=Xn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function uF(t,e,n,r){let o=r.get(UV,lD)||n===Jn.ShadowDom,s=t.selectRootElement(e,o);return dF(s),s}function dF(t){hF(t)}var hF=()=>null;function fF(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function n_(t,e,n,r,i,o,s,a){if(!a&&r_(e,t,n,r,i)){na(e)&&pF(n,e.index);return}if(e.type&3){let c=Xn(e,n);r=fF(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)}else e.type&12}function pF(t,e){let n=Yn(e,t);n[ie]&16||(n[ie]|=64)}function gF(t,e,n){let r=n.directiveStart,i=n.directiveEnd;na(n)&&lF(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Vh(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],c=Fh(e,t,s,n);if(Pl(c,e),o!==null&&wF(e,s-r,c,a,n,o),Kn(a)){let u=Yn(n.index,e);u[at]=Fh(e,t,s,n)}}}function mF(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=JL();try{po(o);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Zv(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&vF(c,u)}}finally{po(-1),Zv(s)}}function vF(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function CD(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];YV(e,o.selectors,!1)&&(r??=[],Kn(o)?r.unshift(o):r.push(o))}return r}function yF(t,e,n,r,i,o){let s=Xn(t,e);_F(e[Xe],s,o,t.value,n,r,i)}function _F(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?My(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function wF(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];ly(r,n,c,u)}}function IF(t,e){let n=t[lo],r=n?n.get(Zn,null):null;r&&r.handleError(e)}function r_(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],d=s[c+1],p=e.data[u];ly(p,n[u],d,i),a=!0}if(o)for(let c of o){let u=n[c],d=e.data[c];ly(d,u,r,i),a=!0}return a}function EF(t,e){let n=Yn(e,t),r=n[fe];bF(r,n);let i=n[Cr];i!==null&&n[wl]===null&&(n[wl]=hD(i,n[lo])),ke(18),i_(r,n,n[at]),ke(19,n[at])}function bF(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function i_(t,e,n){Uy(e);try{let r=t.viewQuery;r!==null&&ay(1,r,n);let i=t.template;i!==null&&bD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Qs]?.finishViewCreation(t),t.staticContentQueries&&fD(t,e),t.staticViewQueries&&ay(2,t.viewQuery,n);let o=t.components;o!==null&&TF(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ie]&=-5,By()}}function TF(t,e){for(let n=0;n<e.length;n++)EF(t,e[n])}function o_(t,e,n,r){let i=se(null);try{let o=e.tView,a=t[ie]&4096?4096:16,c=Xy(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[Ks]=u;let d=t[Qs];return d!==null&&(c[Qs]=d.createEmbeddedView(o)),i_(o,c,n),c}finally{se(i)}}function Tl(t,e){return!e||e.firstChild===null||nD(t)}var CF;function s_(t,e){return CF(t,e)}var fi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(fi||{});function SD(t){return(t.flags&32)===32}function $s(t,e,n,r,i){if(r!=null){let o,s=!1;Sr(r)?o=r:di(r)&&(s=!0,r=r[Cr]);let a=Qn(r);t===0&&n!==null?i==null?yD(e,n,a):Bh(e,n,a,i||null,!0):t===1&&n!==null?Bh(e,n,a,i||null,!0):t===2?iF(e,a,s):t===3&&e.destroyNode(a),o!=null&&VF(e,t,o,n,i)}}function SF(t,e){DD(t,e),e[Cr]=null,e[Pn]=null}function DF(t,e,n,r,i,o){r[Cr]=i,r[Pn]=e,uf(t,r,n,1,i,o)}function DD(t,e){e[hi].changeDetectionScheduler?.notify(9),uf(t,e,e[Xe],2,null,null)}function AF(t){let e=t[Il];if(!e)return Nv(t[fe],t);for(;e;){let n=null;if(di(e))n=e[Il];else{let r=e[Vt];r&&(n=r)}if(!n){for(;e&&!e[Mn]&&e!==t;)di(e)&&Nv(e[fe],e),e=e[Ft];e===null&&(e=t),di(e)&&Nv(e[fe],e),n=e&&e[Mn]}e=n}}function a_(t,e){let n=t[Mh],r=n.indexOf(e);n.splice(r,1)}function lf(t,e){if(ra(e))return;let n=e[Xe];n.destroyNode&&uf(t,e,n,3,null,null),AF(e)}function Nv(t,e){if(ra(e))return;let n=se(null);try{e[ie]&=-129,e[ie]|=256,e[gn]&&cl(e[gn]),kF(t,e),xF(t,e),e[fe].type===1&&e[Xe].destroy();let r=e[Ks];if(r!==null&&Sr(e[Ft])){r!==e[Ft]&&a_(r,e);let i=e[Qs];i!==null&&i.detachView(t)}oy(e)}finally{se(n)}}function xF(t,e){let n=t.cleanup,r=e[kh];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[kh]=null);let i=e[ui];if(i!==null){e[ui]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[uo];if(o!==null){e[uo]=null;for(let s of o)s.destroy()}}function kF(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof go)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];ke(4,a,c);try{c.call(a)}finally{ke(5,a,c)}}else{ke(4,i,o);try{o.call(i)}finally{ke(5,i,o)}}}}}function RF(t,e,n){return MF(t,e.parent,n)}function MF(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Cr];if(na(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Jn.None||i===Jn.Emulated)return null}return Xn(r,n)}function NF(t,e,n){return OF(t,e,n)}function PF(t,e,n){return t.type&40?Xn(t,n):null}var OF=PF,RC;function c_(t,e,n,r){let i=RF(t,r,e),o=e[Xe],s=r.parent||e[Pn],a=NF(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)kC(o,i,n[c],a,!1);else kC(o,i,n,a,!1);RC!==void 0&&RC(o,r,e,n,i)}function ml(t,e){if(e!==null){let n=e.type;if(n&3)return Xn(e,t);if(n&4)return uy(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ml(t,r);{let i=t[e.index];return Sr(i)?uy(-1,i):Qn(i)}}else{if(n&128)return ml(t,e.next);if(n&32)return s_(e,t)()||Qn(t[e.index]);{let r=AD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=fo(t[Nn]);return ml(i,r)}else return ml(t,e.next)}}}return null}function AD(t,e){if(e!==null){let r=t[Nn][Pn],i=e.projection;return r.projection[i]}return null}function uy(t,e){let n=Vt+t+1;if(n<e.length){let r=e[n],i=r[fe].firstChild;if(i!==null)return ml(r,i)}return e[ho]}function l_(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Pl(Qn(a),r),n.flags|=2),!SD(n))if(c&8)l_(t,e,n.child,r,i,o,!1),$s(e,t,i,a,o);else if(c&32){let u=s_(n,r),d;for(;d=u();)$s(e,t,i,d,o);$s(e,t,i,a,o)}else c&16?LF(t,e,r,n,i,o):$s(e,t,i,a,o);n=s?n.projectionNext:n.next}}function uf(t,e,n,r,i,o){l_(n,r,t.firstChild,e,i,o,!1)}function LF(t,e,n,r,i,o){let s=n[Nn],c=s[Pn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];$s(e,t,i,d,o)}else{let u=c,d=s[Ft];nD(r)&&(u.flags|=128),l_(t,e,u,d,i,o,!0)}}function VF(t,e,n,r,i){let o=n[ho],s=Qn(n);o!==s&&$s(e,t,r,o,i);for(let a=Vt;a<n.length;a++){let c=n[a];uf(c[fe],c,t,e,r,o)}}function FF(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:fi.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=fi.Important),t.setStyle(n,r,i,o))}}function Hh(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Qn(o)),Sr(o)&&jF(o,r);let s=n.type;if(s&8)Hh(t,e,n.child,r);else if(s&32){let a=s_(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=AD(e,n);if(Array.isArray(a))r.push(...a);else{let c=fo(e[Nn]);Hh(c[fe],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function jF(t,e){for(let n=Vt;n<t.length;n++){let r=t[n],i=r[fe].firstChild;i!==null&&Hh(r[fe],r,i,e)}t[ho]!==t[Cr]&&e.push(t[ho])}function xD(t){if(t[kv]!==null){for(let e of t[kv])e.impl.addSequence(e);t[kv].length=0}}var kD=[];function UF(t){return t[gn]??BF(t)}function BF(t){let e=kD.pop()??Object.create($F);return e.lView=t,e}function HF(t){t.lView[gn]!==t&&(t.lView=null,kD.push(t))}var $F=ee(V({},Ss),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Ml(t.lView)},consumerOnSignalRead(){this.lView[gn]=this}});function zF(t){let e=t[gn]??Object.create(qF);return e.lView=t,e}var qF=ee(V({},Ss),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=fo(t.lView);for(;e&&!RD(e[fe]);)e=fo(e);e&&ES(e)},consumerOnSignalRead(){this.lView[gn]=this}});function RD(t){return t.type!==2}function MD(t){if(t[uo]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[uo])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[ie]&8192)}}var WF=100;function ND(t,e=!0,n=0){let i=t[hi].rendererFactory,o=!1;o||i.begin?.();try{GF(t,n)}catch(s){throw e&&IF(t,s),s}finally{o||i.end?.()}}function GF(t,e){let n=xS();try{Ph(!0),dy(t,e);let r=0;for(;tf(t);){if(r===WF)throw new z(103,!1);r++,dy(t,1)}}finally{Ph(n)}}function KF(t,e,n,r){if(ra(e))return;let i=e[ie],o=!1,s=!1;Uy(e);let a=!0,c=null,u=null;o||(RD(t)?(u=UF(e),c=al(u)):tv()===null?(a=!1,u=zF(e),c=al(u)):e[gn]&&(cl(e[gn]),e[gn]=null));try{IS(e),KL(t.bindingStartIndex),n!==null&&bD(t,e,n,2,r);let d=(i&3)===3;if(!o)if(d){let m=t.preOrderCheckHooks;m!==null&&Ih(e,m,null)}else{let m=t.preOrderHooks;m!==null&&Eh(e,m,0,null),Rv(e,0)}if(s||QF(e),MD(e),PD(e,0),t.contentQueries!==null&&fD(t,e),!o)if(d){let m=t.contentCheckHooks;m!==null&&Ih(e,m)}else{let m=t.contentHooks;m!==null&&Eh(e,m,1),Rv(e,1)}ZF(t,e);let p=t.components;p!==null&&LD(e,p,0);let g=t.viewQuery;if(g!==null&&ay(2,g,r),!o)if(d){let m=t.viewCheckHooks;m!==null&&Ih(e,m)}else{let m=t.viewHooks;m!==null&&Eh(e,m,2),Rv(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[xv]){for(let m of e[xv])m();e[xv]=null}o||(xD(e),e[ie]&=-73)}catch(d){throw o||Ml(e),d}finally{u!==null&&(Fd(u,c),a&&HF(u)),By()}}function PD(t,e){for(let n=oD(t);n!==null;n=sD(n))for(let r=Vt;r<n.length;r++){let i=n[r];OD(i,e)}}function QF(t){for(let e=oD(t);e!==null;e=sD(e)){if(!(e[ie]&2))continue;let n=e[Mh];for(let r=0;r<n.length;r++){let i=n[r];ES(i)}}}function YF(t,e,n){ke(18);let r=Yn(e,t);OD(r,n),ke(19,r[at])}function OD(t,e){jy(t)&&dy(t,e)}function dy(t,e){let r=t[fe],i=t[ie],o=t[gn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&jd(o)),s||=!1,o&&(o.dirty=!1),t[ie]&=-9217,s)KF(r,t,r.template,t[at]);else if(i&8192){MD(t),PD(t,1);let a=r.components;a!==null&&LD(t,a,1),xD(t)}}function LD(t,e,n){for(let r=0;r<e.length;r++)YF(t,e[r],n)}function ZF(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)po(~i);else{let o=i,s=n[++r],a=n[++r];ZL(s,o);let c=e[o];ke(24,c),a(2,c),ke(25,c)}}}finally{po(-1)}}function u_(t,e){let n=xS()?64:1088;for(t[hi].changeDetectionScheduler?.notify(e);t;){t[ie]|=n;let r=fo(t);if(Nh(t)&&!r)return t;t=r}return null}function VD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function FD(t,e){let n=Vt+e;if(n<t.length)return t[n]}function df(t,e,n,r=!0){let i=e[fe];if(JF(i,e,t,n),r){let s=uy(n,t),a=e[Xe],c=a.parentNode(t[ho]);c!==null&&DF(i,t[Pn],a,e,c,s)}let o=e[wl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function jD(t,e){let n=Cl(t,e);return n!==void 0&&lf(n[fe],n),n}function Cl(t,e){if(t.length<=Vt)return;let n=Vt+e,r=t[n];if(r){let i=r[Ks];i!==null&&i!==t&&a_(i,r),e>0&&(t[n-1][Mn]=r[Mn]);let o=Ah(t,Vt+e);SF(r[fe],r);let s=o[Qs];s!==null&&s.detachView(o[fe]),r[Ft]=null,r[Mn]=null,r[ie]&=-129}return r}function JF(t,e,n,r){let i=Vt+r,o=n.length;r>0&&(n[i-1][Mn]=e),r<o-Vt?(e[Mn]=n[i],rS(n,Vt+r,e)):(n.push(e),e[Mn]=null),e[Ft]=n;let s=e[Ks];s!==null&&n!==s&&UD(s,e);let a=e[Qs];a!==null&&a.insertView(t),Qv(e),e[ie]|=128}function UD(t,e){let n=t[Mh],r=e[Ft];if(di(r))t[ie]|=2;else{let i=r[Ft][Nn];e[Nn]!==i&&(t[ie]|=2)}n===null?t[Mh]=[e]:n.push(e)}var $h=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[fe];return Hh(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[at]}set context(e){this._lView[at]=e}get destroyed(){return ra(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ft];if(Sr(e)){let n=e[Rh],r=n?n.indexOf(this):-1;r>-1&&(Cl(e,r),Ah(n,r))}this._attachedToViewContainer=!1}lf(this._lView[fe],this._lView)}onDestroy(e){bS(this._lView,e)}markForCheck(){u_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ie]&=-129}reattach(){Qv(this._lView),this._lView[ie]|=128}detectChanges(){this._lView[ie]|=1024,ND(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Nh(this._lView),n=this._lView[Ks];n!==null&&!e&&a_(n,this._lView),DD(this._lView[fe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e;let n=Nh(this._lView),r=this._lView[Ks];r!==null&&!n&&UD(r,this._lView),Qv(this._lView)}};function d_(t,e,n,r,i){let o=t.data[e];if(o===null)o=XF(t,e,n,r,i),YL()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=WL();o.injectorIndex=s===null?-1:s.injectorIndex}return Nl(o,!0),o}function XF(t,e,n,r,i){let o=DS(),s=AS(),a=s?o:o&&o.parent,c=t.data[e]=t2(t,a,n,e,r,i);return e2(t,c,o,s),c}function e2(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function t2(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return $L()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var FY=new RegExp(`^(\\d+)*(${jV}|${FV})*(.*)`);var n2=()=>null;function Sl(t,e){return n2(t,e)}var r2=class{},BD=class{},hy=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Qt(e)}.`)}},hf=class{static NULL=new hy},Zs=class{},h_=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>i2()}return t})();function i2(){let t=Se(),e=yn(),n=Yn(e.index,t);return(di(n)?n:t)[Xe]}var o2=(()=>{class t{static \u0275prov=G({token:t,providedIn:"root",factory:()=>null})}return t})();var Pv={},fy=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Zh(r);let i=this.injector.get(e,Pv,r);return i!==Pv||n===Pv?i:this.parentInjector.get(e,n,r)}};function MC(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=cC(i,a);else if(o==2){let c=a,u=e[++s];r=cC(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Me(t,e=le.Default){let n=Se();if(n===null)return pe(t,e);let r=yn();return qS(r,n,Lt(t),e)}function HD(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a,c=null,u=null,d=a2(s);d===null?a=s:[a,c,u]=d,u2(t,e,n,a,o,c,u)}o!==null&&r!==null&&s2(n,r,o)}function s2(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new z(-301,!1);r.push(e[i],o)}}function a2(t){let e=null,n=!1;for(let s=0;s<t.length;s++){let a=t[s];if(s===0&&Kn(a)&&(e=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,c2(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function c2(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function l2(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function u2(t,e,n,r,i,o,s){let a=r.length,c=!1;for(let g=0;g<a;g++){let m=r[g];!c&&Kn(m)&&(c=!0,l2(t,n,g)),Xv(Vh(n,e),t,m.type)}m2(n,t.data.length,a);for(let g=0;g<a;g++){let m=r[g];m.providersResolver&&m.providersResolver(m)}let u=!1,d=!1,p=ID(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let g=0;g<a;g++){let m=r[g];if(n.mergedAttrs=El(n.mergedAttrs,m.hostAttrs),h2(t,n,e,p,m),g2(p,m,i),s!==null&&s.has(m)){let[x,A]=s.get(m);n.directiveToIndex.set(m.type,[p,x+n.directiveStart,A+n.directiveStart])}else(o===null||!o.has(m))&&n.directiveToIndex.set(m.type,p);m.contentQueries!==null&&(n.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(n.flags|=64);let E=m.type.prototype;!u&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),u=!0),!d&&(E.ngOnChanges||E.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),d=!0),p++}d2(t,n,o)}function d2(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))NC(0,e,i,r),NC(1,e,i,r),OC(e,r,!1);else{let o=n.get(i);PC(0,e,o,r),PC(1,e,o,r),OC(e,r,!0)}}}function NC(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),$D(e,o)}}function PC(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),$D(e,s)}}function $D(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function OC(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Zy(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let u=i[c];for(let d of u)if(d===e){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let u=o[c];for(let d=0;d<u.length;d+=2)if(u[d]===e){s??=[],s.push(u[d+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function h2(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=qs(i.type,!0)),s=new go(o,Kn(i),Me);t.blueprint[r]=s,n[r]=s,f2(t,e,r,ID(t,n,i.hostVars,gi),i)}function f2(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;p2(s)!=a&&s.push(a),s.push(n,r,o)}}function p2(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function g2(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Kn(e)&&(n[""]=t)}}function m2(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function zD(t,e,n,r,i,o,s,a){let c=e.consts,u=Ys(c,s),d=d_(e,t,2,r,u);return o&&HD(e,n,d,Ys(c,a),i),d.mergedAttrs=El(d.mergedAttrs,d.attrs),d.attrs!==null&&MC(d,d.attrs,!1),d.mergedAttrs!==null&&MC(d,d.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,d),d}function qD(t,e){VS(t,e),pS(e)&&t.queries.elementEnd(e)}var zh=class extends hf{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ws(e);return new Dl(n,this.ngModule)}};function v2(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&cf.SignalBased)!==0};return i&&(o.transform=i),o})}function y2(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function _2(t,e,n){let r=e instanceof Yt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new fy(n,r):n}function w2(t){let e=t.get(Zs,null);if(e===null)throw new z(407,!1);let n=t.get(o2,null),r=t.get(mo,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function I2(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return vD(e,n,n==="svg"?_S:n==="math"?LL:null)}var Dl=class extends BD{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=v2(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=y2(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=eF(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){ke(22);let o=se(null);try{let s=this.componentDef,a=r?["ng-version","19.2.10"]:tF(this.componentDef.selectors[0]),c=Jy(0,null,null,1,0,null,null,null,null,[a],null),u=_2(s,i||this.ngModule,e),d=w2(u),p=d.rendererFactory.createRenderer(null,s),g=r?uF(p,r,s.encapsulation,u):I2(s,p),m=Xy(null,c,null,512|wD(s),null,null,d,p,u,null,hD(g,u,!0));m[mn]=g,Uy(m);let E=null;try{let x=zD(mn,c,m,"#host",()=>[this.componentDef],!0,0);g&&(_D(p,g,x),Pl(g,m)),t_(c,m,x),pD(c,x,m),qD(c,x),n!==void 0&&E2(x,this.ngContentSelectors,n),E=Yn(x.index,m),m[at]=E[at],i_(c,m,null)}catch(x){throw E!==null&&oy(E),oy(m),x}finally{ke(23),By()}return new py(this.componentType,m)}finally{se(o)}}},py=class extends r2{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=Fy(n[fe],mn),this.location=Ky(this._tNode,n),this.instance=Yn(this._tNode.index,n)[at],this.hostView=this.changeDetectorRef=new $h(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=r_(r,i[fe],i,e,n);this.previousInputValues.set(e,n);let s=Yn(r.index,i);u_(s,1)}get injector(){return new ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function E2(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var f_=(()=>{class t{static __NG_ELEMENT_ID__=b2}return t})();function b2(){let t=yn();return C2(t,Se())}var T2=f_,WD=class extends T2{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ky(this._hostTNode,this._hostLView)}get injector(){return new ao(this._hostTNode,this._hostLView)}get parentInjector(){let e=zy(this._hostTNode,this._hostLView);if(jS(e)){let n=Lh(e,this._hostLView),r=Oh(e),i=n[fe].data[r+8];return new ao(i,n)}else return new ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=LC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Vt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Sl(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Tl(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!ML(e),a;if(s)a=n;else{let E=n||{};a=E.index,r=E.injector,i=E.projectableNodes,o=E.environmentInjector||E.ngModuleRef}let c=s?e:new Dl(Ws(e)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let x=(s?u:this.parentInjector).get(Yt,null);x&&(o=x)}let d=Ws(c.componentType??{}),p=Sl(this._lContainer,d?.id??null),g=p?.firstChild??null,m=c.create(u,i,g,o);return this.insertImpl(m.hostView,a,Tl(this._hostTNode,p)),m}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(VL(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Ft],u=new WD(c,c[Pn],c[Ft]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return df(s,i,o,r),e.attachToViewContainerRef(),rS(Ov(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=LC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Cl(this._lContainer,n);r&&(Ah(Ov(this._lContainer),n),lf(r[fe],r))}detach(e){let n=this._adjustIndex(e,-1),r=Cl(this._lContainer,n);return r&&Ah(Ov(this._lContainer),n)!=null?new $h(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function LC(t){return t[Rh]}function Ov(t){return t[Rh]||(t[Rh]=[])}function C2(t,e){let n,r=e[t.index];return Sr(r)?n=r:(n=VD(r,e,null,t),e[t.index]=n,e_(e,n)),D2(n,e,t,r),new WD(n,t,e)}function S2(t,e){let n=t[Xe],r=n.createComment(""),i=Xn(e,t),o=n.parentNode(i);return Bh(n,o,r,n.nextSibling(i),!1),r}var D2=k2,A2=()=>!1;function x2(t,e,n){return A2(t,e,n)}function k2(t,e,n,r){if(t[ho])return;let i;n.type&8?i=Qn(r):i=S2(e,n),t[ho]=i}var Al=class{},p_=class{};var gy=class extends Al{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new zh(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=sS(e);this._bootstrapComponents=gD(o.bootstrap),this._r3Injector=KS(e,n,[{provide:Al,useValue:this},{provide:hf,useValue:this.componentFactoryResolver},...r],Qt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},my=class extends p_{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new gy(this.moduleType,e,[])}};var qh=class extends Al{injector;componentFactoryResolver=new zh(this);instance=null;constructor(e){super();let n=new _l([...e.providers,{provide:Al,useValue:this},{provide:hf,useValue:this.componentFactoryResolver}],e.parent||Ly(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ff(t,e,n=null){return new qh({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var R2=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=aS(!1,n.type),i=r.length>0?ff([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=G({token:t,providedIn:"environment",factory:()=>new t(pe(Yt))})}return t})();function je(t){return kl(()=>{let e=GD(t),n=ee(V({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===rD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(R2).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Jn.Emulated,styles:t.styles||pn,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Ol("NgStandalone"),KD(n);let r=t.dependencies;return n.directiveDefs=VC(r,!1),n.pipeDefs=VC(r,!0),n.id=L2(n),n})}function M2(t){return Ws(t)||wL(t)}function N2(t){return t!==null}function sa(t){return kl(()=>({type:t.type,bootstrap:t.bootstrap||pn,declarations:t.declarations||pn,imports:t.imports||pn,exports:t.exports||pn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function P2(t,e){if(t==null)return co;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=cf.None,c=null),n[o]=[r,a,c],e[o]=s}return n}function O2(t){if(t==null)return co;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Zt(t){return kl(()=>{let e=GD(t);return KD(e),e})}function GD(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||co,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||pn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:P2(t.inputs,e),outputs:O2(t.outputs),debugInfo:null}}function KD(t){t.features?.forEach(e=>e(t))}function VC(t,e){if(!t)return null;let n=e?IL:M2;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(N2)}function L2(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function V2(t){return Object.getPrototypeOf(t.prototype).constructor}function er(t){let e=V2(t.type),n=!0,r=[t];for(;e;){let i;if(Kn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Lv(t.inputs),s.declaredInputs=Lv(t.declaredInputs),s.outputs=Lv(t.outputs);let a=i.hostBindings;a&&H2(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&U2(t,c),u&&B2(t,u),F2(t,i),X1(t.outputs,i.outputs),Kn(i)&&i.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===er&&(n=!1)}}e=Object.getPrototypeOf(e)}j2(r)}function F2(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function j2(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=El(i.hostAttrs,n=El(n,i.hostAttrs))}}function Lv(t){return t===co?{}:t===pn?[]:t}function U2(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function B2(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function H2(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Co(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function $2(t,e,n,r,i,o,s,a,c){let u=e.consts,d=d_(e,t,4,s||null,a||null);SS()&&HD(e,n,d,Ys(u,c),CD),d.mergedAttrs=El(d.mergedAttrs,d.attrs),VS(e,d);let p=d.tView=Jy(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),p.queries=e.queries.embeddedTView(d)),d}function vy(t,e,n,r,i,o,s,a,c,u){let d=n+mn,p=e.firstCreatePass?$2(d,e,t,r,i,o,s,a,c):e.data[d];Nl(p,!1);let g=z2(e,t,p,n);Hy()&&c_(e,t,g,p),Pl(g,t);let m=VD(g,t,g,p);return t[d]=m,e_(t,m),x2(m,p,t),Vy(p)&&t_(e,t,p),c!=null&&TD(t,p,u),p}function kt(t,e,n,r,i,o,s,a){let c=Se(),u=Ut(),d=Ys(u.consts,o);return vy(c,u,t,e,n,r,i,d,s,a),kt}var z2=q2;function q2(t,e,n,r){return $y(!0),e[Xe].createComment("")}var QD=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var YD=new q("");var ZD=(()=>{class t{static \u0275prov=G({token:t,providedIn:"root",factory:()=>new yy})}return t})(),yy=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function aa(t){return!!t&&typeof t.then=="function"}function W2(t){return!!t&&typeof t.subscribe=="function"}var G2=new q("");var JD=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=R(G2,{optional:!0})??[];injector=R(ft);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=jt(this.injector,i);if(aa(o))n.push(o);else if(W2(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),g_=new q("");function K2(){sv(()=>{throw new z(600,!1)})}function Q2(t){return t.isBoundToModule}var Y2=10;var vo=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=R(AV);afterRenderManager=R(HV);zonelessEnabled=R(qy);rootEffectScheduler=R(ZD);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ot;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=R(bo).hasPendingTasks.pipe(ae(n=>!n));constructor(){R(af,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=R(Yt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=ft.NULL){ke(10);let o=n instanceof BD;if(!this._injector.get(JD).done){let m="";throw new z(405,m)}let a;o?a=n:a=this._injector.get(hf).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let c=Q2(a)?void 0:this._injector.get(Al),u=r||a.selector,d=a.create(i,[],u,c),p=d.location.nativeElement,g=d.injector.get(YD,null);return g?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),bh(this.components,d),g?.unregisterApplication(p)}),this._loadComponent(d),ke(11,d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ke(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(uD.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new z(101,!1);let n=se(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,se(n),this.afterTick.next(),ke(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Zs,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<Y2;)ke(14),this.synchronizeOnce(),ke(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)Z2(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>tf(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;bh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(g_,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>bh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new z(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Z2(t,e,n,r){if(!n&&!tf(t))return;ND(t,e,n&&!r?0:1)}function ca(t,e,n,r){let i=Se(),o=ia();if(Co(i,o,e)){let s=Ut(),a=nf();yF(a,i,t,e,n,r)}return ca}function XD(t,e,n,r){return Co(t,ia(),n)?e+My(n)+r:gi}function _h(t,e){return t<<17|e<<2}function yo(t){return t>>17&32767}function J2(t){return(t&2)==2}function X2(t,e){return t&131071|e<<17}function _y(t){return t|2}function Js(t){return(t&131068)>>2}function Vv(t,e){return t&-131069|e<<2}function ej(t){return(t&1)===1}function wy(t){return t|1}function tj(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=yo(s),c=Js(s);t[r]=n;let u=!1,d;if(Array.isArray(n)){let p=n;d=p[1],(d===null||Rl(p,d)>0)&&(u=!0)}else d=n;if(i)if(c!==0){let g=yo(t[a+1]);t[r+1]=_h(g,a),g!==0&&(t[g+1]=Vv(t[g+1],r)),t[a+1]=X2(t[a+1],r)}else t[r+1]=_h(a,0),a!==0&&(t[a+1]=Vv(t[a+1],r)),a=r;else t[r+1]=_h(c,0),a===0?a=r:t[c+1]=Vv(t[c+1],r),c=r;u&&(t[r+1]=_y(t[r+1])),FC(t,d,r,!0),FC(t,d,r,!1),nj(e,d,t,r,o),s=_h(a,c),o?e.classBindings=s:e.styleBindings=s}function nj(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Rl(o,e)>=0&&(n[r+1]=wy(n[r+1]))}function FC(t,e,n,r){let i=t[n+1],o=e===null,s=r?yo(i):Js(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],u=t[s+1];rj(c,e)&&(a=!0,t[s+1]=r?wy(u):_y(u)),s=r?yo(u):Js(u)}a&&(t[n+1]=r?_y(i):wy(i))}function rj(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Rl(t,e)>=0:!1}function ct(t,e,n){let r=Se(),i=ia();if(Co(r,i,e)){let o=Ut(),s=nf();n_(o,s,r,t,e,r[Xe],n,!1)}return ct}function jC(t,e,n,r,i){r_(e,t,n,i?"class":"style",r)}function mi(t,e){return ij(t,e,null,!0),mi}function ij(t,e,n,r){let i=Se(),o=Ut(),s=QL(2);if(o.firstUpdatePass&&sj(o,t,s,r),e!==gi&&Co(i,s,e)){let a=o.data[Eo()];dj(o,a,i,i[Xe],t,i[s+1]=hj(e,n),r,s)}}function oj(t,e){return e>=t.expandoStartIndex}function sj(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Eo()],s=oj(t,n);fj(o,r)&&e===null&&!s&&(e=!1),e=aj(i,o,e,r),tj(i,o,e,n,s,r)}}function aj(t,e,n,r){let i=XL(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Fv(null,t,e,n,r),n=xl(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Fv(i,t,e,n,r),o===null){let c=cj(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Fv(null,t,e,c[1],r),c=xl(c,e.attrs,r),lj(t,e,r,c))}else o=uj(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function cj(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Js(r)!==0)return t[yo(r)]}function lj(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[yo(i)]=r}function uj(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=xl(r,s,n)}return xl(r,e.attrs,n)}function Fv(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=xl(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function xl(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),yL(t,s,n?!0:e[++o]))}return t===void 0?null:t}function dj(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],d=ej(u)?UC(c,e,n,i,Js(u),s):void 0;if(!Wh(d)){Wh(o)||J2(u)&&(o=UC(c,null,n,i,a,s));let p=wS(Eo(),n);FF(r,s,p,i,o)}}function UC(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),d=u?c[1]:c,p=d===null,g=n[i+1];g===gi&&(g=p?pn:void 0);let m=p?Dv(g,r):d===r?g:void 0;if(u&&!Wh(m)&&(m=Dv(c,r)),Wh(m)&&(a=m,s))return a;let E=t[i+1];i=s?yo(E):Js(E)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Dv(c,r))}return a}function Wh(t){return t!==void 0}function hj(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Qt(zV(t)))),t}function fj(t,e){return(t.flags&(e?8:16))!==0}var Iy=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function jv(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function pj(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let u=t.at(o),d=e[o],p=jv(o,u,o,d,n);if(p!==0){p<0&&t.updateValue(o,d),o++;continue}let g=t.at(s),m=e[c],E=jv(s,g,c,m,n);if(E!==0){E<0&&t.updateValue(s,m),s--,c--;continue}let x=n(o,u),A=n(s,g),M=n(o,d);if(Object.is(M,A)){let j=n(c,m);Object.is(j,x)?(t.swap(o,s),t.updateValue(s,m),c--,s--):t.move(s,o),t.updateValue(o,d),o++;continue}if(r??=new Gh,i??=HC(t,o,s,n),Ey(t,r,o,M))t.updateValue(o,d),o++,s++;else if(i.has(M))r.set(x,t.detach(o)),s--;else{let j=t.create(o,e[o]);t.attach(o,j),o++,s++}}for(;o<=c;)BC(t,r,n,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),u=c.next();for(;!u.done&&o<=s;){let d=t.at(o),p=u.value,g=jv(o,d,o,p,n);if(g!==0)g<0&&t.updateValue(o,p),o++,u=c.next();else{r??=new Gh,i??=HC(t,o,s,n);let m=n(o,p);if(Ey(t,r,o,m))t.updateValue(o,p),o++,s++,u=c.next();else if(!i.has(m))t.attach(o,t.create(o,p)),o++,s++,u=c.next();else{let E=n(o,d);r.set(E,t.detach(o)),s--}}}for(;!u.done;)BC(t,r,n,t.length,u.value),u=c.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(c=>{t.destroy(c)})}function Ey(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function BC(t,e,n,r,i){if(Ey(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function HC(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var Gh=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function Tt(t,e){Ol("NgControlFlow");let n=Se(),r=ia(),i=n[r]!==gi?n[r]:-1,o=i!==-1?Kh(n,mn+i):void 0,s=0;if(Co(n,r,t)){let a=se(null);try{if(o!==void 0&&jD(o,s),t!==-1){let c=mn+t,u=Kh(n,c),d=Sy(n[fe],c),p=Sl(u,d.tView.ssrId),g=o_(n,d,e,{dehydratedView:p});df(u,g,s,Tl(d,p))}}finally{se(a)}}else if(o!==void 0){let a=FD(o,s);a!==void 0&&(a[at]=e)}}var by=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Vt}};function eA(t,e){return e}var Ty=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function la(t,e,n,r,i,o,s,a,c,u,d,p,g){Ol("NgControlFlow");let m=Se(),E=Ut(),x=c!==void 0,A=Se(),M=a?s.bind(A[Nn][at]):s,j=new Ty(x,M);A[mn+t]=j,vy(m,E,t+1,e,n,r,i,Ys(E.consts,o)),x&&vy(m,E,t+2,c,u,d,p,Ys(E.consts,g))}var Cy=class extends Iy{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Vt}at(e){return this.getLView(e)[at].$implicit}attach(e,n){let r=n[wl];this.needsIndexUpdate||=e!==this.length,df(this.lContainer,n,e,Tl(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,gj(this.lContainer,e)}create(e,n){let r=Sl(this.lContainer,this.templateTNode.tView.ssrId),i=o_(this.hostLView,this.templateTNode,new by(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){lf(e[fe],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[at].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[at].$index=e}getLView(e){return mj(this.lContainer,e)}};function ua(t){let e=se(null),n=Eo();try{let r=Se(),i=r[fe],o=r[n],s=n+1,a=Kh(r,s);if(o.liveCollection===void 0){let u=Sy(i,s);o.liveCollection=new Cy(a,r,u)}else o.liveCollection.reset();let c=o.liveCollection;if(pj(c,t,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let u=ia(),d=c.length===0;if(Co(r,u,d)){let p=n+2,g=Kh(r,p);if(d){let m=Sy(i,p),E=Sl(g,m.tView.ssrId),x=o_(r,m,void 0,{dehydratedView:E});df(g,x,0,Tl(m,E))}else jD(g,0)}}}finally{se(e)}}function Kh(t,e){return t[e]}function gj(t,e){return Cl(t,e)}function mj(t,e){return FD(t,e)}function Sy(t,e){return Fy(t,e)}function O(t,e,n,r){let i=Se(),o=Ut(),s=mn+t,a=i[Xe],c=o.firstCreatePass?zD(s,o,i,e,CD,SS(),n,r):o.data[s],u=vj(o,i,c,a,e,t);i[s]=u;let d=Vy(c);return Nl(c,!0),_D(a,u,c),!SD(c)&&Hy()&&c_(o,i,u,c),(UL()===0||d)&&Pl(u,i),BL(),d&&(t_(o,i,c),pD(o,c,i)),r!==null&&TD(i,c),O}function L(){let t=yn();AS()?GL():(t=t.parent,Nl(t,!1));let e=t;zL(e)&&qL(),HL();let n=Ut();return n.firstCreatePass&&qD(n,e),e.classesWithoutHost!=null&&sV(e)&&jC(n,e,Se(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&aV(e)&&jC(n,e,Se(),e.stylesWithoutHost,!1),L}function ye(t,e,n,r){return O(t,e,n,r),L(),ye}var vj=(t,e,n,r,i,o)=>($y(!0),vD(r,i,rV()));function da(){return Se()}var Qh="en-US";var yj=Qh;function _j(t){typeof t=="string"&&(yj=t.toLowerCase().replace(/_/g,"-"))}function $C(t,e,n){return function r(i){if(i===Function)return n;let o=na(t)?Yn(t.index,e):e;u_(o,5);let s=e[at],a=zC(e,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=zC(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function zC(t,e,n,r){let i=se(null);try{return ke(6,e,n),n(r)!==!1}catch(o){return wj(t,o),!1}finally{ke(7,e,n),se(i)}}function wj(t,e){let n=t[lo],r=n?n.get(Zn,null):null;r&&r.handleError(e)}function qC(t,e,n,r,i,o){let s=e[n],a=e[fe],u=a.data[n].outputs[r],d=s[u],p=a.firstCreatePass?CS(a):null,g=TS(e),m=d.subscribe(o),E=g.length;g.push(o,m),p&&p.push(i,t.index,E,-(E+1))}var Ij=new Map;function qe(t,e,n,r){let i=Se(),o=Ut(),s=yn();return tA(o,i,i[Xe],s,t,e,r),qe}function Ej(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[kh],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function tA(t,e,n,r,i,o,s){let a=Vy(r),u=t.firstCreatePass?CS(t):null,d=TS(e),p=!0;if(r.type&3||s){let g=Xn(r,e),m=s?s(g):g,E=d.length,x=s?M=>s(Qn(M[r.index])):r.index,A=null;if(!s&&a&&(A=Ej(t,e,i,r.index)),A!==null){let M=A.__ngLastListenerFn__||A;M.__ngNextListenerFn__=o,A.__ngLastListenerFn__=o,p=!1}else{o=$C(r,e,o);let M=e[lo].get(sf);Ij.get(M)?.(m,i,o);let U=n.listen(m,i,o);d.push(o,U),u&&u.push(i,x,E,E+1)}}else o=$C(r,e,o);if(p){let g=r.outputs?.[i],m=r.hostDirectiveOutputs?.[i];if(m&&m.length)for(let E=0;E<m.length;E+=2){let x=m[E],A=m[E+1];qC(r,e,x,A,i,o)}if(g&&g.length)for(let E of g)qC(r,e,E,i,i,o)}}function Ht(t=1){return tV(t)}function m_(t,e,n){return nA(t,"",e,"",n),m_}function nA(t,e,n,r,i){let o=Se(),s=XD(o,e,n,r);if(s!==gi){let a=Ut(),c=nf();n_(a,c,o,t,s,o[Xe],i,!1)}return nA}function W(t,e=""){let n=Se(),r=Ut(),i=t+mn,o=r.firstCreatePass?d_(r,i,1,e,null):r.data[i],s=bj(r,n,o,e,t);n[i]=s,Hy()&&c_(r,n,s,o),Nl(o,!1)}var bj=(t,e,n,r,i)=>($y(!0),nF(e[Xe],r));function ha(t){return tr("",t,""),ha}function tr(t,e,n){let r=Se(),i=XD(r,t,e,n);return i!==gi&&Tj(r,Eo(),i),tr}function Tj(t,e,n){let r=wS(e,t);rF(t[Xe],r,n)}function v_(t,e,n){tD(e)&&(e=e());let r=Se(),i=ia();if(Co(r,i,e)){let o=Ut(),s=nf();n_(o,s,r,t,e,r[Xe],n,!1)}return v_}function rA(t,e){let n=tD(t);return n&&t.set(e),n}function y_(t,e){let n=Se(),r=Ut(),i=yn();return tA(r,n,n[Xe],i,t,e),y_}function Cj(t,e,n){let r=Ut();if(r.firstCreatePass){let i=Kn(t);Dy(n,r.data,r.blueprint,i,!0),Dy(e,r.data,r.blueprint,i,!1)}}function Dy(t,e,n,r,i){if(t=Lt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Dy(t[o],e,n,r,i);else{let o=Ut(),s=Se(),a=yn(),c=Gs(t)?t:Lt(t.provide),u=uS(t),d=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Gs(t)||!t.multi){let m=new go(u,i,Me),E=Bv(c,e,i?d:d+g,p);E===-1?(Xv(Vh(a,s),o,c),Uv(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(m),s.push(m)):(n[E]=m,s[E]=m)}else{let m=Bv(c,e,d+g,p),E=Bv(c,e,d,d+g),x=m>=0&&n[m],A=E>=0&&n[E];if(i&&!A||!i&&!x){Xv(Vh(a,s),o,c);let M=Aj(i?Dj:Sj,n.length,i,r,u);!i&&A&&(n[E].providerFactory=M),Uv(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(M),s.push(M)}else{let M=iA(n[i?E:m],u,!i&&r);Uv(o,t,m>-1?m:E,M)}!i&&r&&A&&n[E].componentProviders++}}}function Uv(t,e,n,r){let i=Gs(e),o=SL(e);if(i||o){let c=(o?Lt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(n);d===-1?u.push(n,[r,c]):u[d+1].push(r,c)}else u.push(n,c)}}}function iA(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Bv(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Sj(t,e,n,r,i){return Ay(this.multi,[])}function Dj(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Fh(r,r[fe],this.providerFactory.index,i);s=c.slice(0,a),Ay(o,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],Ay(o,s);return s}function Ay(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Aj(t,e,n,r,i){let o=new go(t,n,Me);return o.multi=[],o.index=e,o.componentProviders=0,iA(o,i,r&&!n),o}function fa(t,e=[]){return n=>{n.providersResolver=(r,i)=>Cj(r,i?i(t):t,e)}}var Xs=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},oA=new Xs("19.2.10"),xy=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},sA=(()=>{class t{compileModuleSync(n){return new my(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=sS(n),o=gD(i.declarations).reduce((s,a)=>{let c=Ws(a);return c&&s.push(new Dl(c)),s},[]);return new xy(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var xj=(()=>{class t{zone=R(Ce);changeDetectionScheduler=R(mo);applicationRef=R(vo);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kj=new q("",{factory:()=>!1});function aA({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ce(ee(V({},lA()),{scheduleInRootZone:n})),[{provide:Ce,useFactory:t},{provide:yl,multi:!0,useFactory:()=>{let r=R(xj,{optional:!0});return()=>r.initialize()}},{provide:yl,multi:!0,useFactory:()=>{let r=R(Rj);return()=>{r.initialize()}}},e===!0?{provide:YS,useValue:!0}:[],{provide:ZS,useValue:n??QS}]}function cA(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=aA({ngZoneFactory:()=>{let i=lA(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Ol("NgZone_CoalesceEvent"),new Ce(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Tr([{provide:kj,useValue:!0},{provide:qy,useValue:!1},r])}function lA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Rj=(()=>{class t{subscription=new Ve;initialized=!1;zone=R(Ce);pendingTasks=R(bo);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Mj=(()=>{class t{appRef=R(vo);taskService=R(bo);ngZone=R(Ce);zonelessEnabled=R(qy);tracing=R(af,{optional:!0});disableScheduling=R(YS,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ve;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Uh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(R(ZS,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ry||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?bC:JS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Uh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,bC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Nj(){return typeof $localize<"u"&&$localize.locale||Qh}var uA=new q("",{providedIn:"root",factory:()=>R(uA,le.Optional|le.SkipSelf)||Nj()});var ky=new q(""),Pj=new q("");function pl(t){return!t.moduleRef}function Oj(t){let e=pl(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ce);return n.run(()=>{pl(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Zn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),pl(t)){let o=()=>e.destroy(),s=t.platformInjector.get(ky);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(ky);s.add(o),t.moduleRef.onDestroy(()=>{bh(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return Vj(r,n,()=>{let o=e.get(JD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(uA,Qh);if(_j(s||Qh),!e.get(Pj,!0))return pl(t)?e.get(vo):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(pl(t)){let c=e.get(vo);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return Lj(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function Lj(t,e){let n=t.injector.get(vo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new z(-403,!1);e.push(t)}function Vj(t,e,n){try{let r=n();return aa(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Th=null;function Fj(t=[],e){return ft.create({name:e,providers:[{provide:Jh,useValue:"platform"},{provide:ky,useValue:new Set([()=>Th=null])},...t]})}function jj(t=[]){if(Th)return Th;let e=Fj(t);return Th=e,K2(),Uj(e),e}function Uj(t){let e=t.get(Qy,null);jt(t,()=>{e?.forEach(n=>n())})}function __(){return!1}var pf=(()=>{class t{static __NG_ELEMENT_ID__=Bj}return t})();function Bj(t){return Hj(yn(),Se(),(t&16)===16)}function Hj(t,e,n){if(na(t)&&!n){let r=Yn(t.index,e);return new $h(r,r)}else if(t.type&175){let r=e[Nn];return new $h(r,e)}return null}function dA(t){ke(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=jj(r),o=[aA({}),{provide:mo,useExisting:Mj},...n||[]],s=new qh({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return Oj({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{ke(9)}}function gf(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Ar(t){return lv(t)}function tn(t,e){return ov(t,e?.equal)}var Ry=class{[dn];constructor(e){this[dn]=e}destroy(){this[dn].destroy()}};function mf(t,e){!e?.injector&&Xh(mf);let n=e?.injector??R(ft),r=e?.manualCleanup!==!0?n.get(Dr):null,i,o=n.get(dD,null,{optional:!0}),s=n.get(mo);return o!==null&&!e?.forceRoot?(i=qj(o.view,s,t),r instanceof jh&&r._lView===o.view&&(r=null)):i=Wj(t,n.get(ZD),s),i.injector=n,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new Ry(i)}var hA=ee(V({},Ss),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:bl,run(){if(this.dirty=!1,this.hasRun&&!jd(this))return;this.hasRun=!0;let t=r=>(this.cleanupFns??=[]).push(r),e=al(this),n=Ph(!1);try{this.maybeCleanup(),this.fn(t)}finally{Ph(n),Fd(this,e)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),$j=ee(V({},hA),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){cl(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),zj=ee(V({},hA),{consumerMarkedDirty(){this.view[ie]|=8192,Ml(this.view),this.notifier.notify(13)},destroy(){cl(this),this.onDestroyFn(),this.maybeCleanup(),this.view[uo]?.delete(this)}});function qj(t,e,n){let r=Object.create(zj);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=n,t[uo]??=new Set,t[uo].add(r),r.consumerMarkedDirty(r),r}function Wj(t,e,n){let r=Object.create($j);return r.fn=t,r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(12),r}var Rt=new q("");var gA=null;function wn(){return gA}function w_(t){gA??=t}var Ll=class{},I_=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>R(mA),providedIn:"platform"})}return t})();var mA=(()=>{class t extends I_{_location;_history;_doc=R(Rt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wn().getBaseHref(this._doc)}onPopState(n){let r=wn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=wn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function vA(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function fA(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function vi(t){return t&&t[0]!=="?"?`?${t}`:t}var vf=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>R(_A),providedIn:"root"})}return t})(),yA=new q(""),_A=(()=>{class t extends vf{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??R(Rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return vA(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+vi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+vi(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+vi(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(pe(I_),pe(yA,8))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pa=(()=>{class t{_subject=new ot;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Qj(fA(pA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+vi(r))}normalize(n){return t.stripTrailingSlash(Kj(this._basePath,pA(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=vi;static joinWithSlash=vA;static stripTrailingSlash=fA;static \u0275fac=function(r){return new(r||t)(pe(vf))};static \u0275prov=G({token:t,factory:()=>Gj(),providedIn:"root"})}return t})();function Gj(){return new pa(pe(vf))}function Kj(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function pA(t){return t.replace(/\/index.html$/,"")}function Qj(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function E_(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var b_="browser",wA="server";function yf(t){return t===wA}var Vl=class{};var If=new q(""),D_=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new z(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(pe(If),pe(Ce))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),Fl=class{_doc;constructor(e){this._doc=e}manager},_f="ng-app-id";function IA(t){for(let e of t)e.remove()}function EA(t,e){let n=e.createElement("style");return n.textContent=t,n}function Yj(t,e,n,r){let i=t.head?.querySelectorAll(`style[${_f}="${e}"],link[${_f}="${e}"]`);if(i)for(let o of i)o.removeAttribute(_f),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function C_(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var A_=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=yf(o),Yj(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,EA);r?.forEach(i=>this.addUsage(i,this.external,C_))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(IA(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])IA(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,EA(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,C_(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(_f,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(pe(Rt),pe(sf),pe(Yy,8),pe(To))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),T_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},x_=/%COMP%/g;var TA="%COMP%",Zj=`_nghost-${TA}`,Jj=`_ngcontent-${TA}`,Xj=!0,eU=new q("",{providedIn:"root",factory:()=>Xj});function tU(t){return Jj.replace(x_,t)}function nU(t){return Zj.replace(x_,t)}function CA(t,e){return e.map(n=>n.replace(x_,t))}var k_=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,c,u=null,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=d,this.platformIsServer=yf(a),this.defaultRenderer=new jl(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Jn.ShadowDom&&(r=ee(V({},r),{encapsulation:Jn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof wf?i.applyToHost(n):i instanceof Ul&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case Jn.Emulated:o=new wf(c,u,r,this.appId,d,s,a,p,g);break;case Jn.ShadowDom:return new S_(c,u,n,r,s,a,this.nonce,p,g);default:o=new Ul(c,u,r,d,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(pe(D_),pe(A_),pe(sf),pe(eU),pe(Rt),pe(To),pe(Ce),pe(Yy),pe(af,8))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),jl=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(T_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(bA(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(bA(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new z(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=T_[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=T_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(fi.DashCase|fi.Important)?e.style.setProperty(n,r,i&fi.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&fi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=wn().getGlobalEventTarget(this.doc,e),!e))throw new z(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function bA(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var S_=class extends jl{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,c,u){super(e,o,s,c,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=CA(i.id,d);for(let g of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=g,this.shadowRoot.appendChild(m)}let p=i.getExternalStyles?.();if(p)for(let g of p){let m=C_(g,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ul=class extends jl{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,c,u){super(e,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=u?CA(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},wf=class extends Ul{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,c,u){let d=i+"-"+r.id;super(e,n,r,o,s,a,c,u,d),this.contentAttr=tU(d),this.hostAttr=nU(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Ef=class t extends Ll{supportsDOMEvents=!0;static makeCurrent(){w_(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=rU();return n==null?null:iU(n)}resetBaseElement(){Bl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return E_(document.cookie,e)}},Bl=null;function rU(){return Bl=Bl||document.querySelector("base"),Bl?Bl.getAttribute("href"):null}function iU(t){return new URL(t,document.baseURI).pathname}var oU=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),DA=(()=>{class t extends Fl{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(pe(Rt))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),SA=["alt","control","meta","shift"],sU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},aU={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},AA=(()=>{class t extends Fl{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wn().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),SA.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=sU[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),SA.forEach(s=>{if(s!==i){let a=aU[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(pe(Rt))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})();function R_(t,e){return dA(V({rootComponent:t},cU(e)))}function cU(t){return{appProviders:[...fU,...t?.providers??[]],platformProviders:hU}}function lU(){Ef.makeCurrent()}function uU(){return new Zn}function dU(){return cD(document),document}var hU=[{provide:To,useValue:b_},{provide:Qy,useValue:lU,multi:!0},{provide:Rt,useFactory:dU}];var fU=[{provide:Jh,useValue:"root"},{provide:Zn,useFactory:uU},{provide:If,useClass:DA,multi:!0,deps:[Rt]},{provide:If,useClass:AA,multi:!0,deps:[Rt]},k_,A_,D_,{provide:Zs,useExisting:k_},{provide:Vl,useClass:oU},[]];var xA=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(pe(Rt))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ce="primary",tu=Symbol("RouteTitle"),L_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ao(t){return new L_(t)}function VA(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function gU(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!nr(t[n],e[n]))return!1;return!0}function nr(t,e){let n=t?V_(t):void 0,r=e?V_(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!FA(t[i],e[i]))return!1;return!0}function V_(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function FA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function jA(t){return t.length>0?t[t.length-1]:null}function wi(t){return bv(t)?t:aa(t)?Ne(Promise.resolve(t)):te(t)}var mU={exact:BA,subset:HA},UA={exact:vU,subset:yU,ignored:()=>!0};function kA(t,e,n){return mU[n.paths](t.root,e.root,n.matrixParams)&&UA[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function vU(t,e){return nr(t,e)}function BA(t,e,n){if(!So(t.segments,e.segments)||!Cf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!BA(t.children[r],e.children[r],n))return!1;return!0}function yU(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>FA(t[n],e[n]))}function HA(t,e,n){return $A(t,e,e.segments,n)}function $A(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!So(i,n)||e.hasChildren()||!Cf(i,n,r))}else if(t.segments.length===n.length){if(!So(t.segments,n)||!Cf(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!HA(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!So(t.segments,i)||!Cf(t.segments,i,r)||!t.children[ce]?!1:$A(t.children[ce],e,o,r)}}function Cf(t,e,n){return e.every((r,i)=>UA[n](t[i].parameters,r.parameters))}var ir=class{root;queryParams;fragment;_queryParamMap;constructor(e=new be([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ao(this.queryParams),this._queryParamMap}toString(){return IU.serialize(this)}},be=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sf(this)}},yi=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ao(this.parameters),this._parameterMap}toString(){return qA(this)}};function _U(t,e){return So(t,e)&&t.every((n,r)=>nr(n.parameters,e[r].parameters))}function So(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function wU(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ce&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ce&&(n=n.concat(e(i,r)))}),n}var nu=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>new xo,providedIn:"root"})}return t})(),xo=class{parse(e){let n=new j_(e);return new ir(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Hl(e.root,!0)}`,r=TU(e.queryParams),i=typeof e.fragment=="string"?`#${EU(e.fragment)}`:"";return`${n}${r}${i}`}},IU=new xo;function Sf(t){return t.segments.map(e=>qA(e)).join("/")}function Hl(t,e){if(!t.hasChildren())return Sf(t);if(e){let n=t.children[ce]?Hl(t.children[ce],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ce&&r.push(`${i}:${Hl(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=wU(t,(r,i)=>i===ce?[Hl(t.children[ce],!1)]:[`${i}:${Hl(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ce]!=null?`${Sf(t)}/${n[0]}`:`${Sf(t)}/(${n.join("//")})`}}function zA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bf(t){return zA(t).replace(/%3B/gi,";")}function EU(t){return encodeURI(t)}function F_(t){return zA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Df(t){return decodeURIComponent(t)}function RA(t){return Df(t.replace(/\+/g,"%20"))}function qA(t){return`${F_(t.path)}${bU(t.parameters)}`}function bU(t){return Object.entries(t).map(([e,n])=>`;${F_(e)}=${F_(n)}`).join("")}function TU(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${bf(n)}=${bf(i)}`).join("&"):`${bf(n)}=${bf(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var CU=/^[^\/()?;#]+/;function M_(t){let e=t.match(CU);return e?e[0]:""}var SU=/^[^\/()?;=#]+/;function DU(t){let e=t.match(SU);return e?e[0]:""}var AU=/^[^=?&#]+/;function xU(t){let e=t.match(AU);return e?e[0]:""}var kU=/^[^&#]+/;function RU(t){let e=t.match(kU);return e?e[0]:""}var j_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ce]=new be(e,n)),r}parseSegment(){let e=M_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new yi(Df(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=DU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=M_(this.remaining);i&&(r=i,this.capture(r))}e[Df(n)]=Df(r)}parseQueryParam(e){let n=xU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=RU(this.remaining);s&&(r=s,this.capture(r))}let i=RA(n),o=RA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=M_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new z(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ce);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ce]:new be([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}};function WA(t){return t.segments.length>0?new be([],{[ce]:t}):t}function GA(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=GA(i);if(r===ce&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new be(t.segments,e);return MU(n)}function MU(t){if(t.numberOfChildren===1&&t.children[ce]){let e=t.children[ce];return new be(t.segments.concat(e.segments),e.children)}return t}function _a(t){return t instanceof ir}function KA(t,e,n=null,r=null){let i=QA(t);return YA(i,e,n,r)}function QA(t){let e;function n(o){let s={};for(let c of o.children){let u=n(c);s[c.outlet]=u}let a=new be(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=WA(r);return e??i}function YA(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return N_(i,i,i,n,r);let o=NU(e);if(o.toRoot())return N_(i,i,new be([],{}),n,r);let s=PU(o,i,t),a=s.processChildren?zl(s.segmentGroup,s.index,o.commands):JA(s.segmentGroup,s.index,o.commands);return N_(i,s.segmentGroup,a,n,r)}function xf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Wl(t){return typeof t=="object"&&t!=null&&t.outlets}function N_(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;t===e?s=n:s=ZA(t,e,n);let a=WA(GA(s));return new ir(a,o,i)}function ZA(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=ZA(o,e,n)}),new be(t.segments,r)}var kf=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&xf(r[0]))throw new z(4003,!1);let i=r.find(Wl);if(i&&i!==jA(r))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function NU(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new kf(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new kf(n,e,r)}var va=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function PU(t,e,n){if(t.isAbsolute)return new va(e,!0,0);if(!n)return new va(e,!1,NaN);if(n.parent===null)return new va(n,!0,0);let r=xf(t.commands[0])?0:1,i=n.segments.length-1+r;return OU(n,i,t.numberOfDoubleDots)}function OU(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new z(4005,!1);i=r.segments.length}return new va(r,!1,i-o)}function LU(t){return Wl(t[0])?t[0].outlets:{[ce]:t}}function JA(t,e,n){if(t??=new be([],{}),t.segments.length===0&&t.hasChildren())return zl(t,e,n);let r=VU(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new be(t.segments.slice(0,r.pathIndex),{});return o.children[ce]=new be(t.segments.slice(r.pathIndex),t.children),zl(o,0,i)}else return r.match&&i.length===0?new be(t.segments,{}):r.match&&!t.hasChildren()?U_(t,e,n):r.match?zl(t,0,i):U_(t,e,n)}function zl(t,e,n){if(n.length===0)return new be(t.segments,{});{let r=LU(n),i={};if(Object.keys(r).some(o=>o!==ce)&&t.children[ce]&&t.numberOfChildren===1&&t.children[ce].segments.length===0){let o=zl(t.children[ce],e,n);return new be(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=JA(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new be(t.segments,i)}}function VU(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Wl(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!NA(c,u,s))return o;r+=2}else{if(!NA(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function U_(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Wl(o)){let c=FU(o.outlets);return new be(r,c)}if(i===0&&xf(n[0])){let c=t.segments[e];r.push(new yi(c.path,MA(n[0]))),i++;continue}let s=Wl(o)?o.outlets[ce]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&xf(a)?(r.push(new yi(s,MA(a))),i+=2):(r.push(new yi(s,{})),i++)}return new be(r,{})}function FU(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=U_(new be([],{}),0,r))}),e}function MA(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function NA(t,e,n){return t==n.path&&nr(e,n.parameters)}var Af="imperative",pt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(pt||{}),rn=class{id;url;constructor(e,n){this.id=e,this.url=n}},ko=class extends rn{type=pt.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},xr=class extends rn{urlAfterRedirects;type=pt.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Jt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Jt||{}),Gl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Gl||{}),rr=class extends rn{reason;code;type=pt.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},kr=class extends rn{reason;code;type=pt.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},wa=class extends rn{error;target;type=pt.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Kl=class extends rn{urlAfterRedirects;state;type=pt.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rf=class extends rn{urlAfterRedirects;state;type=pt.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mf=class extends rn{urlAfterRedirects;state;shouldActivate;type=pt.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Nf=class extends rn{urlAfterRedirects;state;type=pt.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pf=class extends rn{urlAfterRedirects;state;type=pt.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Of=class{route;type=pt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Lf=class{route;type=pt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Vf=class{snapshot;type=pt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ff=class{snapshot;type=pt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jf=class{snapshot;type=pt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Uf=class{snapshot;type=pt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ql=class{},Ia=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function jU(t,e){return t.providers&&!t._injector&&(t._injector=ff(t.providers,e,`Route: ${t.path}`)),t._injector??e}function On(t){return t.outlet||ce}function UU(t,e){let n=t.filter(r=>On(r)===e);return n.push(...t.filter(r=>On(r)!==e)),n}function ru(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Bf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ru(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Ta(this.rootInjector)}},Ta=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Bf(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(pe(Yt))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Hf=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=B_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=B_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=H_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return H_(e,this._root).map(n=>n.value)}};function B_(t,e){if(t===e.value)return e;for(let n of e.children){let r=B_(t,n);if(r)return r}return null}function H_(t,e){if(t===e.value)return[e];for(let n of e.children){let r=H_(t,n);if(r.length)return r.unshift(e),r}return[]}var nn=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ma(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Yl=class extends Hf{snapshot;constructor(e,n){super(e),this.snapshot=n,Y_(this,e)}toString(){return this.snapshot.toString()}};function XA(t){let e=BU(t),n=new Et([new yi("",{})]),r=new Et({}),i=new Et({}),o=new Et({}),s=new Et(""),a=new _i(n,r,o,s,i,ce,t,e.root);return a.snapshot=e.root,new Yl(new nn(a,[]),e)}function BU(t){let e={},n={},r={},i="",o=new Do([],e,r,i,n,ce,t,null,{});return new Zl("",new nn(o,[]))}var _i=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ae(u=>u[tu]))??te(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ae(e=>Ao(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ae(e=>Ao(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function $f(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),t.params),data:V(V({},e.data),t.data),resolve:V(V(V(V({},t.data),e.data),i?.data),t._resolvedData)}:r={params:V({},t.params),data:V({},t.data),resolve:V(V({},t.data),t._resolvedData??{})},i&&tx(i)&&(r.resolve[tu]=i.title),r}var Do=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[tu]}constructor(e,n,r,i,o,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ao(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ao(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Zl=class extends Hf{url;constructor(e,n){super(n),this.url=e,Y_(this,n)}toString(){return ex(this._root)}};function Y_(t,e){e.value._routerState=t,e.children.forEach(n=>Y_(t,n))}function ex(t){let e=t.children.length>0?` { ${t.children.map(ex).join(", ")} } `:"";return`${t.value}${e}`}function P_(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,nr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),nr(e.params,n.params)||t.paramsSubject.next(n.params),gU(e.url,n.url)||t.urlSubject.next(n.url),nr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function $_(t,e){let n=nr(t.params,e.params)&&_U(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||$_(t.parent,e.parent))}function tx(t){return typeof t.title=="string"||t.title===null}var nx=new q(""),iu=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ce;activateEvents=new Je;deactivateEvents=new Je;attachEvents=new Je;detachEvents=new Je;routerOutletData=_n(void 0);parentContexts=R(Ta);location=R(f_);changeDetector=R(pf);inputBinder=R(Gf,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new z_(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Zt({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[_o]})}return t})(),z_=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===_i?this.route:e===Ta?this.childContexts:e===nx?this.outletData:this.parent.get(e,n)}},Gf=new q("");function HU(t,e,n){let r=Jl(t,e._root,n?n._root:void 0);return new Yl(r,e)}function Jl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=$U(t,e,n);return new nn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Jl(t,a)),s}}let r=zU(e.value),i=e.children.map(o=>Jl(t,o));return new nn(r,i)}}function $U(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Jl(t,r,i);return Jl(t,r)})}function zU(t){return new _i(new Et(t.url),new Et(t.params),new Et(t.queryParams),new Et(t.fragment),new Et(t.data),t.outlet,t.component,t)}var Ea=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},rx="ngNavigationCancelingError";function zf(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=_a(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ix(!1,Jt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function ix(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[rx]=!0,n.cancellationCode=e,n}function qU(t){return ox(t)&&_a(t.url)}function ox(t){return!!t&&t[rx]}var WU=(t,e,n,r)=>ae(i=>(new q_(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),q_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),P_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ma(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ma(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ma(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ma(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Uf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ff(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(P_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),P_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},qf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ya=class{component;route;constructor(e,n){this.component=e,this.route=n}};function GU(t,e,n){let r=t._root,i=e?e._root:null;return $l(r,i,n,[r.value])}function KU(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ca(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!YC(t)?t:e.get(t):r}function $l(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ma(e);return t.children.forEach(s=>{QU(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ql(a,n.getContext(s),i)),i}function QU(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=YU(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new qf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?$l(t,e,a?a.children:null,r,i):$l(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ya(a.outlet.component,s))}else s&&ql(e,a,i),i.canActivateChecks.push(new qf(r)),o.component?$l(t,null,a?a.children:null,r,i):$l(t,null,n,r,i);return i}function YU(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!So(t.url,e.url);case"pathParamsOrQueryParamsChange":return!So(t.url,e.url)||!nr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$_(t,e)||!nr(t.queryParams,e.queryParams);case"paramsChange":default:return!$_(t,e)}}function ql(t,e,n){let r=ma(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ql(s,e.children.getContext(o),n):ql(s,null,n):ql(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ya(e.outlet.component,i)):n.canDeactivateChecks.push(new ya(null,i)):n.canDeactivateChecks.push(new ya(null,i))}function ou(t){return typeof t=="function"}function ZU(t){return typeof t=="boolean"}function JU(t){return t&&ou(t.canLoad)}function XU(t){return t&&ou(t.canActivate)}function eB(t){return t&&ou(t.canActivateChild)}function tB(t){return t&&ou(t.canDeactivate)}function nB(t){return t&&ou(t.canMatch)}function sx(t){return t instanceof Ir||t?.name==="EmptyError"}var Tf=Symbol("INITIAL_VALUE");function ba(){return kn(t=>fh(t.map(e=>e.pipe(Er(1),vh(Tf)))).pipe(ae(e=>{for(let n of e)if(n!==!0){if(n===Tf)return Tf;if(n===!1||rB(n))return n}return!0}),hn(e=>e!==Tf),Er(1)))}function rB(t){return _a(t)||t instanceof Ea}function iB(t,e){return st(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?te(ee(V({},n),{guardsResult:!0})):oB(s,r,i,t).pipe(st(a=>a&&ZU(a)?sB(r,o,t,e):te(a)),ae(a=>ee(V({},n),{guardsResult:a})))})}function oB(t,e,n,r){return Ne(t).pipe(st(i=>dB(i.component,i.route,n,e,r)),br(i=>i!==!0,!0))}function sB(t,e,n,r){return Ne(e).pipe(js(i=>Fs(cB(i.route.parent,r),aB(i.route,r),uB(t,i.path,n),lB(t,i.route,n))),br(i=>i!==!0,!0))}function aB(t,e){return t!==null&&e&&e(new jf(t)),te(!0)}function cB(t,e){return t!==null&&e&&e(new Vf(t)),te(!0)}function lB(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return te(!0);let i=r.map(o=>ph(()=>{let s=ru(e)??n,a=Ca(o,s),c=XU(a)?a.canActivate(e,t):jt(s,()=>a(e,t));return wi(c).pipe(br())}));return te(i).pipe(ba())}function uB(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>KU(s)).filter(s=>s!==null).map(s=>ph(()=>{let a=s.guards.map(c=>{let u=ru(s.node)??n,d=Ca(c,u),p=eB(d)?d.canActivateChild(r,t):jt(u,()=>d(r,t));return wi(p).pipe(br())});return te(a).pipe(ba())}));return te(o).pipe(ba())}function dB(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return te(!0);let s=o.map(a=>{let c=ru(e)??i,u=Ca(a,c),d=tB(u)?u.canDeactivate(t,e,n,r):jt(c,()=>u(t,e,n,r));return wi(d).pipe(br())});return te(s).pipe(ba())}function hB(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return te(!0);let o=i.map(s=>{let a=Ca(s,t),c=JU(a)?a.canLoad(e,n):jt(t,()=>a(e,n));return wi(c)});return te(o).pipe(ba(),ax(r))}function ax(t){return Kd(bt(e=>{if(typeof e!="boolean")throw zf(t,e)}),ae(e=>e===!0))}function fB(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return te(!0);let o=i.map(s=>{let a=Ca(s,t),c=nB(a)?a.canMatch(e,n):jt(t,()=>a(e,n));return wi(c)});return te(o).pipe(ba(),ax(r))}var Xl=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},eu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ga(t){return Vs(new Xl(t))}function pB(t){return Vs(new z(4e3,!1))}function gB(t){return Vs(ix(!1,Jt.GuardRejected))}var W_=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return te(r);if(i.numberOfChildren>1||!i.children[ce])return pB(`${e.redirectTo}`);i=i.children[ce]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:u,routeConfig:d,url:p,outlet:g,params:m,data:E,title:x}=i,A=jt(o,()=>a({params:m,data:E,queryParams:c,fragment:u,routeConfig:d,url:p,outlet:g,title:x}));if(A instanceof ir)throw new eu(A);n=A}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new eu(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new ir(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new be(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new z(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},G_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mB(t,e,n,r,i){let o=cx(t,e,n);return o.matched?(r=jU(e,r),fB(r,e,n,i).pipe(ae(s=>s===!0?o:V({},G_)))):te(o)}function cx(t,e,n){if(e.path==="**")return vB(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?V({},G_):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||VA)(n,t,e);if(!i)return V({},G_);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?V(V({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function vB(t){return{matched:!0,parameters:t.length>0?jA(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function PA(t,e,n,r){return n.length>0&&wB(t,n,r)?{segmentGroup:new be(e,_B(r,new be(n,t.children))),slicedSegments:[]}:n.length===0&&IB(t,n,r)?{segmentGroup:new be(t.segments,yB(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new be(t.segments,t.children),slicedSegments:n}}function yB(t,e,n,r){let i={};for(let o of n)if(Kf(t,e,o)&&!r[On(o)]){let s=new be([],{});i[On(o)]=s}return V(V({},r),i)}function _B(t,e){let n={};n[ce]=e;for(let r of t)if(r.path===""&&On(r)!==ce){let i=new be([],{});n[On(r)]=i}return n}function wB(t,e,n){return n.some(r=>Kf(t,e,r)&&On(r)!==ce)}function IB(t,e,n){return n.some(r=>Kf(t,e,r))}function Kf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function EB(t,e,n){return e.length===0&&!t.children[n]}var K_=class{};function bB(t,e,n,r,i,o,s="emptyOnly"){return new Q_(t,e,n,r,i,s,o).recognize()}var TB=31,Q_=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new W_(this.urlSerializer,this.urlTree)}noMatchError(e){return new z(4002,`'${e.segmentGroup}'`)}recognize(){let e=PA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ae(({children:n,rootSnapshot:r})=>{let i=new nn(r,n),o=new Zl("",i),s=KA(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Do([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ce,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ce,n).pipe(ae(r=>({children:r,rootSnapshot:n})),ci(r=>{if(r instanceof eu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Xl?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(ae(s=>s instanceof nn?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ne(o).pipe(js(s=>{let a=r.children[s],c=UU(n,s);return this.processSegmentGroup(e,c,a,s,i)}),mh((s,a)=>(s.push(...a),s)),li(null),Cv(),st(s=>{if(s===null)return ga(r);let a=lx(s);return CB(a),te(a)}))}processSegment(e,n,r,i,o,s,a){return Ne(n).pipe(js(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(ci(u=>{if(u instanceof Xl)return te(null);throw u}))),br(c=>!!c),ci(c=>{if(sx(c))return EB(r,i,o)?te(new K_):ga(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return On(r)!==s&&(s===ce||!Kf(i,o,r))?ga(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):ga(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:p,remainingSegments:g}=cx(n,i,o);if(!c)return ga(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>TB&&(this.allowRedirects=!1));let m=new Do(o,u,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,OA(i),On(i),i.component??i._loadedComponent??null,i,LA(i)),E=$f(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(E.params),m.data=Object.freeze(E.data);let x=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,p,m,e);return this.applyRedirects.lineralizeSegments(i,x).pipe(st(A=>this.processSegment(e,r,n,A.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=mB(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(kn(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(kn(({routes:u})=>{let d=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:m}=c,E=new Do(g,p,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,OA(r),On(r),r.component??r._loadedComponent??null,r,LA(r)),x=$f(E,s,this.paramsInheritanceStrategy);E.params=Object.freeze(x.params),E.data=Object.freeze(x.data);let{segmentGroup:A,slicedSegments:M}=PA(n,g,m,u);if(M.length===0&&A.hasChildren())return this.processChildren(d,u,A,E).pipe(ae(U=>new nn(E,U)));if(u.length===0&&M.length===0)return te(new nn(E,[]));let j=On(r)===o;return this.processSegment(d,u,A,M,j?ce:o,!0,E).pipe(ae(U=>new nn(E,U instanceof nn?[U]:[])))}))):ga(n)))}getChildConfig(e,n,r){return n.children?te({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?te({routes:n._loadedRoutes,injector:n._loadedInjector}):hB(e,n,r,this.urlSerializer).pipe(st(i=>i?this.configLoader.loadChildren(e,n).pipe(bt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):gB(n))):te({routes:[],injector:e})}};function CB(t){t.sort((e,n)=>e.value.outlet===ce?-1:n.value.outlet===ce?1:e.value.outlet.localeCompare(n.value.outlet))}function SB(t){let e=t.value.routeConfig;return e&&e.path===""}function lx(t){let e=[],n=new Set;for(let r of t){if(!SB(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=lx(r.children);e.push(new nn(r.value,i))}return e.filter(r=>!n.has(r))}function OA(t){return t.data||{}}function LA(t){return t.resolve||{}}function DB(t,e,n,r,i,o){return st(s=>bB(t,e,n,r,s.extractedUrl,i,o).pipe(ae(({state:a,tree:c})=>ee(V({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function AB(t,e){return st(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return te(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of ux(c))s.add(u);let a=0;return Ne(s).pipe(js(c=>o.has(c)?xB(c,r,t,e):(c.data=$f(c,c.parent,t).resolve,te(void 0))),bt(()=>a++),Us(1),st(c=>a===s.size?te(n):Gt))})}function ux(t){let e=t.children.map(n=>ux(n)).flat();return[t,...e]}function xB(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!tx(i)&&(o[tu]=i.title),kB(o,t,e,r).pipe(ae(s=>(t._resolvedData=s,t.data=$f(t,t.parent,n).resolve,null)))}function kB(t,e,n,r){let i=V_(t);if(i.length===0)return te({});let o={};return Ne(i).pipe(st(s=>RB(t[s],e,n,r).pipe(br(),bt(a=>{if(a instanceof Ea)throw zf(new xo,a);o[s]=a}))),Us(1),ae(()=>o),ci(s=>sx(s)?Gt:Vs(s)))}function RB(t,e,n,r){let i=ru(e)??r,o=Ca(t,i),s=o.resolve?o.resolve(e,n):jt(i,()=>o(e,n));return wi(s)}function O_(t){return kn(e=>{let n=t(e);return n?Ne(n).pipe(ae(()=>e)):te(e)})}var Z_=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ce);return r}getResolvedTitleForRoute(n){return n.data[tu]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>R(dx),providedIn:"root"})}return t})(),dx=(()=>{class t extends Z_{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(pe(xA))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),su=new q("",{providedIn:"root",factory:()=>({})}),J_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=je({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ye(0,"router-outlet")},dependencies:[iu],encapsulation:2})}return t})();function X_(t){let e=t.children&&t.children.map(X_),n=e?ee(V({},t),{children:e}):V({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ce&&(n.component=J_),n}var au=new q(""),hx=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=R(sA);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return te(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=wi(n.loadComponent()).pipe(ae(px),bt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),fl(()=>{this.componentLoaders.delete(n)})),i=new Ns(r,()=>new ot).pipe(Ms());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return te({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=fx(r,this.compiler,n,this.onLoadEndListener).pipe(fl(()=>{this.childrenLoaders.delete(r)})),s=new Ns(o,()=>new ot).pipe(Ms());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fx(t,e,n,r){return wi(t.loadChildren()).pipe(ae(px),st(i=>i instanceof p_||Array.isArray(i)?te(i):Ne(e.compileModuleAsync(i))),ae(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(au,[],{optional:!0,self:!0}).flat()),{routes:s.map(X_),injector:o}}))}function MB(t){return t&&typeof t=="object"&&"default"in t}function px(t){return MB(t)?t.default:t}var Qf=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>R(NB),providedIn:"root"})}return t})(),NB=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gx=new q("");var mx=new q(""),vx=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ot;transitionAbortSubject=new ot;configLoader=R(hx);environmentInjector=R(Yt);destroyRef=R(Dr);urlSerializer=R(nu);rootContexts=R(Ta);location=R(pa);inputBindingEnabled=R(Gf,{optional:!0})!==null;titleStrategy=R(Z_);options=R(su,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=R(Qf);createViewTransition=R(gx,{optional:!0});navigationErrorHandler=R(mx,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>te(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Of(i)),r=i=>this.events.next(new Lf(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ee(V({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new Et(null),this.transitions.pipe(hn(r=>r!==null),kn(r=>{let i=!1,o=!1;return te(r).pipe(kn(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Jt.SupersededByNewNavigation),Gt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ee(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&c!=="reload"){let u="";return this.events.next(new kr(s.id,this.urlSerializer.serialize(s.rawUrl),u,Gl.IgnoredSameUrlNavigation)),s.resolve(!1),Gt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return te(s).pipe(kn(u=>(this.events.next(new ko(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Gt:Promise.resolve(u))),DB(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),bt(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=ee(V({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let d=new Kl(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:d,source:p,restoredState:g,extras:m}=s,E=new ko(u,this.urlSerializer.serialize(d),p,g);this.events.next(E);let x=XA(this.rootComponentType).snapshot;return this.currentTransition=r=ee(V({},s),{targetSnapshot:x,urlAfterRedirects:d,extras:ee(V({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,te(r)}else{let u="";return this.events.next(new kr(s.id,this.urlSerializer.serialize(s.extractedUrl),u,Gl.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Gt}}),bt(s=>{let a=new Rf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ae(s=>(this.currentTransition=r=ee(V({},s),{guards:GU(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),iB(this.environmentInjector,s=>this.events.next(s)),bt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw zf(this.urlSerializer,s.guardsResult);let a=new Mf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),hn(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Jt.GuardRejected),!1)),O_(s=>{if(s.guards.canActivateChecks.length!==0)return te(s).pipe(bt(a=>{let c=new Nf(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),kn(a=>{let c=!1;return te(a).pipe(AB(this.paramsInheritanceStrategy,this.environmentInjector),bt({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Jt.NoDataFromResolver)}}))}),bt(a=>{let c=new Pf(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),O_(s=>{let a=c=>{let u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(bt(d=>{c.component=d}),ae(()=>{})));for(let d of c.children)u.push(...a(d));return u};return fh(a(s.targetSnapshot.root)).pipe(li(null),Er(1))}),O_(()=>this.afterPreactivation()),kn(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?Ne(c).pipe(ae(()=>r)):te(r)}),ae(s=>{let a=HU(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ee(V({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),bt(()=>{this.events.next(new Ql)}),WU(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Er(1),bt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xr(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Sv(this.transitionAbortSubject.pipe(bt(s=>{throw s}))),fl(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Jt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),ci(s=>{if(this.destroyed)return r.resolve(!1),Gt;if(o=!0,ox(s))this.events.next(new rr(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),qU(s)?this.events.next(new Ia(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new wa(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=jt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Ea){let{message:u,cancellationCode:d}=zf(this.urlSerializer,c);this.events.next(new rr(r.id,this.urlSerializer.serialize(r.extractedUrl),u,d)),this.events.next(new Ia(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Gt}))}))}cancelNavigationTransition(n,r,i){let o=new rr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function PB(t){return t!==Af}var yx=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>R(OB),providedIn:"root"})}return t})(),Wf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},OB=(()=>{class t extends Wf{static \u0275fac=(()=>{let n;return function(i){return(n||(n=oa(t)))(i||t)}})();static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_x=(()=>{class t{urlSerializer=R(nu);options=R(su,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=R(pa);urlHandlingStrategy=R(Qf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ir;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof ir?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=XA(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>R(LB),providedIn:"root"})}return t})(),LB=(()=>{class t extends _x{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof ko?this.updateStateMemento():n instanceof kr?this.commitTransition(r):n instanceof Kl?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Ql?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof rr&&(n.code===Jt.GuardRejected||n.code===Jt.NoDataFromResolver)?this.restoreHistory(r):n instanceof wa?this.restoreHistory(r,!0):n instanceof xr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,c=V(V({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=V(V({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=oa(t)))(i||t)}})();static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ew(t,e){t.events.pipe(hn(n=>n instanceof xr||n instanceof rr||n instanceof wa||n instanceof kr),ae(n=>n instanceof xr||n instanceof kr?0:(n instanceof rr?n.code===Jt.Redirect||n.code===Jt.SupersededByNewNavigation:!1)?2:1),hn(n=>n!==2),Er(1)).subscribe(()=>{e()})}var VB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},FB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ln=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=R(QD);stateManager=R(_x);options=R(su,{optional:!0})||{};pendingTasks=R(bo);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=R(vx);urlSerializer=R(nu);location=R(pa);urlHandlingStrategy=R(Qf);_events=new ot;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=R(yx);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=R(au,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!R(Gf,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ve;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof rr&&r.code!==Jt.Redirect&&r.code!==Jt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof xr)this.navigated=!0;else if(r instanceof Ia){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=V({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||PB(i.source)},s);this.scheduleNavigation(a,Af,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}UB(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Af,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=V({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(X_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=QA(g)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return YA(p,n,d,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=_a(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Af,null,r)}navigate(n,r={skipLocationChange:!1}){return jB(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=V({},VB):r===!1?i=V({},FB):i=r,_a(n))return kA(this.currentUrlTree,n,i);let o=this.parseUrl(n);return kA(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((p,g)=>{a=p,c=g});let d=this.pendingTasks.add();return ew(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jB(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new z(4008,!1)}function UB(t){return!(t instanceof Ql)&&!(t instanceof Ia)}var HB=new q("");function tw(t,...e){return Tr([{provide:au,multi:!0,useValue:t},[],{provide:_i,useFactory:$B,deps:[Ln]},{provide:g_,multi:!0,useFactory:zB},e.map(n=>n.\u0275providers)])}function $B(t){return t.routerState.root}function zB(){let t=R(ft);return e=>{let n=t.get(vo);if(e!==n.components[0])return;let r=t.get(Ln),i=t.get(qB);t.get(WB)===1&&r.initialNavigation(),t.get(GB,null,le.Optional)?.setUpPreloading(),t.get(HB,null,le.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var qB=new q("",{factory:()=>new ot}),WB=new q("",{providedIn:"root",factory:()=>1});var GB=new q("");var Ax=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(Me(h_),Me(of))};static \u0275dir=Zt({type:t})}return t})(),QB=(()=>{class t extends Ax{static \u0275fac=(()=>{let n;return function(i){return(n||(n=oa(t)))(i||t)}})();static \u0275dir=Zt({type:t,features:[er]})}return t})(),cw=new q("");var YB={provide:cw,useExisting:pi(()=>Ei),multi:!0};function ZB(){let t=wn()?wn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var JB=new q(""),Ei=(()=>{class t extends Ax{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!ZB())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(Me(h_),Me(of),Me(JB,8))};static \u0275dir=Zt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&qe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[fa([YB]),er]})}return t})();function lw(t){return t==null||uw(t)===0}function uw(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var op=new q(""),dw=new q(""),XB=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Rr=class{static min(e){return eH(e)}static max(e){return tH(e)}static required(e){return xx(e)}static requiredTrue(e){return nH(e)}static email(e){return rH(e)}static minLength(e){return iH(e)}static maxLength(e){return oH(e)}static pattern(e){return sH(e)}static nullValidator(e){return Zf()}static compose(e){return Ox(e)}static composeAsync(e){return Vx(e)}};function eH(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function tH(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function xx(t){return lw(t.value)?{required:!0}:null}function nH(t){return t.value===!0?null:{required:!0}}function rH(t){return lw(t.value)||XB.test(t.value)?null:{email:!0}}function iH(t){return e=>{let n=e.value?.length??uw(e.value);return n===null||n===0?null:n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}function oH(t){return e=>{let n=e.value?.length??uw(e.value);return n!==null&&n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}function sH(t){if(!t)return Zf;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(lw(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Zf(t){return null}function kx(t){return t!=null}function Rx(t){return aa(t)?Ne(t):t}function Mx(t){let e={};return t.forEach(n=>{e=n!=null?V(V({},e),n):e}),Object.keys(e).length===0?null:e}function Nx(t,e){return e.map(n=>n(t))}function aH(t){return!t.validate}function Px(t){return t.map(e=>aH(e)?e:n=>e.validate(n))}function Ox(t){if(!t)return null;let e=t.filter(kx);return e.length==0?null:function(n){return Mx(Nx(n,e))}}function Lx(t){return t!=null?Ox(Px(t)):null}function Vx(t){if(!t)return null;let e=t.filter(kx);return e.length==0?null:function(n){let r=Nx(n,e).map(Rx);return Tv(r).pipe(ae(Mx))}}function Fx(t){return t!=null?Vx(Px(t)):null}function wx(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function jx(t){return t._rawValidators}function Ux(t){return t._rawAsyncValidators}function nw(t){return t?Array.isArray(t)?t:[t]:[]}function Jf(t,e){return Array.isArray(t)?t.includes(e):t===e}function Ix(t,e){let n=nw(e);return nw(t).forEach(i=>{Jf(n,i)||n.push(i)}),n}function Ex(t,e){return nw(e).filter(n=>!Jf(t,n))}var Xf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Lx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Fx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ro=class extends Xf{name;get formDirective(){return null}get path(){return null}},Mo=class extends Xf{_parent=null;name=null;valueAccessor=null},ep=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},cH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},oX=ee(V({},cH),{"[class.ng-submitted]":"isSubmitted"}),xa=(()=>{class t extends ep{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(Me(Mo,2))};static \u0275dir=Zt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&mi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[er]})}return t})(),sp=(()=>{class t extends ep{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(Me(Ro,10))};static \u0275dir=Zt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&mi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[er]})}return t})();var cu="VALID",Yf="INVALID",Sa="PENDING",lu="DISABLED",Ii=class{},tp=class extends Ii{value;source;constructor(e,n){super(),this.value=e,this.source=n}},uu=class extends Ii{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},du=class extends Ii{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Da=class extends Ii{status;source;constructor(e,n){super(),this.status=e,this.source=n}},rw=class extends Ii{source;constructor(e){super(),this.source=e}},iw=class extends Ii{source;constructor(e){super(),this.source=e}};function hw(t){return(ap(t)?t.validators:t)||null}function lH(t){return Array.isArray(t)?Lx(t):t||null}function fw(t,e){return(ap(e)?e.asyncValidators:t)||null}function uH(t){return Array.isArray(t)?Fx(t):t||null}function ap(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Bx(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new z(1e3,"");if(!r[n])throw new z(1001,"")}function Hx(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new z(1002,"")})}var Aa=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Ar(this.statusReactive)}set status(e){Ar(()=>this.statusReactive.set(e))}_status=tn(()=>this.statusReactive());statusReactive=Fe(void 0);get valid(){return this.status===cu}get invalid(){return this.status===Yf}get pending(){return this.status==Sa}get disabled(){return this.status===lu}get enabled(){return this.status!==lu}errors;get pristine(){return Ar(this.pristineReactive)}set pristine(e){Ar(()=>this.pristineReactive.set(e))}_pristine=tn(()=>this.pristineReactive());pristineReactive=Fe(!0);get dirty(){return!this.pristine}get touched(){return Ar(this.touchedReactive)}set touched(e){Ar(()=>this.touchedReactive.set(e))}_touched=tn(()=>this.touchedReactive());touchedReactive=Fe(!1);get untouched(){return!this.touched}_events=new ot;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ix(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ix(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ex(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ex(e,this._rawAsyncValidators))}hasValidator(e){return Jf(this._rawValidators,e)}hasAsyncValidator(e){return Jf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ee(V({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new du(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new du(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ee(V({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new uu(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new uu(!0,r))}markAsPending(e={}){this.status=Sa;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Da(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ee(V({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=lu,this.errors=null,this._forEachChild(i=>{i.disable(ee(V({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new tp(this.value,r)),this._events.next(new Da(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ee(V({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=cu,this._forEachChild(r=>{r.enable(ee(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ee(V({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cu||this.status===Sa)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new tp(this.value,n)),this._events.next(new Da(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ee(V({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?lu:cu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Sa,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=Rx(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Da(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Je,this.statusChanges=new Je}_calculateStatus(){return this._allControlsDisabled()?lu:this.errors?Yf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sa)?Sa:this._anyControlsHaveStatus(Yf)?Yf:cu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new uu(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new du(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ap(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=lH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=uH(this._rawAsyncValidators)}},np=class extends Aa{constructor(e,n,r){super(hw(n),fw(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Hx(this,!0,e),Object.keys(e).forEach(r=>{Bx(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ow=class extends np{};var cp=new q("",{providedIn:"root",factory:()=>lp}),lp="always";function $x(t,e){return[...e.path,t]}function sw(t,e,n=lp){pw(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),hH(t,e),pH(t,e),fH(t,e),dH(t,e)}function bx(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ip(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function rp(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function dH(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function pw(t,e){let n=jx(t);e.validator!==null?t.setValidators(wx(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Ux(t);e.asyncValidator!==null?t.setAsyncValidators(wx(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();rp(e._rawValidators,i),rp(e._rawAsyncValidators,i)}function ip(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=jx(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=Ux(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return rp(e._rawValidators,r),rp(e._rawAsyncValidators,r),n}function hH(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&zx(t,e)})}function fH(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&zx(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function zx(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function pH(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function gH(t,e){t==null,pw(t,e)}function mH(t,e){return ip(t,e)}function qx(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function vH(t){return Object.getPrototypeOf(t.constructor)===QB}function yH(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Wx(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Ei?n=o:vH(o)?r=o:i=o}),i||r||n||null}function _H(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Tx(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Cx(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var hu=class extends Aa{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(hw(n),fw(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ap(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Cx(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Tx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Tx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Cx(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var wH=t=>t instanceof hu;var IH={provide:Mo,useExisting:pi(()=>gw)},Sx=Promise.resolve(),gw=(()=>{class t extends Mo{_changeDetectorRef;callSetDisabledState;control=new hu;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Je;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Wx(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),qx(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){sw(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){Sx.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&gf(r);Sx.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?$x(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(Me(Ro,9),Me(op,10),Me(dw,10),Me(cw,10),Me(pf,8),Me(cp,8))};static \u0275dir=Zt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[fa([IH]),er,_o]})}return t})();var up=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Zt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var Gx=new q("");var EH={provide:Ro,useExisting:pi(()=>fu)},fu=(()=>{class t extends Ro{callSetDisabledState;get submitted(){return Ar(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=tn(()=>this._submittedReactive());_submittedReactive=Fe(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Je;constructor(n,r,i){super(),this.callSetDisabledState=i,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ip(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return sw(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){bx(n.control||null,n,!1),_H(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),yH(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new rw(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new iw(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(bx(r||null,n),wH(i)&&(sw(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);gH(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&mH(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){pw(this.form,this),this._oldForm&&ip(this._oldForm,this)}static \u0275fac=function(r){return new(r||t)(Me(op,10),Me(dw,10),Me(cp,8))};static \u0275dir=Zt({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&qe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[fa([EH]),er,_o]})}return t})();var bH={provide:Mo,useExisting:pi(()=>pu)},pu=(()=>{class t extends Mo{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new Je;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Wx(this,o)}ngOnChanges(n){this._added||this._setUpControl(),qx(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return $x(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||t)(Me(Ro,13),Me(op,10),Me(dw,10),Me(cw,10),Me(Gx,8))};static \u0275dir=Zt({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[fa([bH]),er,_o]})}return t})();var TH=(()=>{class t{_validator=Zf;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Zf,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Zt({type:t,features:[_o]})}return t})();var CH={provide:op,useExisting:pi(()=>No),multi:!0};var No=(()=>{class t extends TH{required;inputName="required";normalizeInput=gf;createValidator=n=>xx;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=oa(t)))(i||t)}})();static \u0275dir=Zt({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ca("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[fa([CH]),er]})}return t})();var Kx=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=sa({type:t});static \u0275inj=ea({})}return t})(),aw=class extends Aa{constructor(e,n,r){super(hw(n),fw(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){Hx(this,!1,e),e.forEach((r,i)=>{Bx(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Dx(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var dp=(()=>{class t{useNonNullable=!1;get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return Dx(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new np(i,o)}record(n,r=null){let i=this._reduceControls(n);return new ow(i,r)}control(n,r,i){let o={};return this.useNonNullable?(Dx(r)?o=r:(o.validators=r,o.asyncValidators=i),new hu(n,ee(V({},o),{nonNullable:!0}))):new hu(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new aw(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof hu)return n;if(n instanceof Aa)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Qx=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:cp,useValue:n.callSetDisabledState??lp}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=sa({type:t});static \u0275inj=ea({imports:[Kx]})}return t})(),hp=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Gx,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:cp,useValue:n.callSetDisabledState??lp}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=sa({type:t});static \u0275inj=ea({imports:[Kx]})}return t})();var Yx=()=>{};var Xx=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},SH=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},fp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|u>>6,m=u&63;c||(m=64,s||(g=64)),r.push(n[d],n[p],n[g],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Xx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||p==null)throw new yw;let g=o<<2|a>>4;if(r.push(g),u!==64){let m=a<<4&240|u>>2;if(r.push(m),p!==64){let E=u<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},yw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},DH=function(t){let e=Xx(t);return fp.encodeByteArray(e,!0)},mu=function(t){return DH(t).replace(/\./g,"")},pp=function(t){try{return fp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ww(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var AH=()=>ww().__FIREBASE_DEFAULTS__,xH=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&pp(t[1]);return e&&JSON.parse(e)},gp=()=>{try{return Yx()||AH()||xH()||kH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Iw=t=>{var e,n;return(n=(e=gp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ek=t=>{let e=Iw(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ew=()=>{var t;return(t=gp())===null||t===void 0?void 0:t.config},bw=t=>{var e;return(e=gp())===null||e===void 0?void 0:e[`_${t}`]};var Po=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Oo(t){return t.endsWith(".cloudworkstations.dev")}function mp(t){return w(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function tk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mu(JSON.stringify(n)),mu(JSON.stringify(s)),""].join(".")}var gu={};function RH(){let t={prod:[],emulator:[]};for(let e of Object.keys(gu))gu[e]?t.emulator.push(e):t.prod.push(e);return t}function MH(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var Zx=!1;function ka(t,e){if(typeof window>"u"||typeof document>"u"||!Oo(window.location.host)||gu[t]===e||gu[t]||Zx)return;gu[t]=e;function n(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=RH().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{Zx=!0,s()},g}function d(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=MH(r),m=n("text"),E=document.getElementById(m)||document.createElement("span"),x=n("learnmore"),A=document.getElementById(x)||document.createElement("a"),M=n("preprendIcon"),j=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let U=g.element;a(U),d(A,x);let B=u();c(j,M),U.append(j,E,A,B),document.body.appendChild(U)}o?(E.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function NH(){var t;let e=(t=gp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ik(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ok(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sk(){let t=gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ak(){return!NH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vu(){try{return typeof indexedDB=="object"}catch{return!1}}function ck(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var PH="FirebaseError",on=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=PH,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vn.prototype.create)}},Vn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?OH(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new on(i,a,r)}};function OH(t,e){return t.replace(LH,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var LH=/\{\$([^}]+)}/g;function lk(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function or(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(Jx(o)&&Jx(s)){if(!or(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Jx(t){return t!==null&&typeof t=="object"}function yu(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ra(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ma(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function uk(t,e){let n=new _w(t,e);return n.subscribe.bind(n)}var _w=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");VH(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=vw),i.error===void 0&&(i.error=vw),i.complete===void 0&&(i.complete=vw);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function VH(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vw(){}var uX=4*60*60*1e3;function Ge(t){return t&&t._delegate?t._delegate:t}var $t=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Lo="[DEFAULT]";var Tw=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Po;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jH(e))try{this.getOrInitializeService({instanceIdentifier:Lo})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Lo){return this.instances.has(e)}getOptions(e=Lo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FH(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Lo){return this.component?this.component.multipleInstances?e:Lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function FH(t){return t===Lo?void 0:t}function jH(t){return t.instantiationMode==="EAGER"}var vp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Tw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var UH=[],me=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(me||{}),BH={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},HH=me.INFO,$H={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},zH=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=$H[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},sr=class{constructor(e){this.name=e,this._logLevel=HH,this._logHandler=zH,this._userLogHandler=null,UH.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}};var qH=(t,e)=>e.some(n=>t instanceof n),dk,hk;function WH(){return dk||(dk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GH(){return hk||(hk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var fk=new WeakMap,Sw=new WeakMap,pk=new WeakMap,Cw=new WeakMap,Aw=new WeakMap;function KH(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ar(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&fk.set(n,t)}).catch(()=>{}),Aw.set(e,t),e}function QH(t){if(Sw.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Sw.set(t,e)}var Dw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ar(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gk(t){Dw=t(Dw)}function YH(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(yp(this),e,...n);return pk.set(r,e.sort?e.sort():[e]),ar(r)}:GH().includes(t)?function(...e){return t.apply(yp(this),e),ar(fk.get(this))}:function(...e){return ar(t.apply(yp(this),e))}}function ZH(t){return typeof t=="function"?YH(t):(t instanceof IDBTransaction&&QH(t),qH(t,WH())?new Proxy(t,Dw):t)}function ar(t){if(t instanceof IDBRequest)return KH(t);if(Cw.has(t))return Cw.get(t);let e=ZH(t);return e!==t&&(Cw.set(t,e),Aw.set(e,t)),e}var yp=t=>Aw.get(t);function vk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=ar(s);return r&&s.addEventListener("upgradeneeded",c=>{r(ar(s.result),c.oldVersion,c.newVersion,ar(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var JH=["get","getKey","getAll","getAllKeys","count"],XH=["put","add","delete","clear"],xw=new Map;function mk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xw.get(e))return xw.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=XH.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||JH.includes(n)))return;let o=function(s,...a){return w(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return xw.set(e,o),o}gk(t=>ee(V({},t),{get:(e,n,r)=>mk(e,n)||t.get(e,n,r),has:(e,n)=>!!mk(e,n)||t.has(e,n)}));var Rw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(e$(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function e$(t){let e=t.getComponent();return e?.type==="VERSION"}var Mw="@firebase/app",yk="0.12.3";var Mr=new sr("@firebase/app"),t$="@firebase/app-compat",n$="@firebase/analytics-compat",r$="@firebase/analytics",i$="@firebase/app-check-compat",o$="@firebase/app-check",s$="@firebase/auth",a$="@firebase/auth-compat",c$="@firebase/database",l$="@firebase/data-connect",u$="@firebase/database-compat",d$="@firebase/functions",h$="@firebase/functions-compat",f$="@firebase/installations",p$="@firebase/installations-compat",g$="@firebase/messaging",m$="@firebase/messaging-compat",v$="@firebase/performance",y$="@firebase/performance-compat",_$="@firebase/remote-config",w$="@firebase/remote-config-compat",I$="@firebase/storage",E$="@firebase/storage-compat",b$="@firebase/firestore",T$="@firebase/vertexai",C$="@firebase/firestore-compat",S$="firebase",D$="11.7.3";var Nw="[DEFAULT]",A$={[Mw]:"fire-core",[t$]:"fire-core-compat",[r$]:"fire-analytics",[n$]:"fire-analytics-compat",[o$]:"fire-app-check",[i$]:"fire-app-check-compat",[s$]:"fire-auth",[a$]:"fire-auth-compat",[c$]:"fire-rtdb",[l$]:"fire-data-connect",[u$]:"fire-rtdb-compat",[d$]:"fire-fn",[h$]:"fire-fn-compat",[f$]:"fire-iid",[p$]:"fire-iid-compat",[g$]:"fire-fcm",[m$]:"fire-fcm-compat",[v$]:"fire-perf",[y$]:"fire-perf-compat",[_$]:"fire-rc",[w$]:"fire-rc-compat",[I$]:"fire-gcs",[E$]:"fire-gcs-compat",[b$]:"fire-fst",[C$]:"fire-fst-compat",[T$]:"fire-vertex","fire-js":"fire-js",[S$]:"fire-js-all"};var _u=new Map,x$=new Map,Pw=new Map;function _k(t,e){try{t.container.addComponent(e)}catch(n){Mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fn(t){let e=t.name;if(Pw.has(e))return Mr.debug(`There were multiple attempts to register component ${e}.`),!1;Pw.set(e,t);for(let n of _u.values())_k(n,t);for(let n of x$.values())_k(n,t);return!0}function Na(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function sn(t){return t==null?!1:t.settings!==void 0}var k$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bi=new Vn("app","Firebase",k$);var Ow=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $t("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}};var Ti=D$;function Fw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Nw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw bi.create("bad-app-name",{appName:String(i)});if(n||(n=Ew()),!n)throw bi.create("no-options");let o=_u.get(i);if(o){if(or(n,o.options)&&or(r,o.config))return o;throw bi.create("duplicate-app",{appName:i})}let s=new vp(i);for(let c of Pw.values())s.addComponent(c);let a=new Ow(n,r,s);return _u.set(i,a),a}function Vo(t=Nw){let e=_u.get(t);if(!e&&t===Nw&&Ew())return Fw();if(!e)throw bi.create("no-app",{appName:t});return e}function _p(){return Array.from(_u.values())}function Ue(t,e,n){var r;let i=(r=A$[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mr.warn(a.join(" "));return}Fn(new $t(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var R$="firebase-heartbeat-database",M$=1,wu="firebase-heartbeat-store",kw=null;function bk(){return kw||(kw=vk(R$,M$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wu)}catch(n){console.warn(n)}}}}).catch(t=>{throw bi.create("idb-open",{originalErrorMessage:t.message})})),kw}function N$(t){return w(this,null,function*(){try{let n=(yield bk()).transaction(wu),r=yield n.objectStore(wu).get(Tk(t));return yield n.done,r}catch(e){if(e instanceof on)Mr.warn(e.message);else{let n=bi.create("idb-get",{originalErrorMessage:e?.message});Mr.warn(n.message)}}})}function wk(t,e){return w(this,null,function*(){try{let r=(yield bk()).transaction(wu,"readwrite");yield r.objectStore(wu).put(e,Tk(t)),yield r.done}catch(n){if(n instanceof on)Mr.warn(n.message);else{let r=bi.create("idb-set",{originalErrorMessage:n?.message});Mr.warn(r.message)}}})}function Tk(t){return`${t.name}!${t.options.appId}`}var P$=1024,O$=30,Lw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Vw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Ik();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>O$){let s=V$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Mr.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Ik(),{heartbeatsToSend:r,unsentEntries:i}=L$(this._heartbeatsCache.heartbeats),o=mu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Mr.warn(n),""}})}};function Ik(){return new Date().toISOString().substring(0,10)}function L$(t,e=P$){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Ek(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ek(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Vw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return vu()?ck().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield N$(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return wk(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return wk(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Ek(t){return mu(JSON.stringify({version:2,heartbeats:t})).length}function V$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function F$(t){Fn(new $t("platform-logger",e=>new Rw(e),"PRIVATE")),Fn(new $t("heartbeat",e=>new Lw(e),"PRIVATE")),Ue(Mw,yk,t),Ue(Mw,yk,"esm2017"),Ue("fire-js","")}F$("");var j$="firebase",U$="11.7.3";Ue(j$,U$,"app");function Iu(t,e){let n=!e?.manualCleanup;n&&!e?.injector&&Xh(Iu);let r=n?e?.injector?.get(Dr)??R(Dr):null,i=B$(e?.equal),o;e?.requireSync?o=Fe({kind:0},{equal:i}):o=Fe({kind:1,value:e?.initialValue},{equal:i});let s=t.subscribe({next:a=>o.set({kind:1,value:a}),error:a=>{if(e?.rejectErrors)throw a;o.set({kind:2,error:a})}});if(e?.requireSync&&o().kind===0)throw new z(601,!1);return r?.onDestroy(s.unsubscribe.bind(s)),tn(()=>{let a=o();switch(a.kind){case 1:return a.value;case 2:throw a.error;case 0:throw new z(601,!1)}},{equal:e?.equal})}function B$(t=Object.is){return(e,n)=>e.kind===1&&n.kind===1&&t(e.value,n.value)}function jw(t){t===void 0&&(Xh(jw),t=R(ft));let e=t.get(rf);return n=>new ue(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Ci=new Xs("ANGULARFIRE2_VERSION");function Eu(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Oa=(t,e)=>{let n=e?[e]:_p(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Pa=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(Pa||{}),Ck=__()&&typeof Zone<"u"?Pa.WARN:Pa.SILENT;var wp=class{zone;delegate;constructor(e,n=Iv){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Si=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=R(Ce);this.outsideAngular=n.runOutsideAngular(()=>new wp(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new wp(typeof Zone>"u"?void 0:Zone.current,wv))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Sk=!1;function H$(t,e){!Sk&&(Ck>Pa.SILENT||__())&&(Sk=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),Ck>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function $$(t){let e=R(Ce,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Fo(t){let e=R(Ce,{optional:!0});return e?e.run(()=>t()):t()}var z$=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),jt(n,()=>Fo(()=>t.apply(void 0,r)))),Mt=(t,e,n)=>(n||=e?Pa.WARN:Pa.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=R(Si),s=R(rf),a=R(Yt)}catch{return H$(t,n),t.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=Fo(()=>s.add())),i[u]=z$(i[u],r,a));let c=$$(()=>t.apply(this,i));return e?c instanceof ue?c.pipe(ai(o.outsideAngular),si(o.insideAngular),jw(a)):c instanceof Promise?Fo(()=>new Promise((u,d)=>{s.run(()=>c).then(p=>jt(a,()=>Fo(()=>u(p))),p=>jt(a,()=>Fo(()=>d(p))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Fo(()=>c):c instanceof ue?c.pipe(ai(o.outsideAngular),si(o.insideAngular)):Fo(()=>c)});var Nr=class{constructor(e){return e}},jo=class{constructor(){return _p()}};function q$(t){return t&&t.length===1?t[0]:new Nr(Vo())}var Uw=new q("angularfire2._apps"),W$={provide:Nr,useFactory:q$,deps:[[new vn,Uw]]},G$={provide:jo,deps:[[new vn,Uw]]};function K$(t){return(e,n)=>{let r=n.get(To);Ue("angularfire",Ci.full,"core"),Ue("angularfire",Ci.full,"app"),Ue("angular",oA.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Nr(i)}}function Dk(t,...e){return Tr([W$,G$,{provide:Uw,useFactory:K$(t),multi:!0,deps:[Ce,ft,Si,...e]}])}var Ak=Mt(Fw,!0);var Q$=new Map,Y$={activated:!1,tokenObservers:[]},Z$={initialized:!1,enabled:!1};function jn(t){return Q$.get(t)||Object.assign({},Y$)}function Mk(){return Z$}var J$="https://content-firebaseappcheck.googleapis.com/v1";var X$="exchangeDebugToken",xk={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},gee=24*60*60*1e3;var $w=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return w(this,null,function*(){this.stop();try{this.pending=new Po,this.pending.promise.catch(n=>{}),yield e4(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Po,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function e4(t){return new Promise(e=>{setTimeout(e,t)})}var t4={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Di=new Vn("appCheck","AppCheck",t4);function Nk(t){if(!jn(t).activated)throw Di.create("use-before-activation",{appName:t.name})}function Pk(r,i){return w(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(t,a)}catch(m){throw Di.create("fetch-network-error",{originalErrorMessage:m?.message})}if(c.status!==200)throw Di.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(m){throw Di.create("fetch-parse-error",{originalErrorMessage:m?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw Di.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let p=Number(d[1])*1e3,g=Date.now();return{token:u.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function Ok(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${J$}/projects/${n}/apps/${r}:${X$}?key=${i}`,body:{debug_token:e}}}var n4="firebase-app-check-database",r4=1,zw="firebase-app-check-store";var Ip=null;function i4(){return Ip||(Ip=new Promise((t,e)=>{try{let n=indexedDB.open(n4,r4);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Di.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(zw,{keyPath:"compositeKey"})}}}catch(n){e(Di.create("storage-open",{originalErrorMessage:n?.message}))}}),Ip)}function o4(t,e){return s4(a4(t),e)}function s4(t,e){return w(this,null,function*(){let r=(yield i4()).transaction(zw,"readwrite"),o=r.objectStore(zw).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(Di.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function a4(t){return`${t.options.appId}-${t.name}`}var bu=new sr("@firebase/app-check");function Bw(t,e){return vu()?o4(t,e).catch(n=>{bu.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Lk(){return Mk().enabled}function Vk(){return w(this,null,function*(){let t=Mk();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var c4={error:"UNKNOWN_ERROR"};function l4(t){return fp.encodeString(JSON.stringify(t),!1)}function qw(t,e=!1,n=!1){return w(this,null,function*(){let r=t.app;Nk(r);let i=jn(r),o=i.token,s;if(o&&!Tu(o)&&(i.token=void 0,o=void 0),!o){let u=yield i.cachedTokenPromise;u&&(Tu(u)?o=u:yield Bw(r,void 0))}if(!e&&o&&Tu(o))return{token:o.token};let a=!1;if(Lk())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=Pk(Ok(r,yield Vk()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield Bw(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?bu.warn(u.message):n&&bu.error(u),Hw(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield jn(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?bu.warn(u.message):n&&bu.error(u),s=u}let c;return o?s?Tu(o)?c={token:o.token,internalError:s}:c=Hw(s):(c={token:o.token},i.token=o,yield Bw(r,o)):c=Hw(s),a&&f4(r,c),c})}function u4(t){return w(this,null,function*(){let e=t.app;Nk(e);let{provider:n}=jn(e);if(Lk()){let r=yield Vk(),{token:i}=yield Pk(Ok(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function d4(t,e,n,r){let{app:i}=t,o=jn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Tu(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),kk(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>kk(t))}function Fk(t,e){let n=jn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function kk(t){let{app:e}=t,n=jn(e),r=n.tokenRefresher;r||(r=h4(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function h4(t){let{app:e}=t;return new $w(()=>w(null,null,function*(){let n=jn(e),r;if(n.token?r=yield qw(t,!0):r=yield qw(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=jn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},xk.RETRIAL_MIN_WAIT,xk.RETRIAL_MAX_WAIT)}function f4(t,e){let n=jn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Tu(t){return t.expireTimeMillis-Date.now()>0}function Hw(t){return{token:l4(c4),error:t}}var Ww=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=jn(this.app);for(let n of e)Fk(this.app,n.next);return Promise.resolve()}};function p4(t,e){return new Ww(t,e)}function g4(t){return{getToken:e=>qw(t,e),getLimitedUseToken:()=>u4(t),addTokenListener:e=>d4(t,"INTERNAL",e),removeTokenListener:e=>Fk(t.app,e)}}var m4="@firebase/app-check",v4="0.9.3";var y4="app-check",Rk="app-check-internal";function _4(){Fn(new $t(y4,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return p4(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(Rk).initialize()})),Fn(new $t(Rk,t=>{let e=t.getProvider("app-check").getImmediate();return g4(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ue(m4,v4)}_4();var w4="app-check";var La=class{constructor(){return Oa(w4)}};var I4=["localhost","0.0.0.0","127.0.0.1"],Aee=typeof window<"u"&&I4.includes(window.location.hostname);function tR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var nR=tR,rR=new Vn("auth","Firebase",tR());var Dp=new sr("@firebase/auth");function E4(t,...e){Dp.logLevel<=me.WARN&&Dp.warn(`Auth (${Ti}): ${t}`,...e)}function bp(t,...e){Dp.logLevel<=me.ERROR&&Dp.error(`Auth (${Ti}): ${t}`,...e)}function lr(t,...e){throw mI(t,...e)}function Uo(t,...e){return mI(t,...e)}function iR(t,e,n){let r=Object.assign(Object.assign({},nR()),{[e]:n});return new Vn("auth","Firebase",r).create(e,{appName:t.name})}function ki(t){return iR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mI(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rR.create(t,...e)}function X(t,e,...n){if(!t)throw mI(e,...n)}function Pr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw bp(e),new Error(e)}function Ri(t,e){t||Pr(e)}function Yw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function b4(){return jk()==="http:"||jk()==="https:"}function jk(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function T4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(b4()||ik()||"connection"in navigator)?navigator.onLine:!0}function C4(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Bo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ri(n>e,"Short delay should be less than long delay!"),this.isMobile=nk()||ok()}get(){return T4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function vI(t,e){Ri(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Ap=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var S4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var D4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],A4=new Bo(3e4,6e4);function $o(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Mi(o,s,a,c){return w(this,arguments,function*(t,e,n,r,i={}){return oR(t,i,()=>w(null,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let p=yu(Object.assign({key:t.config.apiKey},d)).slice(1),g=yield t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);let m=Object.assign({method:e,headers:g},u);return rk()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Oo(t.emulatorConfig.host)&&(m.credentials="include"),Ap.fetch()(yield sR(t,t.config.apiHost,n,p),m)}))})}function oR(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},S4),e);try{let i=new Zw(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Ep(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ep(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Ep(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Ep(t,"user-disabled",s);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw iR(t,d,u);lr(t,d)}}catch(i){if(i instanceof on)throw i;lr(t,"network-request-failed",{message:String(i)})}})}function jp(o,s,a,c){return w(this,arguments,function*(t,e,n,r,i={}){let u=yield Mi(t,e,n,r,i);return"mfaPendingCredential"in u&&lr(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function sR(t,e,n,r){return w(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?vI(t.config,i):`${t.config.apiScheme}://${i}`;return D4.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function x4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Zw=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Uo(this.auth,"network-request-failed")),A4.get())})}};function Ep(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Uo(t,e,r);return i.customData._tokenResponse=n,i}function Uk(t){return t!==void 0&&t.enterprise!==void 0}var Jw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return x4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function k4(t,e){return w(this,null,function*(){return Mi(t,"GET","/v2/recaptchaConfig",$o(t,e))})}function R4(t,e){return w(this,null,function*(){return Mi(t,"POST","/v1/accounts:delete",e)})}function xp(t,e){return w(this,null,function*(){return Mi(t,"POST","/v1/accounts:lookup",e)})}function Su(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function yI(t,e=!1){return w(this,null,function*(){let n=Ge(t),r=yield n.getIdToken(e),i=_I(r);X(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Su(Gw(i.auth_time)),issuedAtTime:Su(Gw(i.iat)),expirationTime:Su(Gw(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Gw(t){return Number(t)*1e3}function _I(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return bp("JWT malformed, contained fewer than 3 sections"),null;try{let i=pp(n);return i?JSON.parse(i):(bp("Failed to decode base64 JWT payload"),null)}catch(i){return bp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Bk(t){let e=_I(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Au(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof on&&M4(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function M4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Xw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var xu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Su(this.lastLoginAt),this.creationTime=Su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function kp(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Au(t,xp(n,{idToken:r}));X(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?aR(o.providerUserInfo):[],a=N4(t.providerData,s),c=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!a?.length,d=c?u:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new xu(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,p)})}function wI(t){return w(this,null,function*(){let e=Ge(t);yield kp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function N4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function aR(t){return t.map(e=>{var{providerId:n}=e,r=Ev(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function P4(t,e){return w(this,null,function*(){let n=yield oR(t,{},()=>w(null,null,function*(){let r=yu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield sR(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ap.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function O4(t,e){return w(this,null,function*(){return Mi(t,"POST","/v2/accounts:revokeToken",$o(t,e))})}var Du=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){X(e.length!==0,"internal-error");let n=Bk(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield P4(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(X(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(X(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(X(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Pr("not implemented")}};function Ai(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var xi=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Ev(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new xu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield Au(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return yI(this,e)}reload(){return wI(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield kp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(sn(this.auth.app))return Promise.reject(ki(this.auth));let e=yield this.getIdToken();return yield Au(this,R4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,u,d;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,E=(s=n.photoURL)!==null&&s!==void 0?s:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,M=(u=n.createdAt)!==null&&u!==void 0?u:void 0,j=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:U,emailVerified:B,isAnonymous:Q,providerData:H,stsTokenManager:T}=n;X(U&&T,e,"internal-error");let y=Du.fromJSON(this.name,T);X(typeof U=="string",e,"internal-error"),Ai(p,e.name),Ai(g,e.name),X(typeof B=="boolean",e,"internal-error"),X(typeof Q=="boolean",e,"internal-error"),Ai(m,e.name),Ai(E,e.name),Ai(x,e.name),Ai(A,e.name),Ai(M,e.name),Ai(j,e.name);let _=new t({uid:U,auth:e,email:g,emailVerified:B,displayName:p,isAnonymous:Q,photoURL:E,phoneNumber:m,tenantId:x,stsTokenManager:y,createdAt:M,lastLoginAt:j});return H&&Array.isArray(H)&&(_.providerData=H.map(b=>Object.assign({},b))),A&&(_._redirectEventId=A),_}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new Du;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield kp(o),o})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];X(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?aR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Du;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new xu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var Hk=new Map;function Or(t){Ri(t instanceof Function,"Expected a class definition");let e=Hk.get(t);return e?(Ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Hk.set(t,e),e)}var L4=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),eI=L4;function Tp(t,e,n){return`firebase:${t}:${e}:${n}`}var Rp=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Tp(this.userKey,i.apiKey,o),this.fullPersistenceKey=Tp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield xp(this.auth,{idToken:e}).catch(()=>{});return n?xi._fromGetAccountInfoResponse(this.auth,n,e):null}return xi._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(Or(eI),e,r);let i=(yield Promise.all(n.map(u=>w(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||Or(eI),s=Tp(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let d=yield u._get(s);if(d){let p;if(typeof d=="string"){let g=yield xp(e,{idToken:d}).catch(()=>{});if(!g)break;p=yield xi._fromGetAccountInfoResponse(e,g,d)}else p=xi._fromJSON(e,d);u!==o&&(a=p),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(u=>w(null,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new t(o,e,r))})}};function $k(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fR(e))return"Blackberry";if(pR(e))return"Webos";if(lR(e))return"Safari";if((e.includes("chrome/")||uR(e))&&!e.includes("edge/"))return"Chrome";if(hR(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function cR(t=gt()){return/firefox\//i.test(t)}function lR(t=gt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uR(t=gt()){return/crios\//i.test(t)}function dR(t=gt()){return/iemobile/i.test(t)}function hR(t=gt()){return/android/i.test(t)}function fR(t=gt()){return/blackberry/i.test(t)}function pR(t=gt()){return/webos/i.test(t)}function II(t=gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function V4(t=gt()){var e;return II(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function F4(){return sk()&&document.documentMode===10}function gR(t=gt()){return II(t)||hR(t)||pR(t)||fR(t)||/windows phone/i.test(t)||dR(t)}function mR(t,e=[]){let n;switch(t){case"Browser":n=$k(gt());break;case"Worker":n=`${$k(gt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ti}/${r}`}var tI=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function j4(n){return w(this,arguments,function*(t,e={}){return Mi(t,"GET","/v2/passwordPolicy",$o(t,e))})}var U4=6,nI=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:U4,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var rI=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mp(this),this.idTokenSubscription=new Mp(this),this.beforeStateQueue=new tI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Or(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Rp.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield xp(this,{idToken:e}),r=yield xi._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(sn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield kp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=C4()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(sn(this.app))return Promise.reject(ki(this));let n=e?Ge(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return sn(this.app)?Promise.reject(ki(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return sn(this.app)?Promise.reject(ki(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Or(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield j4(this),n=new nI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield O4(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Or(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=yield Rp.create(this,[Or(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;if(sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&E4(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Va(t){return Ge(t)}var Mp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=uk(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Up={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B4(t){Up=t}function vR(t){return Up.loadJS(t)}function H4(){return Up.recaptchaEnterpriseScript}function $4(){return Up.gapiScript}function yR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var iI=class{constructor(){this.enterprise=new oI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},oI=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var z4="recaptcha-enterprise",_R="NO_RECAPTCHA",sI=class{constructor(e){this.type=z4,this.auth=Va(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(o){return w(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>w(null,null,function*(){k4(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new Jw(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;Uk(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(_R)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iI().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&Uk(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=H4();c.length!==0&&(c+=a),vR(c).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function Cu(t,e,n,r=!1,i=!1){return w(this,null,function*(){let o=new sI(t),s;if(i)s=_R;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function zk(t,e,n,r,i){return w(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Cu(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(a=>w(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield Cu(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Cu(t,e,n);return r(t,a).catch(c=>w(null,null,function*(){var u;if(((u=t._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let d=yield Cu(t,e,n,!1,!0);return r(t,d)}return Promise.reject(c)}))}else{let a=yield Cu(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")})}function EI(t,e){let n=Na(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(or(o,e??{}))return i;lr(i,"already-initialized")}return n.initialize({options:e})}function q4(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Or);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function bI(t,e,n){let r=Va(t);X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=wR(e),{host:s,port:a}=W4(e),c=a===null?"":`:${a}`,u={url:`${o}//${s}${c}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){X(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),X(or(u,r.config.emulator)&&or(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Oo(s)?(ka("Auth",!0),mp(`${o}//${s}${c}`)):i||G4()}function wR(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function W4(t){let e=wR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:qk(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:qk(s)}}}function qk(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function G4(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var ku=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pr("not implemented")}_getIdTokenResponse(e){return Pr("not implemented")}_linkToIdToken(e,n){return Pr("not implemented")}_getReauthenticationResolver(e){return Pr("not implemented")}};function K4(t,e){return w(this,null,function*(){return Mi(t,"POST","/v1/accounts:signUp",e)})}function Q4(t,e){return w(this,null,function*(){return jp(t,"POST","/v1/accounts:signInWithPassword",$o(t,e))})}function Y4(t,e){return w(this,null,function*(){return jp(t,"POST","/v1/accounts:signInWithEmailLink",$o(t,e))})}function Z4(t,e){return w(this,null,function*(){return jp(t,"POST","/v1/accounts:signInWithEmailLink",$o(t,e))})}var Ru=class t extends ku{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zk(e,n,"signInWithPassword",Q4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Y4(e,{email:this._email,oobCode:this._password});default:lr(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zk(e,r,"signUpPassword",K4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Z4(e,{idToken:n,email:this._email,oobCode:this._password});default:lr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Kw(t,e){return w(this,null,function*(){return jp(t,"POST","/v1/accounts:signInWithIdp",$o(t,e))})}function J4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function X4(t){let e=Ra(Ma(t)).link,n=e?Ra(Ma(e)).deep_link_id:null,r=Ra(Ma(t)).deep_link_id;return(r?Ra(Ma(r)).link:null)||r||n||e||t}var Np=class t{constructor(e){var n,r,i,o,s,a;let c=Ra(Ma(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,p=J4((i=c.mode)!==null&&i!==void 0?i:null);X(u&&d&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=d,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=X4(e);try{return new t(n)}catch{return null}}};var IR=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Ru._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Np.parseLink(r);return X(i,"argument-error"),Ru._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Pp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var aI=class extends Pp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Mu=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let o=yield xi._fromIdTokenResponse(e,r,i),s=Wk(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Wk(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function Wk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var cI=class t extends on{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function ER(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?cI._fromErrorAndOperation(t,o,e,r):o})}function ez(t,e,n=!1){return w(this,null,function*(){let r=yield Au(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Mu._forOperation(t,"link",r)})}function tz(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(sn(r.app))return Promise.reject(ki(r));let i="reauthenticate";try{let o=yield Au(t,ER(r,i,e,t),n);X(o.idToken,r,"internal-error");let s=_I(o.idToken);X(s,r,"internal-error");let{sub:a}=s;return X(t.uid===a,r,"user-mismatch"),Mu._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&lr(r,"user-mismatch"),o}})}function bR(t,e,n=!1){return w(this,null,function*(){if(sn(t.app))return Promise.reject(ki(t));let r="signIn",i=yield ER(t,r,e),o=yield Mu._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function TI(t,e){return w(this,null,function*(){return bR(Va(t),e)})}function nz(t){return w(this,null,function*(){let e=Va(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function CI(t,e,n){return sn(t.app)?Promise.reject(ki(t)):TI(Ge(t),IR.credential(e,n)).catch(r=>w(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&nz(t),r}))}function Bp(t,e,n,r){return Ge(t).onIdTokenChanged(e,n,r)}function SI(t,e,n){return Ge(t).beforeAuthStateChanged(e,n)}function Hp(t,e,n,r){return Ge(t).onAuthStateChanged(e,n,r)}function DI(t){return Ge(t).signOut()}var Op="__sak";var Lp=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Op,"1"),this.storage.removeItem(Op),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var rz=1e3,iz=10,oz=(()=>{class t extends Lp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gR(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);F4()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,iz):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},rz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield ii(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield ii(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield ii(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),TR=oz;var sz=(()=>{class t extends Lp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),AI=sz;function az(t){return Promise.all(t.map(e=>w(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var cz=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(d=>w(this,null,function*(){return d(r.origin,s)})),u=yield az(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function CR(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var lI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=CR("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function cr(){return window}function lz(t){cr().location.href=t}function SR(){return typeof cr().WorkerGlobalScope<"u"&&typeof cr().importScripts=="function"}function uz(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function dz(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function hz(){return SR()?self:null}var DR="firebaseLocalStorageDb",fz=1,Vp="firebaseLocalStorage",AR="fbase_key",Ho=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function $p(t,e){return t.transaction([Vp],e?"readwrite":"readonly").objectStore(Vp)}function pz(){let t=indexedDB.deleteDatabase(DR);return new Ho(t).toPromise()}function uI(){let t=indexedDB.open(DR,fz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Vp,{keyPath:AR})}catch(i){n(i)}}),t.addEventListener("success",()=>w(null,null,function*(){let r=t.result;r.objectStoreNames.contains(Vp)?e(r):(r.close(),yield pz(),e(yield uI()))}))})}function Gk(t,e,n){return w(this,null,function*(){let r=$p(t,!0).put({[AR]:e,value:n});return new Ho(r).toPromise()})}function gz(t,e){return w(this,null,function*(){let n=$p(t,!1).get(e),r=yield new Ho(n).toPromise();return r===void 0?null:r.value})}function Kk(t,e){let n=$p(t,!0).delete(e);return new Ho(n).toPromise()}var mz=800,vz=3,yz=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield uI(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>vz)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return SR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=cz._getInstance(hz()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield uz(),!this.activeServiceWorker)return;this.sender=new lI(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||dz()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield uI();return yield Gk(n,Op,"1"),yield Kk(n,Op),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>Gk(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>gz(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>Kk(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(o=>{let s=$p(o,!1).getAll();return new Ho(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),mz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),xR=yz;var Lee=yR("rcb"),Vee=new Bo(3e4,6e4);function _z(t,e){return e?Or(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Nu=class extends ku{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kw(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Kw(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Kw(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function wz(t){return bR(t.auth,new Nu(t),t.bypassAuthState)}function Iz(t){let{auth:e,user:n}=t;return X(n,e,"internal-error"),tz(n,new Nu(t),t.bypassAuthState)}function Ez(t){return w(this,null,function*(){let{auth:e,user:n}=t;return X(n,e,"internal-error"),ez(n,new Nu(t),t.bypassAuthState)})}var dI=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wz;case"linkViaPopup":case"linkViaRedirect":return Ez;case"reauthViaPopup":case"reauthViaRedirect":return Iz;default:lr(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Fee=new Bo(2e3,1e4);var bz="pendingRedirect",Cp=new Map,hI=class t extends dI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=Cp.get(this.auth._key());if(!e){try{let r=(yield Tz(this.resolver,this.auth))?yield ii(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cp.set(this.auth._key(),e)}return this.bypassAuthState||Cp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return ii(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,ii(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function Tz(t,e){return w(this,null,function*(){let n=Dz(e),r=Sz(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Cz(t,e){Cp.set(t._key(),e)}function Sz(t){return Or(t._redirectPersistence)}function Dz(t){return Tp(bz,t.config.apiKey,t.name)}function Az(t,e,n=!1){return w(this,null,function*(){if(sn(t.app))return Promise.reject(ki(t));let r=Va(t),i=_z(r,e),s=yield new hI(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var xz=10*60*1e3,fI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Uo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xz&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qk(e))}saveEventToCache(e){this.cachedEventUids.add(Qk(e)),this.lastProcessedEventTime=Date.now()}};function Qk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function kz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kR(t);default:return!1}}function Rz(n){return w(this,arguments,function*(t,e={}){return Mi(t,"GET","/v1/projects",e)})}var Mz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nz=/^https?/;function Pz(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield Rz(t);for(let n of e)try{if(Oz(n))return}catch{}lr(t,"unauthorized-domain")})}function Oz(t){let e=Yw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Nz.test(n))return!1;if(Mz.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Lz=new Bo(3e4,6e4);function Yk(){let t=cr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Vz(t){return new Promise((e,n)=>{var r,i,o;function s(){Yk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yk(),n(Uo(t,"network-request-failed"))},timeout:Lz.get()})}if(!((i=(r=cr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=cr().gapi)===null||o===void 0)&&o.load)s();else{let a=yR("iframefcb");return cr()[a]=()=>{gapi.load?s():n(Uo(t,"network-request-failed"))},vR(`${$4()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Sp=null,e})}var Sp=null;function Fz(t){return Sp=Sp||Vz(t),Sp}var jz=new Bo(5e3,15e3),Uz="__/auth/iframe",Bz="emulator/auth/iframe",Hz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$z=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zz(t){let e=t.config;X(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?vI(e,Bz):`https://${t.config.authDomain}/${Uz}`,r={apiKey:e.apiKey,appName:t.name,v:Ti},i=$z.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${yu(r).slice(1)}`}function qz(t){return w(this,null,function*(){let e=yield Fz(t),n=cr().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:zz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hz,dontclear:!0},r=>new Promise((i,o)=>w(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Uo(t,"network-request-failed"),a=cr().setTimeout(()=>{o(s)},jz.get());function c(){cr().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var Wz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gz=500,Kz=600,Qz="_blank",Yz="http://localhost",Fp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Zz(t,e,n,r=Gz,i=Kz){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},Wz),{width:r.toString(),height:i.toString(),top:o,left:s}),u=gt().toLowerCase();n&&(a=uR(u)?Qz:n),cR(u)&&(e=e||Yz,c.scrollbars="yes");let d=Object.entries(c).reduce((g,[m,E])=>`${g}${m}=${E},`,"");if(V4(u)&&a!=="_self")return Jz(e||"",a),new Fp(null);let p=window.open(e||"",a,d);X(p,t,"popup-blocked");try{p.focus()}catch{}return new Fp(p)}function Jz(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Xz="__/auth/handler",eq="emulator/auth/handler",tq=encodeURIComponent("fac");function Zk(t,e,n,r,i,o){return w(this,null,function*(){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ti,eventId:i};if(e instanceof Pp){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",lk(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,p]of Object.entries(o||{}))s[d]=p}if(e instanceof aI){let d=e.getScopes().filter(p=>p!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield t._getAppCheckToken(),u=c?`#${tq}=${encodeURIComponent(c)}`:"";return`${nq(t)}?${yu(a).slice(1)}${u}`})}function nq({config:t}){return t.emulator?vI(t,eq):`https://${t.authDomain}/${Xz}`}var Qw="webStorageSupport",pI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AI,this._completeRedirectFn=Az,this._overrideRedirectResult=Cz}_openPopup(e,n,r,i){return w(this,null,function*(){var o;Ri((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield Zk(e,n,r,Yw(),i);return Zz(e,s,CR())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let o=yield Zk(e,n,r,Yw(),i);return lz(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ri(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield qz(e),r=new fI(e);return n.register("authEvent",i=>(X(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qw,{type:Qw},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Qw];s!==void 0&&n(!!s),lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Pz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gR()||lR()||II()}},RR=pI;var Jk="@firebase/auth",Xk="1.10.4";var gI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function rq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iq(t){Fn(new $t("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;X(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mR(t)},u=new rI(r,i,o,c);return q4(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fn(new $t("auth-internal",e=>{let n=Va(e.getProvider("auth").getImmediate());return(r=>new gI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ue(Jk,Xk,rq(t)),Ue(Jk,Xk,"esm2017")}var oq=5*60,sq=bw("authIdTokenMaxAge")||oq,eR=null,aq=t=>e=>w(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sq)return;let i=n?.token;eR!==i&&(eR=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function xI(t=Vo()){let e=Na(t,"auth");if(e.isInitialized())return e.getImmediate();let n=EI(t,{popupRedirectResolver:RR,persistence:[xR,TR,AI]}),r=bw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=aq(o.toString());SI(n,s,()=>s(n.currentUser)),Bp(n,a=>s(a))}}let i=Iw("auth");return i?bI(n,`http://${i}`):ka("Auth",!1),n}function cq(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}B4({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Uo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",cq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iq("Browser");function NR(t){return new ue(function(e){var n=Hp(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var PR="auth",Lr=class{constructor(e){return e}},Pu=class{constructor(){return Oa(PR)}};var kI=new q("angularfire2.auth-instances");function Yq(t,e){let n=Eu(PR,t,e);return n&&new Lr(n)}function Zq(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Lr(r)}}var Jq={provide:Pu,deps:[[new vn,kI]]},Xq={provide:Lr,useFactory:Yq,deps:[[new vn,kI],Nr]};function OR(t,...e){return Ue("angularfire",Ci.full,"auth"),Tr([Xq,Jq,{provide:kI,useFactory:Zq(t),multi:!0,deps:[Ce,ft,Si,jo,[new vn,La],...e]}])}var RI=Mt(NR,!0);var LR=Mt(xI,!0);var VR=Mt(CI,!0,2);var FR=Mt(DI,!0,2);var zp=class t{_auth=R(Lr);signIn(e){return w(this,null,function*(){return yield VR(this._auth,e.email,e.password)})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ni=class t{_toast=Fe({message:"",type:"success",visible:!1});toast=this._toast.asReadonly();showToast(e,n="success"){this._toast.set({message:e,type:n,visible:!0}),setTimeout(()=>{this._toast.update(r=>ee(V({},r),{visible:!1}))},2e3)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})};function e6(t,e){t&1&&(O(0,"p",13)(1,"span",14),W(2,"Oops!"),L(),W(3," This field is required!"),L())}function t6(t,e){t&1&&(O(0,"p",13)(1,"span",14),W(2,"Oops!"),L(),W(3," You should type a proper email address!"),L())}function n6(t,e){if(t&1&&kt(0,e6,4,0,"p",13)(1,t6,4,0,"p",13),t&2){let n,r,i=Ht();Tt((n=i.form.get("email"))!=null&&n.hasError("required")?0:-1),de(),Tt((r=i.form.get("email"))!=null&&r.hasError("email")?1:-1)}}function r6(t,e){t&1&&(O(0,"p",13)(1,"span",14),W(2,"Oops!"),L(),W(3," This field is required!"),L())}function i6(t,e){if(t&1&&kt(0,r6,4,0,"p",13),t&2){let n,r=Ht();Tt((n=r.form.get("password"))!=null&&n.hasError("required")?0:-1)}}var qp=class t{_formBuilder=R(dp);_authService=R(zp);_router=R(Ln);_toastService=R(Ni);showError=Fe(!1);form=this._formBuilder.group({email:[null,[Rr.required,Rr.email]],password:[null,Rr.required]});onSubmit(){return w(this,null,function*(){let{email:e,password:n}=this.form.value;try{yield this._authService.signIn({email:e,password:n}),yield this._router.navigateByUrl("/admin-treatments")}catch(r){console.log(r),this._toastService.showToast("Usuario o contrase\xF1a incorrecto","error")}})}showErrorMsg(){this.showError.set(!0),setTimeout(()=>{this.showError.set(!1)},2e3)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=je({type:t,selectors:[["app-sign-in"]],decls:22,vars:6,consts:[[1,"bg-gray-50","dark:bg-gray-900"],[1,"flex","flex-col","items-center","justify-center","px-6","py-8","mx-auto","md:h-screen","lg:py-0"],["href","#",1,"flex","items-center","mb-6","text-2xl","font-semibold","text-gray-900","dark:text-white"],["src","https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg","alt","logo",1,"w-8","h-8","mr-2"],[1,"w-full","bg-white","rounded-lg","shadow","dark:border","md:mt-0","sm:max-w-md","xl:p-0","dark:bg-gray-800","dark:border-gray-700"],[1,"p-6","space-y-4","md:space-y-6","sm:p-8"],[1,"text-xl","font-bold","leading-tight","tracking-tight","text-gray-900","md:text-2xl","dark:text-white"],["action","#",1,"space-y-4","md:space-y-6",3,"ngSubmit","formGroup"],["for","email",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","email","id","email","formControlName","email","placeholder","name@company.com","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","password",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","password","id","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["type","submit",1,"w-full","text-white","bg-primary-600","hover:bg-primary-700","focus:ring-4","focus:outline-none","focus:ring-primary-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-primary-600","dark:hover:bg-primary-700","dark:focus:ring-primary-800",3,"disabled"],[1,"mt-2","text-sm","text-red-600","dark:text-red-500"],[1,"font-medium"]],template:function(n,r){if(n&1&&(O(0,"section",0)(1,"div",1)(2,"a",2),ye(3,"img",3),W(4," Log In "),L(),O(5,"div",4)(6,"div",5)(7,"h1",6),W(8," Sign in to your account "),L(),O(9,"form",7),qe("ngSubmit",function(){return r.onSubmit()}),O(10,"div")(11,"label",8),W(12,"Your email"),L(),ye(13,"input",9),kt(14,n6,2,2),L(),O(15,"div")(16,"label",10),W(17,"Password"),L(),ye(18,"input",11),kt(19,i6,1,1),L(),O(20,"button",12),W(21," Sign in "),L()()()()()()),n&2){let i,o;de(9),ct("formGroup",r.form),de(5),Tt((i=r.form.get("email"))!=null&&i.invalid&&((i=r.form.get("email"))!=null&&i.touched)?14:-1),de(5),Tt((o=r.form.get("password"))!=null&&o.invalid&&((o=r.form.get("password"))!=null&&o.touched)?19:-1),de(),mi("cursor-not-allowed",r.form.invalid),ct("disabled",r.form.invalid)}},dependencies:[hp,up,Ei,xa,sp,No,fu,pu],encapsulation:2})};var o6=function(){function t(e,n){n===void 0&&(n=[]),this._eventType=e,this._eventFunctions=n}return t.prototype.init=function(){var e=this;this._eventFunctions.forEach(function(n){typeof window<"u"&&window.addEventListener(e._eventType,n)})},t}(),jR=o6;var s6=function(){function t(){this._instances={Accordion:{},Carousel:{},Collapse:{},Dial:{},Dismiss:{},Drawer:{},Dropdown:{},Modal:{},Popover:{},Tabs:{},Tooltip:{},InputCounter:{},CopyClipboard:{},Datepicker:{}}}return t.prototype.addInstance=function(e,n,r,i){if(i===void 0&&(i=!1),!this._instances[e])return console.warn("Flowbite: Component ".concat(e," does not exist.")),!1;if(this._instances[e][r]&&!i){console.warn("Flowbite: Instance with ID ".concat(r," already exists."));return}i&&this._instances[e][r]&&this._instances[e][r].destroyAndRemoveInstance(),this._instances[e][r||this._generateRandomId()]=n},t.prototype.getAllInstances=function(){return this._instances},t.prototype.getInstances=function(e){return this._instances[e]?this._instances[e]:(console.warn("Flowbite: Component ".concat(e," does not exist.")),!1)},t.prototype.getInstance=function(e,n){if(this._componentAndInstanceCheck(e,n)){if(!this._instances[e][n]){console.warn("Flowbite: Instance with ID ".concat(n," does not exist."));return}return this._instances[e][n]}},t.prototype.destroyAndRemoveInstance=function(e,n){this._componentAndInstanceCheck(e,n)&&(this.destroyInstanceObject(e,n),this.removeInstance(e,n))},t.prototype.removeInstance=function(e,n){this._componentAndInstanceCheck(e,n)&&delete this._instances[e][n]},t.prototype.destroyInstanceObject=function(e,n){this._componentAndInstanceCheck(e,n)&&this._instances[e][n].destroy()},t.prototype.instanceExists=function(e,n){return!(!this._instances[e]||!this._instances[e][n])},t.prototype._generateRandomId=function(){return Math.random().toString(36).substr(2,9)},t.prototype._componentAndInstanceCheck=function(e,n){return this._instances[e]?this._instances[e][n]?!0:(console.warn("Flowbite: Instance with ID ".concat(n," does not exist.")),!1):(console.warn("Flowbite: Component ".concat(e," does not exist.")),!1)},t}(),UR=new s6,Y=UR;typeof window<"u"&&(window.FlowbiteInstances=UR);var Wp=function(){return Wp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Wp.apply(this,arguments)},Gp={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},a6={id:null,override:!0},BR=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=Gp),i===void 0&&(i=a6),this._instanceId=i.id?i.id:e.id,this._accordionEl=e,this._items=n,this._options=Wp(Wp({},Gp),r),this._initialized=!1,this.init(),Y.addInstance("Accordion",this,this._instanceId,i.override)}return t.prototype.init=function(){var e=this;this._items.length&&!this._initialized&&(this._items.forEach(function(n){n.active&&e.open(n.id);var r=function(){e.toggle(n.id)};n.triggerEl.addEventListener("click",r),n.clickHandler=r}),this._initialized=!0)},t.prototype.destroy=function(){this._items.length&&this._initialized&&(this._items.forEach(function(e){e.triggerEl.removeEventListener("click",e.clickHandler),delete e.clickHandler}),this._initialized=!1)},t.prototype.removeInstance=function(){Y.removeInstance("Accordion",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getItem=function(e){return this._items.filter(function(n){return n.id===e})[0]},t.prototype.open=function(e){var n,r,i=this,o=this.getItem(e);this._options.alwaysOpen||this._items.map(function(s){var a,c;s!==o&&((a=s.triggerEl.classList).remove.apply(a,i._options.activeClasses.split(" ")),(c=s.triggerEl.classList).add.apply(c,i._options.inactiveClasses.split(" ")),s.targetEl.classList.add("hidden"),s.triggerEl.setAttribute("aria-expanded","false"),s.active=!1,s.iconEl&&s.iconEl.classList.add("rotate-180"))}),(n=o.triggerEl.classList).add.apply(n,this._options.activeClasses.split(" ")),(r=o.triggerEl.classList).remove.apply(r,this._options.inactiveClasses.split(" ")),o.triggerEl.setAttribute("aria-expanded","true"),o.targetEl.classList.remove("hidden"),o.active=!0,o.iconEl&&o.iconEl.classList.remove("rotate-180"),this._options.onOpen(this,o)},t.prototype.toggle=function(e){var n=this.getItem(e);n.active?this.close(e):this.open(e),this._options.onToggle(this,n)},t.prototype.close=function(e){var n,r,i=this.getItem(e);(n=i.triggerEl.classList).remove.apply(n,this._options.activeClasses.split(" ")),(r=i.triggerEl.classList).add.apply(r,this._options.inactiveClasses.split(" ")),i.targetEl.classList.add("hidden"),i.triggerEl.setAttribute("aria-expanded","false"),i.active=!1,i.iconEl&&i.iconEl.classList.add("rotate-180"),this._options.onClose(this,i)},t.prototype.updateOnOpen=function(e){this._options.onOpen=e},t.prototype.updateOnClose=function(e){this._options.onClose=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function Fa(){document.querySelectorAll("[data-accordion]").forEach(function(t){var e=t.getAttribute("data-accordion"),n=t.getAttribute("data-active-classes"),r=t.getAttribute("data-inactive-classes"),i=[];t.querySelectorAll("[data-accordion-target]").forEach(function(o){if(o.closest("[data-accordion]")===t){var s={id:o.getAttribute("data-accordion-target"),triggerEl:o,targetEl:document.querySelector(o.getAttribute("data-accordion-target")),iconEl:o.querySelector("[data-accordion-icon]"),active:o.getAttribute("aria-expanded")==="true"};i.push(s)}}),new BR(t,i,{alwaysOpen:e==="open",activeClasses:n||Gp.activeClasses,inactiveClasses:r||Gp.inactiveClasses})})}typeof window<"u"&&(window.Accordion=BR,window.initAccordions=Fa);var Kp=function(){return Kp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Kp.apply(this,arguments)},HR={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},c6={id:null,override:!0},MI=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=HR),i===void 0&&(i=c6),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=n,this._options=Kp(Kp({},HR),r),this._visible=!1,this._initialized=!1,this.init(),Y.addInstance("Collapse",this,this._instanceId,i.override)}return t.prototype.init=function(){var e=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._triggerEl.hasAttribute("aria-expanded")?this._visible=this._triggerEl.getAttribute("aria-expanded")==="true":this._visible=!this._targetEl.classList.contains("hidden"),this._clickHandler=function(){e.toggle()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){Y.removeInstance("Collapse",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},t.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},t.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},t.prototype.updateOnCollapse=function(e){this._options.onCollapse=e},t.prototype.updateOnExpand=function(e){this._options.onExpand=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function ja(){document.querySelectorAll("[data-collapse-toggle]").forEach(function(t){var e=t.getAttribute("data-collapse-toggle"),n=document.getElementById(e);n?Y.instanceExists("Collapse",n.getAttribute("id"))?new MI(n,t,{},{id:n.getAttribute("id")+"_"+Y._generateRandomId()}):new MI(n,t):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-collapse-toggle attribute.'))})}typeof window<"u"&&(window.Collapse=MI,window.initCollapses=ja);var zo=function(){return zo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},zo.apply(this,arguments)},Qp={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},l6={id:null,override:!0},$R=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=Qp),i===void 0&&(i=l6),this._instanceId=i.id?i.id:e.id,this._carouselEl=e,this._items=n,this._options=zo(zo(zo({},Qp),r),{indicators:zo(zo({},Qp.indicators),r.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._initialized=!1,this.init(),Y.addInstance("Carousel",this,this._instanceId,i.override)}return t.prototype.init=function(){var e=this;this._items.length&&!this._initialized&&(this._items.map(function(n){n.el.classList.add("absolute","inset-0","transition-transform","transform")}),this.getActiveItem()?this.slideTo(this.getActiveItem().position):this.slideTo(0),this._indicators.map(function(n,r){n.el.addEventListener("click",function(){e.slideTo(r)})}),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},t.prototype.removeInstance=function(){Y.removeInstance("Carousel",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getItem=function(e){return this._items[e]},t.prototype.slideTo=function(e){var n=this._items[e],r={left:n.position===0?this._items[this._items.length-1]:this._items[n.position-1],middle:n,right:n.position===this._items.length-1?this._items[0]:this._items[n.position+1]};this._rotate(r),this._setActiveItem(n),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},t.prototype.next=function(){var e=this.getActiveItem(),n=null;e.position===this._items.length-1?n=this._items[0]:n=this._items[e.position+1],this.slideTo(n.position),this._options.onNext(this)},t.prototype.prev=function(){var e=this.getActiveItem(),n=null;e.position===0?n=this._items[this._items.length-1]:n=this._items[e.position-1],this.slideTo(n.position),this._options.onPrev(this)},t.prototype._rotate=function(e){if(this._items.map(function(n){n.el.classList.add("hidden")}),this._items.length===1){e.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),e.middle.el.classList.add("translate-x-0","z-20");return}e.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),e.left.el.classList.add("-translate-x-full","z-10"),e.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),e.middle.el.classList.add("translate-x-0","z-30"),e.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-30"),e.right.el.classList.add("translate-x-full","z-20")},t.prototype.cycle=function(){var e=this;typeof window<"u"&&(this._intervalInstance=window.setInterval(function(){e.next()},this._intervalDuration))},t.prototype.pause=function(){clearInterval(this._intervalInstance)},t.prototype.getActiveItem=function(){return this._activeItem},t.prototype._setActiveItem=function(e){var n,r,i=this;this._activeItem=e;var o=e.position;this._indicators.length&&(this._indicators.map(function(s){var a,c;s.el.setAttribute("aria-current","false"),(a=s.el.classList).remove.apply(a,i._options.indicators.activeClasses.split(" ")),(c=s.el.classList).add.apply(c,i._options.indicators.inactiveClasses.split(" "))}),(n=this._indicators[o].el.classList).add.apply(n,this._options.indicators.activeClasses.split(" ")),(r=this._indicators[o].el.classList).remove.apply(r,this._options.indicators.inactiveClasses.split(" ")),this._indicators[o].el.setAttribute("aria-current","true"))},t.prototype.updateOnNext=function(e){this._options.onNext=e},t.prototype.updateOnPrev=function(e){this._options.onPrev=e},t.prototype.updateOnChange=function(e){this._options.onChange=e},t}();function Ua(){document.querySelectorAll("[data-carousel]").forEach(function(t){var e=t.getAttribute("data-carousel-interval"),n=t.getAttribute("data-carousel")==="slide",r=[],i=0;t.querySelectorAll("[data-carousel-item]").length&&Array.from(t.querySelectorAll("[data-carousel-item]")).map(function(u,d){r.push({position:d,el:u}),u.getAttribute("data-carousel-item")==="active"&&(i=d)});var o=[];t.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(t.querySelectorAll("[data-carousel-slide-to]")).map(function(u){o.push({position:parseInt(u.getAttribute("data-carousel-slide-to")),el:u})});var s=new $R(t,r,{defaultPosition:i,indicators:{items:o},interval:e||Qp.interval});n&&s.cycle();var a=t.querySelector("[data-carousel-next]"),c=t.querySelector("[data-carousel-prev]");a&&a.addEventListener("click",function(){s.next()}),c&&c.addEventListener("click",function(){s.prev()})})}typeof window<"u"&&(window.Carousel=$R,window.initCarousels=Ua);var Yp=function(){return Yp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Yp.apply(this,arguments)},zR={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},u6={id:null,override:!0},qR=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=zR),i===void 0&&(i=u6),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=n,this._options=Yp(Yp({},zR),r),this._initialized=!1,this.init(),Y.addInstance("Dismiss",this,this._instanceId,i.override)}return t.prototype.init=function(){var e=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._clickHandler=function(){e.hide()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){Y.removeInstance("Dismiss",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){var e=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout(function(){e._targetEl.classList.add("hidden")},this._options.duration),this._options.onHide(this,this._targetEl)},t.prototype.updateOnHide=function(e){this._options.onHide=e},t}();function Ba(){document.querySelectorAll("[data-dismiss-target]").forEach(function(t){var e=t.getAttribute("data-dismiss-target"),n=document.querySelector(e);n?new qR(n,t):console.error('The dismiss element with id "'.concat(e,'" does not exist. Please check the data-dismiss-target attribute.'))})}typeof window<"u"&&(window.Dismiss=qR,window.initDismisses=Ba);var Be="top",lt="bottom",et="right",Ke="left",Zp="auto",Pi=[Be,lt,et,Ke],Fr="start",qo="end",WR="clippingParents",Jp="viewport",Ha="popper",GR="reference",NI=Pi.reduce(function(t,e){return t.concat([e+"-"+Fr,e+"-"+qo])},[]),Xp=[].concat(Pi,[Zp]).reduce(function(t,e){return t.concat([e,e+"-"+Fr,e+"-"+qo])},[]),d6="beforeRead",h6="read",f6="afterRead",p6="beforeMain",g6="main",m6="afterMain",v6="beforeWrite",y6="write",_6="afterWrite",KR=[d6,h6,f6,p6,g6,m6,v6,y6,_6];function mt(t){return t?(t.nodeName||"").toLowerCase():null}function Pe(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function In(t){var e=Pe(t).Element;return t instanceof e||t instanceof Element}function ut(t){var e=Pe(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function $a(t){if(typeof ShadowRoot>"u")return!1;var e=Pe(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function w6(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!ut(o)||!mt(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function I6(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(c,u){return c[u]="",c},{});!ut(i)||!mt(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(c){i.removeAttribute(c)}))})}}var QR={name:"applyStyles",enabled:!0,phase:"write",fn:w6,effect:I6,requires:["computeStyles"]};function vt(t){return t.split("-")[0]}var Un=Math.max,Wo=Math.min,jr=Math.round;function za(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Ou(){return!/^((?!chrome|android).)*safari/i.test(za())}function En(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&ut(t)&&(i=t.offsetWidth>0&&jr(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&jr(r.height)/t.offsetHeight||1);var s=In(t)?Pe(t):window,a=s.visualViewport,c=!Ou()&&n,u=(r.left+(c&&a?a.offsetLeft:0))/i,d=(r.top+(c&&a?a.offsetTop:0))/o,p=r.width/i,g=r.height/o;return{width:p,height:g,top:d,right:u+p,bottom:d+g,left:u,x:u,y:d}}function Go(t){var e=En(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Lu(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&$a(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function zt(t){return Pe(t).getComputedStyle(t)}function PI(t){return["table","td","th"].indexOf(mt(t))>=0}function Ct(t){return((In(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ur(t){return mt(t)==="html"?t:t.assignedSlot||t.parentNode||($a(t)?t.host:null)||Ct(t)}function YR(t){return!ut(t)||zt(t).position==="fixed"?null:t.offsetParent}function E6(t){var e=/firefox/i.test(za()),n=/Trident/i.test(za());if(n&&ut(t)){var r=zt(t);if(r.position==="fixed")return null}var i=Ur(t);for($a(i)&&(i=i.host);ut(i)&&["html","body"].indexOf(mt(i))<0;){var o=zt(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Bn(t){for(var e=Pe(t),n=YR(t);n&&PI(n)&&zt(n).position==="static";)n=YR(n);return n&&(mt(n)==="html"||mt(n)==="body"&&zt(n).position==="static")?e:n||E6(t)||e}function Ko(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Qo(t,e,n){return Un(t,Wo(e,n))}function ZR(t,e,n){var r=Qo(t,e,n);return r>n?n:r}function Vu(){return{top:0,right:0,bottom:0,left:0}}function Fu(t){return Object.assign({},Vu(),t)}function ju(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var b6=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Fu(typeof e!="number"?e:ju(e,Pi))};function T6(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=vt(n.placement),c=Ko(a),u=[Ke,et].indexOf(a)>=0,d=u?"height":"width";if(!(!o||!s)){var p=b6(i.padding,n),g=Go(o),m=c==="y"?Be:Ke,E=c==="y"?lt:et,x=n.rects.reference[d]+n.rects.reference[c]-s[c]-n.rects.popper[d],A=s[c]-n.rects.reference[c],M=Bn(o),j=M?c==="y"?M.clientHeight||0:M.clientWidth||0:0,U=x/2-A/2,B=p[m],Q=j-g[d]-p[E],H=j/2-g[d]/2+U,T=Qo(B,H,Q),y=c;n.modifiersData[r]=(e={},e[y]=T,e.centerOffset=T-H,e)}}function C6(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Lu(e.elements.popper,i)&&(e.elements.arrow=i))}var JR={name:"arrow",enabled:!0,phase:"main",fn:T6,effect:C6,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function bn(t){return t.split("-")[1]}var S6={top:"auto",right:"auto",bottom:"auto",left:"auto"};function D6(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:jr(n*i)/i||0,y:jr(r*i)/i||0}}function XR(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,c=t.gpuAcceleration,u=t.adaptive,d=t.roundOffsets,p=t.isFixed,g=s.x,m=g===void 0?0:g,E=s.y,x=E===void 0?0:E,A=typeof d=="function"?d({x:m,y:x}):{x:m,y:x};m=A.x,x=A.y;var M=s.hasOwnProperty("x"),j=s.hasOwnProperty("y"),U=Ke,B=Be,Q=window;if(u){var H=Bn(n),T="clientHeight",y="clientWidth";if(H===Pe(n)&&(H=Ct(n),zt(H).position!=="static"&&a==="absolute"&&(T="scrollHeight",y="scrollWidth")),H=H,i===Be||(i===Ke||i===et)&&o===qo){B=lt;var _=p&&H===Q&&Q.visualViewport?Q.visualViewport.height:H[T];x-=_-r.height,x*=c?1:-1}if(i===Ke||(i===Be||i===lt)&&o===qo){U=et;var b=p&&H===Q&&Q.visualViewport?Q.visualViewport.width:H[y];m-=b-r.width,m*=c?1:-1}}var C=Object.assign({position:a},u&&S6),S=d===!0?D6({x:m,y:x},Pe(n)):{x:m,y:x};if(m=S.x,x=S.y,c){var I;return Object.assign({},C,(I={},I[B]=j?"0":"",I[U]=M?"0":"",I.transform=(Q.devicePixelRatio||1)<=1?"translate("+m+"px, "+x+"px)":"translate3d("+m+"px, "+x+"px, 0)",I))}return Object.assign({},C,(e={},e[B]=j?x+"px":"",e[U]=M?m+"px":"",e.transform="",e))}function A6(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,c=a===void 0?!0:a,u={placement:vt(e.placement),variation:bn(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,XR(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,XR(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var eM={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:A6,data:{}};var eg={passive:!0};function x6(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,c=Pe(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(d){d.addEventListener("scroll",n.update,eg)}),a&&c.addEventListener("resize",n.update,eg),function(){o&&u.forEach(function(d){d.removeEventListener("scroll",n.update,eg)}),a&&c.removeEventListener("resize",n.update,eg)}}var tM={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:x6,data:{}};var k6={left:"right",right:"left",bottom:"top",top:"bottom"};function qa(t){return t.replace(/left|right|bottom|top/g,function(e){return k6[e]})}var R6={start:"end",end:"start"};function tg(t){return t.replace(/start|end/g,function(e){return R6[e]})}function Yo(t){var e=Pe(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Zo(t){return En(Ct(t)).left+Yo(t).scrollLeft}function OI(t,e){var n=Pe(t),r=Ct(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;var u=Ou();(u||!u&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a+Zo(t),y:c}}function LI(t){var e,n=Ct(t),r=Yo(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=Un(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Un(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Zo(t),c=-r.scrollTop;return zt(i||n).direction==="rtl"&&(a+=Un(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:c}}function Jo(t){var e=zt(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function ng(t){return["html","body","#document"].indexOf(mt(t))>=0?t.ownerDocument.body:ut(t)&&Jo(t)?t:ng(Ur(t))}function Oi(t,e){var n;e===void 0&&(e=[]);var r=ng(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Pe(r),s=i?[o].concat(o.visualViewport||[],Jo(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(Oi(Ur(s)))}function Wa(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function M6(t,e){var n=En(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function nM(t,e,n){return e===Jp?Wa(OI(t,n)):In(e)?M6(e,n):Wa(LI(Ct(t)))}function N6(t){var e=Oi(Ur(t)),n=["absolute","fixed"].indexOf(zt(t).position)>=0,r=n&&ut(t)?Bn(t):t;return In(r)?e.filter(function(i){return In(i)&&Lu(i,r)&&mt(i)!=="body"}):[]}function VI(t,e,n,r){var i=e==="clippingParents"?N6(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(c,u){var d=nM(t,u,r);return c.top=Un(d.top,c.top),c.right=Wo(d.right,c.right),c.bottom=Wo(d.bottom,c.bottom),c.left=Un(d.left,c.left),c},nM(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Uu(t){var e=t.reference,n=t.element,r=t.placement,i=r?vt(r):null,o=r?bn(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,c;switch(i){case Be:c={x:s,y:e.y-n.height};break;case lt:c={x:s,y:e.y+e.height};break;case et:c={x:e.x+e.width,y:a};break;case Ke:c={x:e.x-n.width,y:a};break;default:c={x:e.x,y:e.y}}var u=i?Ko(i):null;if(u!=null){var d=u==="y"?"height":"width";switch(o){case Fr:c[u]=c[u]-(e[d]/2-n[d]/2);break;case qo:c[u]=c[u]+(e[d]/2-n[d]/2);break;default:}}return c}function Hn(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,c=a===void 0?WR:a,u=n.rootBoundary,d=u===void 0?Jp:u,p=n.elementContext,g=p===void 0?Ha:p,m=n.altBoundary,E=m===void 0?!1:m,x=n.padding,A=x===void 0?0:x,M=Fu(typeof A!="number"?A:ju(A,Pi)),j=g===Ha?GR:Ha,U=t.rects.popper,B=t.elements[E?j:g],Q=VI(In(B)?B:B.contextElement||Ct(t.elements.popper),c,d,s),H=En(t.elements.reference),T=Uu({reference:H,element:U,strategy:"absolute",placement:i}),y=Wa(Object.assign({},U,T)),_=g===Ha?y:H,b={top:Q.top-_.top+M.top,bottom:_.bottom-Q.bottom+M.bottom,left:Q.left-_.left+M.left,right:_.right-Q.right+M.right},C=t.modifiersData.offset;if(g===Ha&&C){var S=C[i];Object.keys(b).forEach(function(I){var Qe=[et,lt].indexOf(I)>=0?1:-1,De=[Be,lt].indexOf(I)>=0?"y":"x";b[I]+=S[De]*Qe})}return b}function FI(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,u=c===void 0?Xp:c,d=bn(r),p=d?a?NI:NI.filter(function(E){return bn(E)===d}):Pi,g=p.filter(function(E){return u.indexOf(E)>=0});g.length===0&&(g=p);var m=g.reduce(function(E,x){return E[x]=Hn(t,{placement:x,boundary:i,rootBoundary:o,padding:s})[vt(x)],E},{});return Object.keys(m).sort(function(E,x){return m[E]-m[x]})}function P6(t){if(vt(t)===Zp)return[];var e=qa(t);return[tg(t),e,tg(e)]}function O6(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,c=n.fallbackPlacements,u=n.padding,d=n.boundary,p=n.rootBoundary,g=n.altBoundary,m=n.flipVariations,E=m===void 0?!0:m,x=n.allowedAutoPlacements,A=e.options.placement,M=vt(A),j=M===A,U=c||(j||!E?[qa(A)]:P6(A)),B=[A].concat(U).reduce(function(Jr,Wt){return Jr.concat(vt(Wt)===Zp?FI(e,{placement:Wt,boundary:d,rootBoundary:p,padding:u,flipVariations:E,allowedAutoPlacements:x}):Wt)},[]),Q=e.rects.reference,H=e.rects.popper,T=new Map,y=!0,_=B[0],b=0;b<B.length;b++){var C=B[b],S=vt(C),I=bn(C)===Fr,Qe=[Be,lt].indexOf(S)>=0,De=Qe?"width":"height",wt=Hn(e,{placement:C,boundary:d,rootBoundary:p,altBoundary:g,padding:u}),Ye=Qe?I?et:Ke:I?lt:Be;Q[De]>H[De]&&(Ye=qa(Ye));var zn=qa(Ye),Dn=[];if(o&&Dn.push(wt[S]<=0),a&&Dn.push(wt[Ye]<=0,wt[zn]<=0),Dn.every(function(Jr){return Jr})){_=C,y=!1;break}T.set(C,Dn)}if(y)for(var Qi=E?3:1,Vc=function(Wt){var Yi=B.find(function(qn){var vr=T.get(qn);if(vr)return vr.slice(0,Wt).every(function(Fc){return Fc})});if(Yi)return _=Yi,"break"},qt=Qi;qt>0;qt--){var ze=Vc(qt);if(ze==="break")break}e.placement!==_&&(e.modifiersData[r]._skip=!0,e.placement=_,e.reset=!0)}}var rM={name:"flip",enabled:!0,phase:"main",fn:O6,requiresIfExists:["offset"],data:{_skip:!1}};function iM(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function oM(t){return[Be,et,lt,Ke].some(function(e){return t[e]>=0})}function L6(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=Hn(e,{elementContext:"reference"}),a=Hn(e,{altBoundary:!0}),c=iM(s,r),u=iM(a,i,o),d=oM(c),p=oM(u);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}var sM={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:L6};function V6(t,e,n){var r=vt(t),i=[Ke,Be].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Ke,et].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function F6(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=Xp.reduce(function(d,p){return d[p]=V6(p,e.rects,o),d},{}),a=s[e.placement],c=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=s}var aM={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:F6};function j6(t){var e=t.state,n=t.name;e.modifiersData[n]=Uu({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var cM={name:"popperOffsets",enabled:!0,phase:"read",fn:j6,data:{}};function jI(t){return t==="x"?"y":"x"}function U6(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,c=n.boundary,u=n.rootBoundary,d=n.altBoundary,p=n.padding,g=n.tether,m=g===void 0?!0:g,E=n.tetherOffset,x=E===void 0?0:E,A=Hn(e,{boundary:c,rootBoundary:u,padding:p,altBoundary:d}),M=vt(e.placement),j=bn(e.placement),U=!j,B=Ko(M),Q=jI(B),H=e.modifiersData.popperOffsets,T=e.rects.reference,y=e.rects.popper,_=typeof x=="function"?x(Object.assign({},e.rects,{placement:e.placement})):x,b=typeof _=="number"?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),C=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,S={x:0,y:0};if(H){if(o){var I,Qe=B==="y"?Be:Ke,De=B==="y"?lt:et,wt=B==="y"?"height":"width",Ye=H[B],zn=Ye+A[Qe],Dn=Ye-A[De],Qi=m?-y[wt]/2:0,Vc=j===Fr?T[wt]:y[wt],qt=j===Fr?-y[wt]:-T[wt],ze=e.elements.arrow,Jr=m&&ze?Go(ze):{width:0,height:0},Wt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Vu(),Yi=Wt[Qe],qn=Wt[De],vr=Qo(0,T[wt],Jr[wt]),Fc=U?T[wt]/2-Qi-vr-Yi-b.mainAxis:Vc-vr-Yi-b.mainAxis,ys=U?-T[wt]/2+Qi+vr+qn+b.mainAxis:qt+vr+qn+b.mainAxis,Xr=e.elements.arrow&&Bn(e.elements.arrow),jc=Xr?B==="y"?Xr.clientTop||0:Xr.clientLeft||0:0,_s=(I=C?.[B])!=null?I:0,Uc=Ye+Fc-_s-jc,Bc=Ye+ys-_s,Hc=Qo(m?Wo(zn,Uc):zn,Ye,m?Un(Dn,Bc):Dn);H[B]=Hc,S[B]=Hc-Ye}if(a){var $c,Nm=B==="x"?Be:Ke,_d=B==="x"?lt:et,Wn=H[Q],ei=Q==="y"?"height":"width",zc=Wn+A[Nm],wd=Wn-A[_d],Zi=[Be,Ke].indexOf(M)!==-1,ws=($c=C?.[Q])!=null?$c:0,Is=Zi?zc:Wn-T[ei]-y[ei]-ws+b.altAxis,rt=Zi?Wn+T[ei]+y[ei]-ws-b.altAxis:wd,ht=m&&Zi?ZR(Is,Wn,rt):Qo(m?Is:zc,Wn,m?rt:wd);H[Q]=ht,S[Q]=ht-Wn}e.modifiersData[r]=S}}var lM={name:"preventOverflow",enabled:!0,phase:"main",fn:U6,requiresIfExists:["offset"]};function UI(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function BI(t){return t===Pe(t)||!ut(t)?Yo(t):UI(t)}function B6(t){var e=t.getBoundingClientRect(),n=jr(e.width)/t.offsetWidth||1,r=jr(e.height)/t.offsetHeight||1;return n!==1||r!==1}function HI(t,e,n){n===void 0&&(n=!1);var r=ut(e),i=ut(e)&&B6(e),o=Ct(e),s=En(t,i,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((mt(e)!=="body"||Jo(o))&&(a=BI(e)),ut(e)?(c=En(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):o&&(c.x=Zo(o))),{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function H6(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var c=e.get(a);c&&i(c)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function $I(t){var e=H6(t);return KR.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function zI(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function qI(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var uM={placement:"bottom",modifiers:[],strategy:"absolute"};function dM(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function hM(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?uM:i;return function(a,c,u){u===void 0&&(u=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},uM,o),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},p=[],g=!1,m={state:d,setOptions:function(M){var j=typeof M=="function"?M(d.options):M;x(),d.options=Object.assign({},o,d.options,j),d.scrollParents={reference:In(a)?Oi(a):a.contextElement?Oi(a.contextElement):[],popper:Oi(c)};var U=$I(qI([].concat(r,d.options.modifiers)));return d.orderedModifiers=U.filter(function(B){return B.enabled}),E(),m.update()},forceUpdate:function(){if(!g){var M=d.elements,j=M.reference,U=M.popper;if(dM(j,U)){d.rects={reference:HI(j,Bn(U),d.options.strategy==="fixed"),popper:Go(U)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(b){return d.modifiersData[b.name]=Object.assign({},b.data)});for(var B=0;B<d.orderedModifiers.length;B++){if(d.reset===!0){d.reset=!1,B=-1;continue}var Q=d.orderedModifiers[B],H=Q.fn,T=Q.options,y=T===void 0?{}:T,_=Q.name;typeof H=="function"&&(d=H({state:d,options:y,name:_,instance:m})||d)}}}},update:zI(function(){return new Promise(function(A){m.forceUpdate(),A(d)})}),destroy:function(){x(),g=!0}};if(!dM(a,c))return m;m.setOptions(u).then(function(A){!g&&u.onFirstUpdate&&u.onFirstUpdate(A)});function E(){d.orderedModifiers.forEach(function(A){var M=A.name,j=A.options,U=j===void 0?{}:j,B=A.effect;if(typeof B=="function"){var Q=B({state:d,name:M,instance:m,options:U}),H=function(){};p.push(Q||H)}})}function x(){p.forEach(function(A){return A()}),p=[]}return m}}var $6=[tM,cM,eM,QR,aM,rM,lM,JR,sM],Xo=hM({defaultModifiers:$6});var Li=function(){return Li=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Li.apply(this,arguments)},rg=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},Vi={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,ignoreClickOutsideClass:!1,onShow:function(){},onHide:function(){},onToggle:function(){}},z6={id:null,override:!0},fM=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=Vi),i===void 0&&(i=z6),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=n,this._options=Li(Li({},Vi),r),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),Y.addInstance("Dropdown",this,this._instanceId,i.override)}return t.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._popperInstance=this._createPopperInstance(),this._setupEventListeners(),this._initialized=!0)},t.prototype.destroy=function(){var e=this,n=this._getTriggerEvents();this._options.triggerType==="click"&&n.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._clickHandler)}),this._options.triggerType==="hover"&&(n.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._hoverShowTriggerElHandler),e._targetEl.removeEventListener(r,e._hoverShowTargetElHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._hoverHideHandler),e._targetEl.removeEventListener(r,e._hoverHideHandler)})),this._popperInstance.destroy(),this._initialized=!1},t.prototype.removeInstance=function(){Y.removeInstance("Dropdown",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var e=this,n=this._getTriggerEvents();this._clickHandler=function(){e.toggle()},this._options.triggerType==="click"&&n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._clickHandler)}),this._hoverShowTriggerElHandler=function(r){r.type==="click"?e.toggle():setTimeout(function(){e.show()},e._options.delay)},this._hoverShowTargetElHandler=function(){e.show()},this._hoverHideHandler=function(){setTimeout(function(){e._targetEl.matches(":hover")||e.hide()},e._options.delay)},this._options.triggerType==="hover"&&(n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._hoverShowTriggerElHandler),e._targetEl.addEventListener(r,e._hoverShowTargetElHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._hoverHideHandler),e._targetEl.addEventListener(r,e._hoverHideHandler)}))},t.prototype._createPopperInstance=function(){return Xo(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},t.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(n){e._handleClickOutside(n,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(e,n){var r=e.target,i=this._options.ignoreClickOutsideClass,o=!1;if(i){var s=document.querySelectorAll(".".concat(i));s.forEach(function(a){if(a.contains(r)){o=!0;return}})}r!==n&&!n.contains(r)&&!this._triggerEl.contains(r)&&!o&&this.isVisible()&&this.hide()},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["click"],hideEvents:[]}}},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},t.prototype.isVisible=function(){return this._visible},t.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._targetEl.removeAttribute("aria-hidden"),this._popperInstance.setOptions(function(e){return Li(Li({},e),{modifiers:rg(rg([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._targetEl.setAttribute("aria-hidden","true"),this._popperInstance.setOptions(function(e){return Li(Li({},e),{modifiers:rg(rg([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function Ga(){document.querySelectorAll("[data-dropdown-toggle]").forEach(function(t){var e=t.getAttribute("data-dropdown-toggle"),n=document.getElementById(e);if(n){var r=t.getAttribute("data-dropdown-placement"),i=t.getAttribute("data-dropdown-offset-skidding"),o=t.getAttribute("data-dropdown-offset-distance"),s=t.getAttribute("data-dropdown-trigger"),a=t.getAttribute("data-dropdown-delay"),c=t.getAttribute("data-dropdown-ignore-click-outside-class");new fM(n,t,{placement:r||Vi.placement,triggerType:s||Vi.triggerType,offsetSkidding:i?parseInt(i):Vi.offsetSkidding,offsetDistance:o?parseInt(o):Vi.offsetDistance,delay:a?parseInt(a):Vi.delay,ignoreClickOutsideClass:c||Vi.ignoreClickOutsideClass})}else console.error('The dropdown element with id "'.concat(e,'" does not exist. Please check the data-dropdown-toggle attribute.'))})}typeof window<"u"&&(window.Dropdown=fM,window.initDropdowns=Ga);var ig=function(){return ig=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ig.apply(this,arguments)},og={placement:"center",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},q6={id:null,override:!0},pM=function(){function t(e,n,r){e===void 0&&(e=null),n===void 0&&(n=og),r===void 0&&(r=q6),this._eventListenerInstances=[],this._instanceId=r.id?r.id:e.id,this._targetEl=e,this._options=ig(ig({},og),n),this._isHidden=!0,this._backdropEl=null,this._initialized=!1,this.init(),Y.addInstance("Modal",this,this._instanceId,r.override)}return t.prototype.init=function(){var e=this;this._targetEl&&!this._initialized&&(this._getPlacementClasses().map(function(n){e._targetEl.classList.add(n)}),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),this._initialized=!1)},t.prototype.removeInstance=function(){Y.removeInstance("Modal",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._createBackdrop=function(){var e;if(this._isHidden){var n=document.createElement("div");(e=n.classList).add.apply(e,this._options.backdropClasses.split(" ")),document.querySelector("body").append(n),this._backdropEl=n}},t.prototype._destroyBackdropEl=function(){!this._isHidden&&this._backdropEl&&(this._backdropEl.remove(),this._backdropEl=null)},t.prototype._setupModalCloseEventListeners=function(){var e=this;this._options.backdrop==="dynamic"&&(this._clickOutsideEventListener=function(n){e._handleOutsideClick(n.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(n){n.key==="Escape"&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeModalCloseEventListeners=function(){this._options.backdrop==="dynamic"&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._handleOutsideClick=function(e){(e===this._targetEl||e===this._backdropEl&&this.isVisible())&&this.hide()},t.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"];default:return["justify-center","items-center"]}},t.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},t.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,this._options.closable&&this._setupModalCloseEventListeners(),document.body.classList.add("overflow-hidden"),this._options.onShow(this))},t.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},t.prototype.isVisible=function(){return!this._isHidden},t.prototype.isHidden=function(){return this._isHidden},t.prototype.addEventListenerInstance=function(e,n,r){this._eventListenerInstances.push({element:e,type:n,handler:r})},t.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(e){e.element.removeEventListener(e.type,e.handler)}),this._eventListenerInstances=[]},t.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function Ka(){document.querySelectorAll("[data-modal-target]").forEach(function(t){var e=t.getAttribute("data-modal-target"),n=document.getElementById(e);if(n){var r=n.getAttribute("data-modal-placement"),i=n.getAttribute("data-modal-backdrop");new pM(n,{placement:r||og.placement,backdrop:i||og.backdrop})}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))}),document.querySelectorAll("[data-modal-toggle]").forEach(function(t){var e=t.getAttribute("data-modal-toggle"),n=document.getElementById(e);if(n){var r=Y.getInstance("Modal",e);if(r){var i=function(){r.toggle()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-show]").forEach(function(t){var e=t.getAttribute("data-modal-show"),n=document.getElementById(e);if(n){var r=Y.getInstance("Modal",e);if(r){var i=function(){r.show()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-hide]").forEach(function(t){var e=t.getAttribute("data-modal-hide"),n=document.getElementById(e);if(n){var r=Y.getInstance("Modal",e);if(r){var i=function(){r.hide()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))})}typeof window<"u"&&(window.Modal=pM,window.initModals=Ka);var sg=function(){return sg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},sg.apply(this,arguments)},es={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},W6={id:null,override:!0},gM=function(){function t(e,n,r){e===void 0&&(e=null),n===void 0&&(n=es),r===void 0&&(r=W6),this._eventListenerInstances=[],this._instanceId=r.id?r.id:e.id,this._targetEl=e,this._options=sg(sg({},es),n),this._visible=!1,this._initialized=!1,this.init(),Y.addInstance("Drawer",this,this._instanceId,r.override)}return t.prototype.init=function(){var e=this;this._targetEl&&!this._initialized&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform"),this._getPlacementClasses(this._options.placement).base.map(function(n){e._targetEl.classList.add(n)}),this._handleEscapeKey=function(n){n.key==="Escape"&&e.isVisible()&&e.hide()},document.addEventListener("keydown",this._handleEscapeKey),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),document.removeEventListener("keydown",this._handleEscapeKey),this._initialized=!1)},t.prototype.removeInstance=function(){Y.removeInstance("Drawer",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){var e=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(n){e._targetEl.classList.remove(n)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(n){e._targetEl.classList.add(n)})):(this._getPlacementClasses(this._options.placement).active.map(function(n){e._targetEl.classList.remove(n)}),this._getPlacementClasses(this._options.placement).inactive.map(function(n){e._targetEl.classList.add(n)})),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},t.prototype.show=function(){var e=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(n){e._targetEl.classList.add(n)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(n){e._targetEl.classList.remove(n)})):(this._getPlacementClasses(this._options.placement).active.map(function(n){e._targetEl.classList.add(n)}),this._getPlacementClasses(this._options.placement).inactive.map(function(n){e._targetEl.classList.remove(n)})),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},t.prototype._createBackdrop=function(){var e,n=this;if(!this._visible){var r=document.createElement("div");r.setAttribute("drawer-backdrop",""),(e=r.classList).add.apply(e,this._options.backdropClasses.split(" ")),document.querySelector("body").append(r),r.addEventListener("click",function(){n.hide()})}},t.prototype._destroyBackdropEl=function(){this._visible&&document.querySelector("[drawer-backdrop]")!==null&&document.querySelector("[drawer-backdrop]").remove()},t.prototype._getPlacementClasses=function(e){switch(e){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]};default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]}}},t.prototype.isHidden=function(){return!this._visible},t.prototype.isVisible=function(){return this._visible},t.prototype.addEventListenerInstance=function(e,n,r){this._eventListenerInstances.push({element:e,type:n,handler:r})},t.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(e){e.element.removeEventListener(e.type,e.handler)}),this._eventListenerInstances=[]},t.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function Qa(){document.querySelectorAll("[data-drawer-target]").forEach(function(t){var e=t.getAttribute("data-drawer-target"),n=document.getElementById(e);if(n){var r=t.getAttribute("data-drawer-placement"),i=t.getAttribute("data-drawer-body-scrolling"),o=t.getAttribute("data-drawer-backdrop"),s=t.getAttribute("data-drawer-edge"),a=t.getAttribute("data-drawer-edge-offset");new gM(n,{placement:r||es.placement,bodyScrolling:i?i==="true":es.bodyScrolling,backdrop:o?o==="true":es.backdrop,edge:s?s==="true":es.edge,edgeOffset:a||es.edgeOffset})}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-toggle]").forEach(function(t){var e=t.getAttribute("data-drawer-toggle"),n=document.getElementById(e);if(n){var r=Y.getInstance("Drawer",e);if(r){var i=function(){r.toggle()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach(function(t){var e=t.getAttribute("data-drawer-dismiss")?t.getAttribute("data-drawer-dismiss"):t.getAttribute("data-drawer-hide"),n=document.getElementById(e);if(n){var r=Y.getInstance("Drawer",e);if(r){var i=function(){r.hide()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))}),document.querySelectorAll("[data-drawer-show]").forEach(function(t){var e=t.getAttribute("data-drawer-show"),n=document.getElementById(e);if(n){var r=Y.getInstance("Drawer",e);if(r){var i=function(){r.show()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})}typeof window<"u"&&(window.Drawer=gM,window.initDrawers=Qa);var ag=function(){return ag=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ag.apply(this,arguments)},cg={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},G6={id:null,override:!0},mM=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=cg),i===void 0&&(i=G6),this._instanceId=i.id?i.id:e.id,this._tabsEl=e,this._items=n,this._activeTab=r?this.getTab(r.defaultTabId):null,this._options=ag(ag({},cg),r),this._initialized=!1,this.init(),Y.addInstance("Tabs",this,this._instanceId,i.override)}return t.prototype.init=function(){var e=this;this._items.length&&!this._initialized&&(this._activeTab||this.setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map(function(n){n.triggerEl.addEventListener("click",function(r){r.preventDefault(),e.show(n.id)})}))},t.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},t.prototype.removeInstance=function(){this.destroy(),Y.removeInstance("Tabs",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getActiveTab=function(){return this._activeTab},t.prototype.setActiveTab=function(e){this._activeTab=e},t.prototype.getTab=function(e){return this._items.filter(function(n){return n.id===e})[0]},t.prototype.show=function(e,n){var r,i,o=this;n===void 0&&(n=!1);var s=this.getTab(e);s===this._activeTab&&!n||(this._items.map(function(a){var c,u;a!==s&&((c=a.triggerEl.classList).remove.apply(c,o._options.activeClasses.split(" ")),(u=a.triggerEl.classList).add.apply(u,o._options.inactiveClasses.split(" ")),a.targetEl.classList.add("hidden"),a.triggerEl.setAttribute("aria-selected","false"))}),(r=s.triggerEl.classList).add.apply(r,this._options.activeClasses.split(" ")),(i=s.triggerEl.classList).remove.apply(i,this._options.inactiveClasses.split(" ")),s.triggerEl.setAttribute("aria-selected","true"),s.targetEl.classList.remove("hidden"),this.setActiveTab(s),this._options.onShow(this,s))},t.prototype.updateOnShow=function(e){this._options.onShow=e},t}();function Ya(){document.querySelectorAll("[data-tabs-toggle]").forEach(function(t){var e=[],n=t.getAttribute("data-tabs-active-classes"),r=t.getAttribute("data-tabs-inactive-classes"),i=null;t.querySelectorAll('[role="tab"]').forEach(function(o){var s=o.getAttribute("aria-selected")==="true",a={id:o.getAttribute("data-tabs-target"),triggerEl:o,targetEl:document.querySelector(o.getAttribute("data-tabs-target"))};e.push(a),s&&(i=a.id)}),new mM(t,e,{defaultTabId:i,activeClasses:n||cg.activeClasses,inactiveClasses:r||cg.inactiveClasses})})}typeof window<"u"&&(window.Tabs=mM,window.initTabs=Ya);var Fi=function(){return Fi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Fi.apply(this,arguments)},lg=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},ug={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},K6={id:null,override:!0},vM=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=ug),i===void 0&&(i=K6),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=n,this._options=Fi(Fi({},ug),r),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),Y.addInstance("Tooltip",this,this._instanceId,i.override)}return t.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},t.prototype.destroy=function(){var e=this;if(this._initialized){var n=this._getTriggerEvents();n.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._showHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},t.prototype.removeInstance=function(){Y.removeInstance("Tooltip",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var e=this,n=this._getTriggerEvents();this._showHandler=function(){e.show()},this._hideHandler=function(){e.hide()},n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._showHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._hideHandler)})},t.prototype._createPopperInstance=function(){return Xo(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},t.prototype._setupKeydownListener=function(){var e=this;this._keydownEventListener=function(n){n.key==="Escape"&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(n){e._handleClickOutside(n,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(e,n){var r=e.target;r!==n&&!n.contains(r)&&!this._triggerEl.contains(r)&&this.isVisible()&&this.hide()},t.prototype.isVisible=function(){return this._visible},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},t.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(e){return Fi(Fi({},e),{modifiers:lg(lg([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(e){return Fi(Fi({},e),{modifiers:lg(lg([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function Za(){document.querySelectorAll("[data-tooltip-target]").forEach(function(t){var e=t.getAttribute("data-tooltip-target"),n=document.getElementById(e);if(n){var r=t.getAttribute("data-tooltip-trigger"),i=t.getAttribute("data-tooltip-placement");new vM(n,t,{placement:i||ug.placement,triggerType:r||ug.triggerType})}else console.error('The tooltip element with id "'.concat(e,'" does not exist. Please check the data-tooltip-target attribute.'))})}typeof window<"u"&&(window.Tooltip=vM,window.initTooltips=Za);var ji=function(){return ji=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ji.apply(this,arguments)},dg=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},Bu={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},Q6={id:null,override:!0},yM=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=Bu),i===void 0&&(i=Q6),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=n,this._options=ji(ji({},Bu),r),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),Y.addInstance("Popover",this,i.id?i.id:this._targetEl.id,i.override)}return t.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},t.prototype.destroy=function(){var e=this;if(this._initialized){var n=this._getTriggerEvents();n.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._showHandler),e._targetEl.removeEventListener(r,e._showHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._hideHandler),e._targetEl.removeEventListener(r,e._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},t.prototype.removeInstance=function(){Y.removeInstance("Popover",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var e=this,n=this._getTriggerEvents();this._showHandler=function(){e.show()},this._hideHandler=function(){setTimeout(function(){e._targetEl.matches(":hover")||e.hide()},100)},n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._showHandler),e._targetEl.addEventListener(r,e._showHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._hideHandler),e._targetEl.addEventListener(r,e._hideHandler)})},t.prototype._createPopperInstance=function(){return Xo(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},t.prototype._setupKeydownListener=function(){var e=this;this._keydownEventListener=function(n){n.key==="Escape"&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(n){e._handleClickOutside(n,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(e,n){var r=e.target;r!==n&&!n.contains(r)&&!this._triggerEl.contains(r)&&this.isVisible()&&this.hide()},t.prototype.isVisible=function(){return this._visible},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},t.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(e){return ji(ji({},e),{modifiers:dg(dg([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(e){return ji(ji({},e),{modifiers:dg(dg([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function Ja(){document.querySelectorAll("[data-popover-target]").forEach(function(t){var e=t.getAttribute("data-popover-target"),n=document.getElementById(e);if(n){var r=t.getAttribute("data-popover-trigger"),i=t.getAttribute("data-popover-placement"),o=t.getAttribute("data-popover-offset");new yM(n,t,{placement:i||Bu.placement,offset:o?parseInt(o):Bu.offset,triggerType:r||Bu.triggerType})}else console.error('The popover element with id "'.concat(e,'" does not exist. Please check the data-popover-target attribute.'))})}typeof window<"u"&&(window.Popover=yM,window.initPopovers=Ja);var hg=function(){return hg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},hg.apply(this,arguments)},WI={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},Y6={id:null,override:!0},_M=function(){function t(e,n,r,i,o){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=null),i===void 0&&(i=WI),o===void 0&&(o=Y6),this._instanceId=o.id?o.id:r.id,this._parentEl=e,this._triggerEl=n,this._targetEl=r,this._options=hg(hg({},WI),i),this._visible=!1,this._initialized=!1,this.init(),Y.addInstance("Dial",this,this._instanceId,o.override)}return t.prototype.init=function(){var e=this;if(this._triggerEl&&this._targetEl&&!this._initialized){var n=this._getTriggerEventTypes(this._options.triggerType);this._showEventHandler=function(){e.show()},n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._showEventHandler),e._targetEl.addEventListener(r,e._showEventHandler)}),this._hideEventHandler=function(){e._parentEl.matches(":hover")||e.hide()},n.hideEvents.forEach(function(r){e._parentEl.addEventListener(r,e._hideEventHandler)}),this._initialized=!0}},t.prototype.destroy=function(){var e=this;if(this._initialized){var n=this._getTriggerEventTypes(this._options.triggerType);n.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._showEventHandler),e._targetEl.removeEventListener(r,e._showEventHandler)}),n.hideEvents.forEach(function(r){e._parentEl.removeEventListener(r,e._hideEventHandler)}),this._initialized=!1}},t.prototype.removeInstance=function(){Y.removeInstance("Dial",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},t.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},t.prototype.toggle=function(){this._visible?this.hide():this.show()},t.prototype.isHidden=function(){return!this._visible},t.prototype.isVisible=function(){return this._visible},t.prototype._getTriggerEventTypes=function(e){switch(e){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function Xa(){document.querySelectorAll("[data-dial-init]").forEach(function(t){var e=t.querySelector("[data-dial-toggle]");if(e){var n=e.getAttribute("data-dial-toggle"),r=document.getElementById(n);if(r){var i=e.getAttribute("data-dial-trigger");new _M(t,e,r,{triggerType:i||WI.triggerType})}else console.error("Dial with id ".concat(n," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(t.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))})}typeof window<"u"&&(window.Dial=_M,window.initDials=Xa);var fg=function(){return fg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},fg.apply(this,arguments)},wM={minValue:null,maxValue:null,onIncrement:function(){},onDecrement:function(){}},Z6={id:null,override:!0},IM=function(){function t(e,n,r,i,o){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=null),i===void 0&&(i=wM),o===void 0&&(o=Z6),this._instanceId=o.id?o.id:e.id,this._targetEl=e,this._incrementEl=n,this._decrementEl=r,this._options=fg(fg({},wM),i),this._initialized=!1,this.init(),Y.addInstance("InputCounter",this,this._instanceId,o.override)}return t.prototype.init=function(){var e=this;this._targetEl&&!this._initialized&&(this._inputHandler=function(n){{var r=n.target;/^\d*$/.test(r.value)||(r.value=r.value.replace(/[^\d]/g,"")),e._options.maxValue!==null&&parseInt(r.value)>e._options.maxValue&&(r.value=e._options.maxValue.toString()),e._options.minValue!==null&&parseInt(r.value)<e._options.minValue&&(r.value=e._options.minValue.toString())}},this._incrementClickHandler=function(){e.increment()},this._decrementClickHandler=function(){e.decrement()},this._targetEl.addEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.addEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.addEventListener("click",this._decrementClickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._targetEl&&this._initialized&&(this._targetEl.removeEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.removeEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.removeEventListener("click",this._decrementClickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){Y.removeInstance("InputCounter",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getCurrentValue=function(){return parseInt(this._targetEl.value)||0},t.prototype.increment=function(){this._options.maxValue!==null&&this.getCurrentValue()>=this._options.maxValue||(this._targetEl.value=(this.getCurrentValue()+1).toString(),this._options.onIncrement(this))},t.prototype.decrement=function(){this._options.minValue!==null&&this.getCurrentValue()<=this._options.minValue||(this._targetEl.value=(this.getCurrentValue()-1).toString(),this._options.onDecrement(this))},t.prototype.updateOnIncrement=function(e){this._options.onIncrement=e},t.prototype.updateOnDecrement=function(e){this._options.onDecrement=e},t}();function ec(){document.querySelectorAll("[data-input-counter]").forEach(function(t){var e=t.id,n=document.querySelector('[data-input-counter-increment="'+e+'"]'),r=document.querySelector('[data-input-counter-decrement="'+e+'"]'),i=t.getAttribute("data-input-counter-min"),o=t.getAttribute("data-input-counter-max");t?Y.instanceExists("InputCounter",t.getAttribute("id"))||new IM(t,n||null,r||null,{minValue:i?parseInt(i):null,maxValue:o?parseInt(o):null}):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-input-counter attribute.'))})}typeof window<"u"&&(window.InputCounter=IM,window.initInputCounters=ec);var pg=function(){return pg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},pg.apply(this,arguments)},gg={htmlEntities:!1,contentType:"input",onCopy:function(){}},J6={id:null,override:!0},EM=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=gg),i===void 0&&(i=J6),this._instanceId=i.id?i.id:n.id,this._triggerEl=e,this._targetEl=n,this._options=pg(pg({},gg),r),this._initialized=!1,this.init(),Y.addInstance("CopyClipboard",this,this._instanceId,i.override)}return t.prototype.init=function(){var e=this;this._targetEl&&this._triggerEl&&!this._initialized&&(this._triggerElClickHandler=function(){e.copy()},this._triggerEl&&this._triggerEl.addEventListener("click",this._triggerElClickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._triggerEl&&this._targetEl&&this._initialized&&(this._triggerEl&&this._triggerEl.removeEventListener("click",this._triggerElClickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){Y.removeInstance("CopyClipboard",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getTargetValue=function(){if(this._options.contentType==="input")return this._targetEl.value;if(this._options.contentType==="innerHTML")return this._targetEl.innerHTML;if(this._options.contentType==="textContent")return this._targetEl.textContent.replace(/\s+/g," ").trim()},t.prototype.copy=function(){var e=this.getTargetValue();this._options.htmlEntities&&(e=this.decodeHTML(e));var n=document.createElement("textarea");return n.value=e,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),this._options.onCopy(this),e},t.prototype.decodeHTML=function(e){var n=document.createElement("textarea");return n.innerHTML=e,n.textContent},t.prototype.updateOnCopyCallback=function(e){this._options.onCopy=e},t}();function tc(){document.querySelectorAll("[data-copy-to-clipboard-target]").forEach(function(t){var e=t.getAttribute("data-copy-to-clipboard-target"),n=document.getElementById(e),r=t.getAttribute("data-copy-to-clipboard-content-type"),i=t.getAttribute("data-copy-to-clipboard-html-entities");n?Y.instanceExists("CopyClipboard",n.getAttribute("id"))||new EM(t,n,{htmlEntities:i&&i==="true"?!0:gg.htmlEntities,contentType:r||gg.contentType}):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-copy-to-clipboard-target attribute.'))})}typeof window<"u"&&(window.CopyClipboard=EM,window.initClipboards=tc);function eE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function X6(t){if(Array.isArray(t))return t}function eW(t){if(Array.isArray(t))return eE(t)}function tW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iE(t,e,n){return e=Bi(e),sW(t,BM()?Reflect.construct(e,n||[],Bi(t).constructor):e.apply(t,n))}function rs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lW(r.key),r)}}function is(t,e,n){return e&&bM(t.prototype,e),n&&bM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wu(){return Wu=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=aW(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Wu.apply(null,arguments)}function Bi(t){return Bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bi(t)}function oE(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tE(t,e)}function BM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BM=function(){return!!t})()}function nW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function iW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sW(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tW(t)}function tE(t,e){return tE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},tE(t,e)}function an(t,e){return X6(t)||rW(t,e)||HM(t,e)||iW()}function aW(t,e){for(;!{}.hasOwnProperty.call(t,e)&&(t=Bi(t))!==null;);return t}function Qu(t){return eW(t)||nW(t)||HM(t)||oW()}function cW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lW(t){var e=cW(t,"string");return typeof e=="symbol"?e:e+""}function yg(t){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(t)}function HM(t,e){if(t){if(typeof t=="string")return eE(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eE(t,e):void 0}}function Br(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function sE(t){return t[t.length-1]}function ns(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.forEach(function(i){t.includes(i)||t.push(i)}),t}function GI(t,e){return t?t.split(e):[]}function aE(t,e,n){var r=e===void 0||t>=e,i=n===void 0||t<=n;return r&&i}function $M(t,e,n){return t<e?e:t>n?n:t}function oc(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",o=Object.keys(n).reduce(function(a,c){var u=n[c];return typeof u=="function"&&(u=u(r)),"".concat(a," ").concat(c,'="').concat(u,'"')},t);i+="<".concat(o,"></").concat(t,">");var s=r+1;return s<e?oc(t,e,n,s,i):i}function cE(t){return t.replace(/>\s+/g,">").replace(/\s+</,"<")}function nE(t){return new Date(t).setHours(0,0,0,0)}function os(){return new Date().setHours(0,0,0,0)}function Ui(){switch(arguments.length){case 0:return os();case 1:return nE(arguments.length<=0?void 0:arguments[0])}var t=new Date(0);return t.setFullYear.apply(t,arguments),t.setHours(0,0,0,0)}function nc(t,e){var n=new Date(t);return n.setDate(n.getDate()+e)}function uW(t,e){return nc(t,e*7)}function _g(t,e){var n=new Date(t),r=n.getMonth()+e,i=r%12;i<0&&(i+=12);var o=n.setMonth(r);return n.getMonth()!==i?n.setDate(0):o}function rc(t,e){var n=new Date(t),r=n.getMonth(),i=n.setFullYear(n.getFullYear()+e);return r===1&&n.getMonth()===2?n.setDate(0):i}function TM(t,e){return(t-e+7)%7}function wg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=new Date(t).getDay();return nc(t,TM(e,n)-TM(r,n))}function dW(t){var e=wg(t,4,1),n=wg(new Date(e).setMonth(0,4),4,1);return Math.round((e-n)/6048e5)+1}function ts(t,e){var n=new Date(t).getFullYear();return Math.floor(n/e)*e}var rE=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,hW=/[\s!-/:-@[-`{-~]+/,KI={},CM={y:function(e,n){return new Date(e).setFullYear(parseInt(n,10))},m:function(e,n,r){var i=new Date(e),o=parseInt(n,10)-1;if(isNaN(o)){if(!n)return NaN;var s=n.toLowerCase(),a=function(u){return u.toLowerCase().startsWith(s)};if(o=r.monthsShort.findIndex(a),o<0&&(o=r.months.findIndex(a)),o<0)return NaN}return i.setMonth(o),i.getMonth()!==zM(o)?i.setDate(0):i.getTime()},d:function(e,n){return new Date(e).setDate(parseInt(n,10))}},fW={d:function(e){return e.getDate()},dd:function(e){return mg(e.getDate(),2)},D:function(e,n){return n.daysShort[e.getDay()]},DD:function(e,n){return n.days[e.getDay()]},m:function(e){return e.getMonth()+1},mm:function(e){return mg(e.getMonth()+1,2)},M:function(e,n){return n.monthsShort[e.getMonth()]},MM:function(e,n){return n.months[e.getMonth()]},y:function(e){return e.getFullYear()},yy:function(e){return mg(e.getFullYear(),2).slice(-2)},yyyy:function(e){return mg(e.getFullYear(),4)}};function zM(t){return t>-1?t%12:zM(t+12)}function mg(t,e){return t.toString().padStart(e,"0")}function qM(t){if(typeof t!="string")throw new Error("Invalid date format.");if(t in KI)return KI[t];var e=t.split(rE),n=t.match(new RegExp(rE,"g"));if(e.length===0||!n)throw new Error("Invalid date format.");var r=n.map(function(o){return fW[o]}),i=Object.keys(CM).reduce(function(o,s){var a=n.find(function(c){return c[0]!=="D"&&c[0].toLowerCase()===s});return a&&o.push(s),o},[]);return KI[t]={parser:function(s,a){var c=s.split(hW).reduce(function(u,d,p){if(d.length>0&&n[p]){var g=n[p][0];g==="M"?u.m=d:g!=="D"&&(u[g]=d)}return u},{});return i.reduce(function(u,d){var p=CM[d](u,c[d],a);return isNaN(p)?u:p},os())},formatter:function(s,a){var c=r.reduce(function(u,d,p){return u+="".concat(e[p]).concat(d(s,a))},"");return c+=sE(e)}}}function Gu(t,e,n){if(t instanceof Date||typeof t=="number"){var r=nE(t);return isNaN(r)?void 0:r}if(t){if(t==="today")return os();if(e&&e.toValue){var i=e.toValue(t,e,n);return isNaN(i)?void 0:nE(i)}return qM(e).parser(t,n)}}function Ku(t,e,n){if(isNaN(t)||!t&&t!==0)return"";var r=typeof t=="number"?new Date(t):t;return e.toDisplay?e.toDisplay(r,e,n):qM(e).formatter(r,n)}var Ig=new WeakMap,WM=EventTarget.prototype,SM=WM.addEventListener,DM=WM.removeEventListener;function lE(t,e){var n=Ig.get(t);n||(n=[],Ig.set(t,n)),e.forEach(function(r){SM.call.apply(SM,Qu(r)),n.push(r)})}function GM(t){var e=Ig.get(t);e&&(e.forEach(function(n){DM.call.apply(DM,Qu(n))}),Ig.delete(t))}Event.prototype.composedPath||(AM=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];n.push(e);var r;return e.parentNode?r=e.parentNode:e.host?r=e.host:e.defaultView&&(r=e.defaultView),r?t(r,n):n},Event.prototype.composedPath=function(){return AM(this.target)});var AM;function KM(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=t[r];return e(i)?i:i===n||!i.parentElement?void 0:KM(t,e,n,r+1)}function QM(t,e){var n=typeof e=="function"?e:function(r){return r.matches(e)};return KM(t.composedPath(),n,t.currentTarget)}var Hu={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},Yu={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,calendarWeeks:!1,clearBtn:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/></svg>',orientation:"auto",pickLevel:0,prevArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5H1m0 0 4 4M1 5l4-4"/></svg>',showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayBtn:!1,todayBtnMode:0,todayHighlight:!1,updateOnBlur:!0,weekStart:0},QI=null;function Hr(t){return QI==null&&(QI=document.createRange()),QI.createContextualFragment(t)}function zu(t){t.style.display!=="none"&&(t.style.display&&(t.dataset.styleDisplay=t.style.display),t.style.display="none")}function qu(t){t.style.display==="none"&&(t.dataset.styleDisplay?(t.style.display=t.dataset.styleDisplay,delete t.dataset.styleDisplay):t.style.display="")}function Eg(t){t.firstChild&&(t.removeChild(t.firstChild),Eg(t))}function pW(t,e){Eg(t),e instanceof DocumentFragment?t.appendChild(e):typeof e=="string"?t.appendChild(Hr(e)):typeof e.forEach=="function"&&e.forEach(function(n){t.appendChild(n)})}var YI=Yu.language,gW=Yu.format,mW=Yu.weekStart;function xM(t,e){return t.length<6&&e>=0&&e<7?ns(t,e):t}function kM(t){return(t+6)%7}function RM(t,e,n,r){var i=Gu(t,e,n);return i!==void 0?i:r}function ZI(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:3,r=parseInt(t,10);return r>=0&&r<=n?r:e}function JI(t,e){var n=Object.assign({},t),r={},i=e.constructor.locales,o=e.config||{},s=o.format,a=o.language,c=o.locale,u=o.maxDate,d=o.maxView,p=o.minDate,g=o.pickLevel,m=o.startView,E=o.weekStart;if(n.language){var x;if(n.language!==a&&(i[n.language]?x=n.language:(x=n.language.split("-")[0],i[x]===void 0&&(x=!1))),delete n.language,x){a=r.language=x;var A=c||i[YI];c=Object.assign({format:gW,weekStart:mW},i[YI]),a!==YI&&Object.assign(c,i[a]),r.locale=c,s===A.format&&(s=r.format=c.format),E===A.weekStart&&(E=r.weekStart=c.weekStart,r.weekEnd=kM(c.weekStart))}}if(n.format){var M=typeof n.format.toDisplay=="function",j=typeof n.format.toValue=="function",U=rE.test(n.format);(M&&j||U)&&(s=r.format=n.format),delete n.format}var B=p,Q=u;if(n.minDate!==void 0&&(B=n.minDate===null?Ui(0,0,1):RM(n.minDate,s,c,B),delete n.minDate),n.maxDate!==void 0&&(Q=n.maxDate===null?void 0:RM(n.maxDate,s,c,Q),delete n.maxDate),Q<B?(p=r.minDate=Q,u=r.maxDate=B):(p!==B&&(p=r.minDate=B),u!==Q&&(u=r.maxDate=Q)),n.datesDisabled&&(r.datesDisabled=n.datesDisabled.reduce(function(De,wt){var Ye=Gu(wt,s,c);return Ye!==void 0?ns(De,Ye):De},[]),delete n.datesDisabled),n.defaultViewDate!==void 0){var H=Gu(n.defaultViewDate,s,c);H!==void 0&&(r.defaultViewDate=H),delete n.defaultViewDate}if(n.weekStart!==void 0){var T=Number(n.weekStart)%7;isNaN(T)||(E=r.weekStart=T,r.weekEnd=kM(T)),delete n.weekStart}if(n.daysOfWeekDisabled&&(r.daysOfWeekDisabled=n.daysOfWeekDisabled.reduce(xM,[]),delete n.daysOfWeekDisabled),n.daysOfWeekHighlighted&&(r.daysOfWeekHighlighted=n.daysOfWeekHighlighted.reduce(xM,[]),delete n.daysOfWeekHighlighted),n.maxNumberOfDates!==void 0){var y=parseInt(n.maxNumberOfDates,10);y>=0&&(r.maxNumberOfDates=y,r.multidate=y!==1),delete n.maxNumberOfDates}n.dateDelimiter&&(r.dateDelimiter=String(n.dateDelimiter),delete n.dateDelimiter);var _=g;n.pickLevel!==void 0&&(_=ZI(n.pickLevel,2),delete n.pickLevel),_!==g&&(g=r.pickLevel=_);var b=d;n.maxView!==void 0&&(b=ZI(n.maxView,d),delete n.maxView),b=g>b?g:b,b!==d&&(d=r.maxView=b);var C=m;if(n.startView!==void 0&&(C=ZI(n.startView,C),delete n.startView),C<g?C=g:C>d&&(C=d),C!==m&&(r.startView=C),n.prevArrow){var S=Hr(n.prevArrow);S.childNodes.length>0&&(r.prevArrow=S.childNodes),delete n.prevArrow}if(n.nextArrow){var I=Hr(n.nextArrow);I.childNodes.length>0&&(r.nextArrow=I.childNodes),delete n.nextArrow}if(n.disableTouchKeyboard!==void 0&&(r.disableTouchKeyboard="ontouchstart"in document&&!!n.disableTouchKeyboard,delete n.disableTouchKeyboard),n.orientation){var Qe=n.orientation.toLowerCase().split(/\s+/g);r.orientation={x:Qe.find(function(De){return De==="left"||De==="right"})||"auto",y:Qe.find(function(De){return De==="top"||De==="bottom"})||"auto"},delete n.orientation}if(n.todayBtnMode!==void 0){switch(n.todayBtnMode){case 0:case 1:r.todayBtnMode=n.todayBtnMode}delete n.todayBtnMode}return Object.keys(n).forEach(function(De){n[De]!==void 0&&Br(Yu,De)&&(r[De]=n[De])}),r}var vW=cE(`<div class="datepicker hidden">
  <div class="datepicker-picker inline-block rounded-lg bg-white dark:bg-gray-700 shadow-lg p-4">
    <div class="datepicker-header">
      <div class="datepicker-title bg-white dark:bg-gray-700 dark:text-white px-2 py-3 text-center font-semibold"></div>
      <div class="datepicker-controls flex justify-between mb-2">
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 prev-btn"></button>
        <button type="button" class="text-sm rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 font-semibold py-2.5 px-5 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-200 view-switch"></button>
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 next-btn"></button>
      </div>
    </div>
    <div class="datepicker-main p-1"></div>
    <div class="datepicker-footer">
      <div class="datepicker-controls flex space-x-2 rtl:space-x-reverse mt-2">
        <button type="button" class="%buttonClass% today-btn text-white bg-blue-700 !bg-primary-700 dark:bg-blue-600 dark:!bg-primary-600 hover:bg-blue-800 hover:!bg-primary-800 dark:hover:bg-blue-700 dark:hover:!bg-primary-700 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
        <button type="button" class="%buttonClass% clear-btn text-gray-900 dark:text-white bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
      </div>
    </div>
  </div>
</div>`),yW=cE(`<div class="days">
  <div class="days-of-week grid grid-cols-7 mb-1">`.concat(oc("span",7,{class:"dow block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),`</div>
  <div class="datepicker-grid w-64 grid grid-cols-7">`).concat(oc("span",42,{class:"block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"}),`</div>
</div>`)),_W=cE(`<div class="calendar-weeks">
  <div class="days-of-week flex"><span class="dow h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"></span></div>
  <div class="weeks">`.concat(oc("span",6,{class:"week block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),`</div>
</div>`)),uE=function(){function t(e,n){rs(this,t),Object.assign(this,n,{picker:e,element:Hr('<div class="datepicker-view flex"></div>').firstChild,selected:[]}),this.init(this.picker.datepicker.config)}return is(t,[{key:"init",value:function(n){n.pickLevel!==void 0&&(this.isMinView=this.id===n.pickLevel),this.setOptions(n),this.updateFocus(),this.updateSelection()}},{key:"performBeforeHook",value:function(n,r,i){var o=this.beforeShow(new Date(i));switch(yg(o)){case"boolean":o={enabled:o};break;case"string":o={classes:o}}if(o){if(o.enabled===!1&&(n.classList.add("disabled"),ns(this.disabled,r)),o.classes){var s,a=o.classes.split(/\s+/);(s=n.classList).add.apply(s,Qu(a)),a.includes("disabled")&&ns(this.disabled,r)}o.content&&pW(n,o.content)}}}])}(),wW=function(t){function e(n){return rs(this,e),iE(this,e,[n,{id:0,name:"days",cellClass:"day"}])}return oE(e,t),is(e,[{key:"init",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(i){var o=Hr(yW).firstChild;this.dow=o.firstChild,this.grid=o.lastChild,this.element.appendChild(o)}Wu(Bi(e.prototype),"init",this).call(this,r)}},{key:"setOptions",value:function(r){var i=this,o;if(Br(r,"minDate")&&(this.minDate=r.minDate),Br(r,"maxDate")&&(this.maxDate=r.maxDate),r.datesDisabled&&(this.datesDisabled=r.datesDisabled),r.daysOfWeekDisabled&&(this.daysOfWeekDisabled=r.daysOfWeekDisabled,o=!0),r.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=r.daysOfWeekHighlighted),r.todayHighlight!==void 0&&(this.todayHighlight=r.todayHighlight),r.weekStart!==void 0&&(this.weekStart=r.weekStart,this.weekEnd=r.weekEnd,o=!0),r.locale){var s=this.locale=r.locale;this.dayNames=s.daysMin,this.switchLabelFormat=s.titleFormat,o=!0}if(r.beforeShowDay!==void 0&&(this.beforeShow=typeof r.beforeShowDay=="function"?r.beforeShowDay:void 0),r.calendarWeeks!==void 0)if(r.calendarWeeks&&!this.calendarWeeks){var a=Hr(_W).firstChild;this.calendarWeeks={element:a,dow:a.firstChild,weeks:a.lastChild},this.element.insertBefore(a,this.element.firstChild)}else this.calendarWeeks&&!r.calendarWeeks&&(this.element.removeChild(this.calendarWeeks.element),this.calendarWeeks=null);r.showDaysOfWeek!==void 0&&(r.showDaysOfWeek?(qu(this.dow),this.calendarWeeks&&qu(this.calendarWeeks.dow)):(zu(this.dow),this.calendarWeeks&&zu(this.calendarWeeks.dow))),o&&Array.from(this.dow.children).forEach(function(c,u){var d=(i.weekStart+u)%7;c.textContent=i.dayNames[d],c.className=i.daysOfWeekDisabled.includes(d)?"dow disabled text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400 cursor-not-allowed":"dow text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"})}},{key:"updateFocus",value:function(){var r=new Date(this.picker.viewDate),i=r.getFullYear(),o=r.getMonth(),s=Ui(i,o,1),a=wg(s,this.weekStart,this.weekStart);this.first=s,this.last=Ui(i,o+1,0),this.start=a,this.focused=this.picker.viewDate}},{key:"updateSelection",value:function(){var r=this.picker.datepicker,i=r.dates,o=r.rangepicker;this.selected=i,o&&(this.range=o.dates)}},{key:"render",value:function(){var r=this;this.today=this.todayHighlight?os():void 0,this.disabled=Qu(this.datesDisabled);var i=Ku(this.focused,this.switchLabelFormat,this.locale);if(this.picker.setViewSwitchLabel(i),this.picker.setPrevBtnDisabled(this.first<=this.minDate),this.picker.setNextBtnDisabled(this.last>=this.maxDate),this.calendarWeeks){var o=wg(this.first,1,1);Array.from(this.calendarWeeks.weeks.children).forEach(function(s,a){s.textContent=dW(uW(o,a))})}Array.from(this.grid.children).forEach(function(s,a){var c=s.classList,u=nc(r.start,a),d=new Date(u),p=d.getDay();if(s.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(r.cellClass),s.dataset.date=u,s.textContent=d.getDate(),u<r.first?c.add("prev","text-gray-500","dark:text-white"):u>r.last&&c.add("next","text-gray-500","dark:text-white"),r.today===u&&c.add("today","bg-gray-100","dark:bg-gray-600"),(u<r.minDate||u>r.maxDate||r.disabled.includes(u))&&(c.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),c.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer")),r.daysOfWeekDisabled.includes(p)&&(c.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),c.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer"),ns(r.disabled,u)),r.daysOfWeekHighlighted.includes(p)&&c.add("highlighted"),r.range){var g=an(r.range,2),m=g[0],E=g[1];u>m&&u<E&&(c.add("range","bg-gray-200","dark:bg-gray-600"),c.remove("rounded-lg","rounded-l-lg","rounded-r-lg")),u===m&&(c.add("range-start","bg-gray-100","dark:bg-gray-600","rounded-l-lg"),c.remove("rounded-lg","rounded-r-lg")),u===E&&(c.add("range-end","bg-gray-100","dark:bg-gray-600","rounded-r-lg"),c.remove("rounded-lg","rounded-l-lg"))}r.selected.includes(u)&&(c.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),c.remove("text-gray-900","text-gray-500","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","dark:bg-gray-600","bg-gray-100","bg-gray-200")),u===r.focused&&c.add("focused"),r.beforeShow&&r.performBeforeHook(s,u,u)})}},{key:"refresh",value:function(){var r=this,i=this.range||[],o=an(i,2),s=o[0],a=o[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(c){c.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white","focused"),c.classList.add("text-gray-900","rounded-lg","dark:text-white")}),Array.from(this.grid.children).forEach(function(c){var u=Number(c.dataset.date),d=c.classList;d.remove("bg-gray-200","dark:bg-gray-600","rounded-l-lg","rounded-r-lg"),u>s&&u<a&&(d.add("range","bg-gray-200","dark:bg-gray-600"),d.remove("rounded-lg")),u===s&&(d.add("range-start","bg-gray-200","dark:bg-gray-600","rounded-l-lg"),d.remove("rounded-lg")),u===a&&(d.add("range-end","bg-gray-200","dark:bg-gray-600","rounded-r-lg"),d.remove("rounded-lg")),r.selected.includes(u)&&(d.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),d.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","bg-gray-100","bg-gray-200","dark:bg-gray-600")),u===r.focused&&d.add("focused")})}},{key:"refreshFocus",value:function(){var r=Math.round((this.focused-this.start)/864e5);this.grid.querySelectorAll(".focused").forEach(function(i){i.classList.remove("focused")}),this.grid.children[r].classList.add("focused")}}])}(uE);function MM(t,e){if(!(!t||!t[0]||!t[1])){var n=an(t,2),r=an(n[0],2),i=r[0],o=r[1],s=an(n[1],2),a=s[0],c=s[1];if(!(i>e||a<e))return[i===e?o:-1,a===e?c:12]}}var IW=function(t){function e(n){return rs(this,e),iE(this,e,[n,{id:1,name:"months",cellClass:"month"}])}return oE(e,t),is(e,[{key:"init",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(Hr(oc("span",12,{"data-month":function(s){return s}})))),Wu(Bi(e.prototype),"init",this).call(this,r)}},{key:"setOptions",value:function(r){if(r.locale&&(this.monthNames=r.locale.monthsShort),Br(r,"minDate"))if(r.minDate===void 0)this.minYear=this.minMonth=this.minDate=void 0;else{var i=new Date(r.minDate);this.minYear=i.getFullYear(),this.minMonth=i.getMonth(),this.minDate=i.setDate(1)}if(Br(r,"maxDate"))if(r.maxDate===void 0)this.maxYear=this.maxMonth=this.maxDate=void 0;else{var o=new Date(r.maxDate);this.maxYear=o.getFullYear(),this.maxMonth=o.getMonth(),this.maxDate=Ui(this.maxYear,this.maxMonth+1,0)}r.beforeShowMonth!==void 0&&(this.beforeShow=typeof r.beforeShowMonth=="function"?r.beforeShowMonth:void 0)}},{key:"updateFocus",value:function(){var r=new Date(this.picker.viewDate);this.year=r.getFullYear(),this.focused=r.getMonth()}},{key:"updateSelection",value:function(){var r=this.picker.datepicker,i=r.dates,o=r.rangepicker;this.selected=i.reduce(function(s,a){var c=new Date(a),u=c.getFullYear(),d=c.getMonth();return s[u]===void 0?s[u]=[d]:ns(s[u],d),s},{}),o&&o.dates&&(this.range=o.dates.map(function(s){var a=new Date(s);return isNaN(a)?void 0:[a.getFullYear(),a.getMonth()]}))}},{key:"render",value:function(){var r=this;this.disabled=[],this.picker.setViewSwitchLabel(this.year),this.picker.setPrevBtnDisabled(this.year<=this.minYear),this.picker.setNextBtnDisabled(this.year>=this.maxYear);var i=this.selected[this.year]||[],o=this.year<this.minYear||this.year>this.maxYear,s=this.year===this.minYear,a=this.year===this.maxYear,c=MM(this.range,this.year);Array.from(this.grid.children).forEach(function(u,d){var p=u.classList,g=Ui(r.year,d,1);if(u.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(r.cellClass),r.isMinView&&(u.dataset.date=g),u.textContent=r.monthNames[d],(o||s&&d<r.minMonth||a&&d>r.maxMonth)&&p.add("disabled"),c){var m=an(c,2),E=m[0],x=m[1];d>E&&d<x&&p.add("range"),d===E&&p.add("range-start"),d===x&&p.add("range-end")}i.includes(d)&&(p.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),p.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),d===r.focused&&p.add("focused"),r.beforeShow&&r.performBeforeHook(u,d,g)})}},{key:"refresh",value:function(){var r=this,i=this.selected[this.year]||[],o=MM(this.range,this.year)||[],s=an(o,2),a=s[0],c=s[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(u){u.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","dark:bg-blue-600","dark:!bg-primary-700","dark:text-white","text-white","focused"),u.classList.add("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")}),Array.from(this.grid.children).forEach(function(u,d){var p=u.classList;d>a&&d<c&&p.add("range"),d===a&&p.add("range-start"),d===c&&p.add("range-end"),i.includes(d)&&(p.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),p.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),d===r.focused&&p.add("focused")})}},{key:"refreshFocus",value:function(){this.grid.querySelectorAll(".focused").forEach(function(r){r.classList.remove("focused")}),this.grid.children[this.focused].classList.add("focused")}}])}(uE);function EW(t){return Qu(t).reduce(function(e,n,r){return e+=r?n:n.toUpperCase()},"")}var NM=function(t){function e(n,r){return rs(this,e),iE(this,e,[n,r])}return oE(e,t),is(e,[{key:"init",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i&&(this.navStep=this.step*10,this.beforeShowOption="beforeShow".concat(EW(this.cellClass)),this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(Hr(oc("span",12)))),Wu(Bi(e.prototype),"init",this).call(this,r)}},{key:"setOptions",value:function(r){if(Br(r,"minDate")&&(r.minDate===void 0?this.minYear=this.minDate=void 0:(this.minYear=ts(r.minDate,this.step),this.minDate=Ui(this.minYear,0,1))),Br(r,"maxDate")&&(r.maxDate===void 0?this.maxYear=this.maxDate=void 0:(this.maxYear=ts(r.maxDate,this.step),this.maxDate=Ui(this.maxYear,11,31))),r[this.beforeShowOption]!==void 0){var i=r[this.beforeShowOption];this.beforeShow=typeof i=="function"?i:void 0}}},{key:"updateFocus",value:function(){var r=new Date(this.picker.viewDate),i=ts(r,this.navStep),o=i+9*this.step;this.first=i,this.last=o,this.start=i-this.step,this.focused=ts(r,this.step)}},{key:"updateSelection",value:function(){var r=this,i=this.picker.datepicker,o=i.dates,s=i.rangepicker;this.selected=o.reduce(function(a,c){return ns(a,ts(c,r.step))},[]),s&&s.dates&&(this.range=s.dates.map(function(a){if(a!==void 0)return ts(a,r.step)}))}},{key:"render",value:function(){var r=this;this.disabled=[],this.picker.setViewSwitchLabel("".concat(this.first,"-").concat(this.last)),this.picker.setPrevBtnDisabled(this.first<=this.minYear),this.picker.setNextBtnDisabled(this.last>=this.maxYear),Array.from(this.grid.children).forEach(function(i,o){var s=i.classList,a=r.start+o*r.step,c=Ui(a,0,1);if(i.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(r.cellClass),r.isMinView&&(i.dataset.date=c),i.textContent=i.dataset.year=a,o===0?s.add("prev"):o===11&&s.add("next"),(a<r.minYear||a>r.maxYear)&&s.add("disabled"),r.range){var u=an(r.range,2),d=u[0],p=u[1];a>d&&a<p&&s.add("range"),a===d&&s.add("range-start"),a===p&&s.add("range-end")}r.selected.includes(a)&&(s.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),s.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),a===r.focused&&s.add("focused"),r.beforeShow&&r.performBeforeHook(i,a,c)})}},{key:"refresh",value:function(){var r=this,i=this.range||[],o=an(i,2),s=o[0],a=o[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(c){c.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark!bg-primary-600","dark:text-white","focused")}),Array.from(this.grid.children).forEach(function(c){var u=Number(c.textContent),d=c.classList;u>s&&u<a&&d.add("range"),u===s&&d.add("range-start"),u===a&&d.add("range-end"),r.selected.includes(u)&&(d.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),d.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),u===r.focused&&d.add("focused")})}},{key:"refreshFocus",value:function(){var r=Math.round((this.focused-this.start)/this.step);this.grid.querySelectorAll(".focused").forEach(function(i){i.classList.remove("focused")}),this.grid.children[r].classList.add("focused")}}])}(uE);function ic(t,e){var n={date:t.getDate(),viewDate:new Date(t.picker.viewDate),viewId:t.picker.currentView.id,datepicker:t};t.element.dispatchEvent(new CustomEvent(e,{detail:n}))}function bg(t,e){var n=t.config,r=n.minDate,i=n.maxDate,o=t.picker,s=o.currentView,a=o.viewDate,c;switch(s.id){case 0:c=_g(a,e);break;case 1:c=rc(a,e);break;default:c=rc(a,e*s.navStep)}c=$M(c,r,i),t.picker.changeFocus(c).render()}function YM(t){var e=t.picker.currentView.id;e!==t.config.maxView&&t.picker.changeView(e+1).render()}function ZM(t){t.config.updateOnBlur?t.update({autohide:!0}):(t.refresh("input"),t.hide())}function PM(t,e){var n=t.picker,r=new Date(n.viewDate),i=n.currentView.id,o=i===1?_g(r,e-r.getMonth()):rc(r,e-r.getFullYear());n.changeFocus(o).changeView(i-1).render()}function bW(t){var e=t.picker,n=os();if(t.config.todayBtnMode===1){if(t.config.autohide){t.setDate(n);return}t.setDate(n,{render:!1}),e.update()}e.viewDate!==n&&e.changeFocus(n),e.changeView(0).render()}function TW(t){t.setDate({clear:!0})}function CW(t){YM(t)}function SW(t){bg(t,-1)}function DW(t){bg(t,1)}function AW(t,e){var n=QM(e,".datepicker-cell");if(!(!n||n.classList.contains("disabled"))){var r=t.picker.currentView,i=r.id,o=r.isMinView;o?t.setDate(Number(n.dataset.date)):i===1?PM(t,Number(n.dataset.month)):PM(t,Number(n.dataset.year))}}function xW(t){!t.inline&&!t.config.disableTouchKeyboard&&t.inputField.focus()}function OM(t,e){if(e.title!==void 0&&(e.title?(t.controls.title.textContent=e.title,qu(t.controls.title)):(t.controls.title.textContent="",zu(t.controls.title))),e.prevArrow){var n=t.controls.prevBtn;Eg(n),e.prevArrow.forEach(function(a){n.appendChild(a.cloneNode(!0))})}if(e.nextArrow){var r=t.controls.nextBtn;Eg(r),e.nextArrow.forEach(function(a){r.appendChild(a.cloneNode(!0))})}if(e.locale&&(t.controls.todayBtn.textContent=e.locale.today,t.controls.clearBtn.textContent=e.locale.clear),e.todayBtn!==void 0&&(e.todayBtn?qu(t.controls.todayBtn):zu(t.controls.todayBtn)),Br(e,"minDate")||Br(e,"maxDate")){var i=t.datepicker.config,o=i.minDate,s=i.maxDate;t.controls.todayBtn.disabled=!aE(os(),o,s)}e.clearBtn!==void 0&&(e.clearBtn?qu(t.controls.clearBtn):zu(t.controls.clearBtn))}function LM(t){var e=t.dates,n=t.config,r=e.length>0?sE(e):n.defaultViewDate;return $M(r,n.minDate,n.maxDate)}function VM(t,e){var n=new Date(t.viewDate),r=new Date(e),i=t.currentView,o=i.id,s=i.year,a=i.first,c=i.last,u=r.getFullYear();switch(t.viewDate=e,u!==n.getFullYear()&&ic(t.datepicker,"changeYear"),r.getMonth()!==n.getMonth()&&ic(t.datepicker,"changeMonth"),o){case 0:return e<a||e>c;case 1:return u!==s;default:return u<a||u>c}}function XI(t){return window.getComputedStyle(t).direction}var kW=function(){function t(e){rs(this,t),this.datepicker=e;var n=vW.replace(/%buttonClass%/g,e.config.buttonClass),r=this.element=Hr(n).firstChild,i=an(r.firstChild.children,3),o=i[0],s=i[1],a=i[2],c=o.firstElementChild,u=an(o.lastElementChild.children,3),d=u[0],p=u[1],g=u[2],m=an(a.firstChild.children,2),E=m[0],x=m[1],A={title:c,prevBtn:d,viewSwitch:p,nextBtn:g,todayBtn:E,clearBtn:x};this.main=s,this.controls=A;var M=e.inline?"inline":"dropdown";r.classList.add("datepicker-".concat(M)),M==="dropdown"&&r.classList.add("dropdown","absolute","top-0","left-0","z-50","pt-2"),OM(this,e.config),this.viewDate=LM(e),lE(e,[[r,"click",xW.bind(null,e),{capture:!0}],[s,"click",AW.bind(null,e)],[A.viewSwitch,"click",CW.bind(null,e)],[A.prevBtn,"click",SW.bind(null,e)],[A.nextBtn,"click",DW.bind(null,e)],[A.todayBtn,"click",bW.bind(null,e)],[A.clearBtn,"click",TW.bind(null,e)]]),this.views=[new wW(this),new IW(this),new NM(this,{id:2,name:"years",cellClass:"year",step:1}),new NM(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[e.config.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),e.config.container.appendChild(this.element)}return is(t,[{key:"setOptions",value:function(n){OM(this,n),this.views.forEach(function(r){r.init(n,!1)}),this.currentView.render()}},{key:"detach",value:function(){this.datepicker.config.container.removeChild(this.element)}},{key:"show",value:function(){if(!this.active){this.element.classList.add("active","block"),this.element.classList.remove("hidden"),this.active=!0;var n=this.datepicker;if(!n.inline){var r=XI(n.inputField);r!==XI(n.config.container)?this.element.dir=r:this.element.dir&&this.element.removeAttribute("dir"),this.place(),n.config.disableTouchKeyboard&&n.inputField.blur()}ic(n,"show")}}},{key:"hide",value:function(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active","block"),this.element.classList.add("active","block","hidden"),this.active=!1,ic(this.datepicker,"hide"))}},{key:"place",value:function(){var n=this.element,r=n.classList,i=n.style,o=this.datepicker,s=o.config,a=o.inputField,c=s.container,u=this.element.getBoundingClientRect(),d=u.width,p=u.height,g=c.getBoundingClientRect(),m=g.left,E=g.top,x=g.width,A=a.getBoundingClientRect(),M=A.left,j=A.top,U=A.width,B=A.height,Q=s.orientation,H=Q.x,T=Q.y,y,_,b;c===document.body?(y=window.scrollY,_=M+window.scrollX,b=j+y):(y=c.scrollTop,_=M-m,b=j-E+y),H==="auto"&&(_<0?(H="left",_=10):_+d>x?H="right":H=XI(a)==="rtl"?"right":"left"),H==="right"&&(_-=d-U),T==="auto"&&(T=b-p<y?"bottom":"top"),T==="top"?b-=p:b+=B,r.remove("datepicker-orient-top","datepicker-orient-bottom","datepicker-orient-right","datepicker-orient-left"),r.add("datepicker-orient-".concat(T),"datepicker-orient-".concat(H)),i.top=b&&"".concat(b,"px"),i.left=_&&"".concat(_,"px")}},{key:"setViewSwitchLabel",value:function(n){this.controls.viewSwitch.textContent=n}},{key:"setPrevBtnDisabled",value:function(n){this.controls.prevBtn.disabled=n}},{key:"setNextBtnDisabled",value:function(n){this.controls.nextBtn.disabled=n}},{key:"changeView",value:function(n){var r=this.currentView,i=this.views[n];return i.id!==r.id&&(this.currentView=i,this._renderMethod="render",ic(this.datepicker,"changeView"),this.main.replaceChild(i.element,r.element)),this}},{key:"changeFocus",value:function(n){return this._renderMethod=VM(this,n)?"render":"refreshFocus",this.views.forEach(function(r){r.updateFocus()}),this}},{key:"update",value:function(){var n=LM(this.datepicker);return this._renderMethod=VM(this,n)?"render":"refresh",this.views.forEach(function(r){r.updateFocus(),r.updateSelection()}),this}},{key:"render",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,r=n&&this._renderMethod||"render";delete this._renderMethod,this.currentView[r]()}}])}();function JM(t,e,n,r,i,o){if(aE(t,i,o)){if(r(t)){var s=e(t,n);return JM(s,e,n,r,i,o)}return t}}function vg(t,e,n,r){var i=t.picker,o=i.currentView,s=o.step||1,a=i.viewDate,c,u;switch(o.id){case 0:r?a=nc(a,n*7):e.ctrlKey||e.metaKey?a=rc(a,n):a=nc(a,n),c=nc,u=function(p){return o.disabled.includes(p)};break;case 1:a=_g(a,r?n*4:n),c=_g,u=function(p){var g=new Date(p),m=o.year,E=o.disabled;return g.getFullYear()===m&&E.includes(g.getMonth())};break;default:a=rc(a,n*(r?4:1)*s),c=rc,u=function(p){return o.disabled.includes(ts(p,s))}}a=JM(a,c,n<0?-s:s,u,o.minDate,o.maxDate),a!==void 0&&i.changeFocus(a).render()}function RW(t,e){if(e.key==="Tab"){ZM(t);return}var n=t.picker,r=n.currentView,i=r.id,o=r.isMinView;if(n.active)if(t.editMode)switch(e.key){case"Escape":n.hide();break;case"Enter":t.exitEditMode({update:!0,autohide:t.config.autohide});break;default:return}else switch(e.key){case"Escape":n.hide();break;case"ArrowLeft":if(e.ctrlKey||e.metaKey)bg(t,-1);else if(e.shiftKey){t.enterEditMode();return}else vg(t,e,-1,!1);break;case"ArrowRight":if(e.ctrlKey||e.metaKey)bg(t,1);else if(e.shiftKey){t.enterEditMode();return}else vg(t,e,1,!1);break;case"ArrowUp":if(e.ctrlKey||e.metaKey)YM(t);else if(e.shiftKey){t.enterEditMode();return}else vg(t,e,-1,!0);break;case"ArrowDown":if(e.shiftKey&&!e.ctrlKey&&!e.metaKey){t.enterEditMode();return}vg(t,e,1,!0);break;case"Enter":o?t.setDate(n.viewDate):n.changeView(i-1).render();break;case"Backspace":case"Delete":t.enterEditMode();return;default:e.key.length===1&&!e.ctrlKey&&!e.metaKey&&t.enterEditMode();return}else switch(e.key){case"ArrowDown":case"Escape":n.show();break;case"Enter":t.update();break;default:return}e.preventDefault(),e.stopPropagation()}function MW(t){t.config.showOnFocus&&!t._showing&&t.show()}function NW(t,e){var n=e.target;(t.picker.active||t.config.showOnClick)&&(n._active=n===document.activeElement,n._clicking=setTimeout(function(){delete n._active,delete n._clicking},2e3))}function PW(t,e){var n=e.target;n._clicking&&(clearTimeout(n._clicking),delete n._clicking,n._active&&t.enterEditMode(),delete n._active,t.config.showOnClick&&t.show())}function OW(t,e){e.clipboardData.types.includes("text/plain")&&t.enterEditMode()}function LW(t,e){var n=t.element;if(n===document.activeElement){var r=t.picker.element;QM(e,function(i){return i===n||i===r})||ZM(t)}}function XM(t,e){return t.map(function(n){return Ku(n,e.format,e.locale)}).join(e.dateDelimiter)}function eN(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=t.config,i=t.dates,o=t.rangepicker;if(e.length===0)return n?[]:void 0;var s=o&&t===o.datepickers[1],a=e.reduce(function(c,u){var d=Gu(u,r.format,r.locale);if(d===void 0)return c;if(r.pickLevel>0){var p=new Date(d);r.pickLevel===1?d=s?p.setMonth(p.getMonth()+1,0):p.setDate(1):d=s?p.setFullYear(p.getFullYear()+1,0,0):p.setMonth(0,1)}return aE(d,r.minDate,r.maxDate)&&!c.includes(d)&&!r.datesDisabled.includes(d)&&!r.daysOfWeekDisabled.includes(new Date(d).getDay())&&c.push(d),c},[]);if(a.length!==0)return r.multidate&&!n&&(a=a.reduce(function(c,u){return i.includes(u)||c.push(u),c},i.filter(function(c){return!a.includes(c)}))),r.maxNumberOfDates&&a.length>r.maxNumberOfDates?a.slice(r.maxNumberOfDates*-1):a}function Tg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=t.config,i=t.picker,o=t.inputField;if(e&2){var s=i.active?r.pickLevel:r.startView;i.update().changeView(s).render(n)}e&1&&o&&(o.value=XM(t.dates,r))}function FM(t,e,n){var r=n.clear,i=n.render,o=n.autohide;i===void 0&&(i=!0),i?o===void 0&&(o=t.config.autohide):o=!1;var s=eN(t,e,r);s&&(s.toString()!==t.dates.toString()?(t.dates=s,Tg(t,i?3:1),ic(t,"changeDate")):Tg(t,1),o&&t.hide())}var Zu=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;rs(this,t),e.datepicker=this,this.element=e;var i=this.config=Object.assign({buttonClass:n.buttonClass&&String(n.buttonClass)||"button",container:document.body,defaultViewDate:os(),maxDate:void 0,minDate:void 0},JI(Yu,this));this._options=n,Object.assign(i,JI(n,this));var o=this.inline=e.tagName!=="INPUT",s,a;if(o)i.container=e,a=GI(e.dataset.date,i.dateDelimiter),delete e.dataset.date;else{var c=n.container?document.querySelector(n.container):null;c&&(i.container=c),s=this.inputField=e,s.classList.add("datepicker-input"),a=GI(s.value,i.dateDelimiter)}if(r){var u=r.inputs.indexOf(s),d=r.datepickers;if(u<0||u>1||!Array.isArray(d))throw Error("Invalid rangepicker object.");d[u]=this,Object.defineProperty(this,"rangepicker",{get:function(){return r}})}this.dates=[];var p=eN(this,a);p&&p.length>0&&(this.dates=p),s&&(s.value=XM(this.dates,i));var g=this.picker=new kW(this);if(o)this.show();else{var m=LW.bind(null,this),E=[[s,"keydown",RW.bind(null,this)],[s,"focus",MW.bind(null,this)],[s,"mousedown",NW.bind(null,this)],[s,"click",PW.bind(null,this)],[s,"paste",OW.bind(null,this)],[document,"mousedown",m],[document,"touchstart",m],[window,"resize",g.place.bind(g)]];lE(this,E)}}return is(t,[{key:"active",get:function(){return!!(this.picker&&this.picker.active)}},{key:"pickerElement",get:function(){return this.picker?this.picker.element:void 0}},{key:"setOptions",value:function(n){var r=this.picker,i=JI(n,this);Object.assign(this._options,n),Object.assign(this.config,i),r.setOptions(i),Tg(this,3)}},{key:"show",value:function(){if(this.inputField){if(this.inputField.disabled)return;this.inputField!==document.activeElement&&(this._showing=!0,this.inputField.focus(),delete this._showing)}this.picker.show()}},{key:"hide",value:function(){this.inline||(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}},{key:"destroy",value:function(){return this.hide(),GM(this),this.picker.detach(),this.inline||this.inputField.classList.remove("datepicker-input"),delete this.element.datepicker,this}},{key:"getDate",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=r?function(o){return Ku(o,r,n.config.locale)}:function(o){return new Date(o)};if(this.config.multidate)return this.dates.map(i);if(this.dates.length>0)return i(this.dates[0])}},{key:"setDate",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=[].concat(r),s={},a=sE(r);yg(a)==="object"&&!Array.isArray(a)&&!(a instanceof Date)&&a&&Object.assign(s,o.pop());var c=Array.isArray(o[0])?o[0]:o;FM(this,c,s)}},{key:"update",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(!this.inline){var r={clear:!0,autohide:!!(n&&n.autohide)},i=GI(this.inputField.value,this.config.dateDelimiter);FM(this,i,r)}}},{key:"refresh",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&typeof n!="string"&&(r=n,n=void 0);var i;n==="picker"?i=2:n==="input"?i=1:i=3,Tg(this,i,!r)}},{key:"enterEditMode",value:function(){this.inline||!this.picker.active||this.editMode||(this.editMode=!0,this.inputField.classList.add("in-edit","border-blue-700","!border-primary-700"))}},{key:"exitEditMode",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(!(this.inline||!this.editMode)){var r=Object.assign({update:!1},n);delete this.editMode,this.inputField.classList.remove("in-edit","border-blue-700","!border-primary-700"),r.update&&this.update(r)}}}],[{key:"formatDate",value:function(n,r,i){return Ku(n,r,i&&Hu[i]||Hu.en)}},{key:"parseDate",value:function(n,r,i){return Gu(n,r,i&&Hu[i]||Hu.en)}},{key:"locales",get:function(){return Hu}}])}();function jM(t){var e=Object.assign({},t);return delete e.inputs,delete e.allowOneSidedRange,delete e.maxNumberOfDates,e}function UM(t,e,n,r){lE(t,[[n,"changeDate",e]]),new Zu(n,r,t)}function $u(t,e){if(!t._updating){t._updating=!0;var n=e.target;if(n.datepicker!==void 0){var r=t.datepickers,i={render:!1},o=t.inputs.indexOf(n),s=o===0?1:0,a=r[o].dates[0],c=r[s].dates[0];a!==void 0&&c!==void 0?o===0&&a>c?(r[0].setDate(c,i),r[1].setDate(a,i)):o===1&&a<c&&(r[0].setDate(a,i),r[1].setDate(c,i)):t.allowOneSidedRange||(a!==void 0||c!==void 0)&&(i.clear=!0,r[s].setDate(r[o].dates,i)),r[0].picker.update().render(),r[1].picker.update().render(),delete t._updating}}}var Cg=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};rs(this,t);var r=Array.isArray(n.inputs)?n.inputs:Array.from(e.querySelectorAll("input"));if(!(r.length<2)){e.rangepicker=this,this.element=e,this.inputs=r.slice(0,2),this.allowOneSidedRange=!!n.allowOneSidedRange;var i=$u.bind(null,this),o=jM(n),s=[];Object.defineProperty(this,"datepickers",{get:function(){return s}}),UM(this,i,this.inputs[0],o),UM(this,i,this.inputs[1],o),Object.freeze(s),s[0].dates.length>0?$u(this,{target:this.inputs[0]}):s[1].dates.length>0&&$u(this,{target:this.inputs[1]})}}return is(t,[{key:"dates",get:function(){return this.datepickers.length===2?[this.datepickers[0].dates[0],this.datepickers[1].dates[0]]:void 0}},{key:"setOptions",value:function(n){this.allowOneSidedRange=!!n.allowOneSidedRange;var r=jM(n);this.datepickers[0].setOptions(r),this.datepickers[1].setOptions(r)}},{key:"destroy",value:function(){this.datepickers[0].destroy(),this.datepickers[1].destroy(),GM(this),delete this.element.rangepicker}},{key:"getDates",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=r?function(o){return Ku(o,r,n.datepickers[0].config.locale)}:function(o){return new Date(o)};return this.dates.map(function(o){return o===void 0?o:i(o)})}},{key:"setDates",value:function(n,r){var i=an(this.datepickers,2),o=i[0],s=i[1],a=this.dates;this._updating=!0,o.setDate(n),s.setDate(r),delete this._updating,s.dates[0]!==a[1]?$u(this,{target:this.inputs[1]}):o.dates[0]!==a[0]&&$u(this,{target:this.inputs[0]})}}])}();var Sg=function(){return Sg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Sg.apply(this,arguments)},Tn={defaultDatepickerId:null,autohide:!1,format:"mm/dd/yyyy",maxDate:null,minDate:null,orientation:"bottom",buttons:!1,autoSelectToday:0,title:null,language:"en",rangePicker:!1,onShow:function(){},onHide:function(){}},VW={id:null,override:!0},tN=function(){function t(e,n,r){e===void 0&&(e=null),n===void 0&&(n=Tn),r===void 0&&(r=VW),this._instanceId=r.id?r.id:e.id,this._datepickerEl=e,this._datepickerInstance=null,this._options=Sg(Sg({},Tn),n),this._initialized=!1,this.init(),Y.addInstance("Datepicker",this,this._instanceId,r.override)}return t.prototype.init=function(){this._datepickerEl&&!this._initialized&&(this._options.rangePicker?this._datepickerInstance=new Cg(this._datepickerEl,this._getDatepickerOptions(this._options)):this._datepickerInstance=new Zu(this._datepickerEl,this._getDatepickerOptions(this._options)),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this._initialized=!1,this._datepickerInstance.destroy())},t.prototype.removeInstance=function(){this.destroy(),Y.removeInstance("Datepicker",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getDatepickerInstance=function(){return this._datepickerInstance},t.prototype.getDate=function(){if(this._options.rangePicker&&this._datepickerInstance instanceof Cg)return this._datepickerInstance.getDates();if(!this._options.rangePicker&&this._datepickerInstance instanceof Zu)return this._datepickerInstance.getDate()},t.prototype.setDate=function(e){if(this._options.rangePicker&&this._datepickerInstance instanceof Cg)return this._datepickerInstance.setDates(e);if(!this._options.rangePicker&&this._datepickerInstance instanceof Zu)return this._datepickerInstance.setDate(e)},t.prototype.show=function(){this._datepickerInstance.show(),this._options.onShow(this)},t.prototype.hide=function(){this._datepickerInstance.hide(),this._options.onHide(this)},t.prototype._getDatepickerOptions=function(e){var n={};return e.buttons&&(n.todayBtn=!0,n.clearBtn=!0,e.autoSelectToday&&(n.todayBtnMode=1)),e.autohide&&(n.autohide=!0),e.format&&(n.format=e.format),e.maxDate&&(n.maxDate=e.maxDate),e.minDate&&(n.minDate=e.minDate),e.orientation&&(n.orientation=e.orientation),e.title&&(n.title=e.title),e.language&&(n.language=e.language),n},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t}();function sc(){document.querySelectorAll("[datepicker], [inline-datepicker], [date-rangepicker]").forEach(function(t){if(t){var e=t.hasAttribute("datepicker-buttons"),n=t.hasAttribute("datepicker-autoselect-today"),r=t.hasAttribute("datepicker-autohide"),i=t.getAttribute("datepicker-format"),o=t.getAttribute("datepicker-max-date"),s=t.getAttribute("datepicker-min-date"),a=t.getAttribute("datepicker-orientation"),c=t.getAttribute("datepicker-title"),u=t.getAttribute("datepicker-language"),d=t.hasAttribute("date-rangepicker");new tN(t,{buttons:e||Tn.buttons,autoSelectToday:n||Tn.autoSelectToday,autohide:r||Tn.autohide,format:i||Tn.format,maxDate:o||Tn.maxDate,minDate:s||Tn.minDate,orientation:a||Tn.orientation,title:c||Tn.title,language:u||Tn.language,rangePicker:d||Tn.rangePicker})}else console.error("The datepicker element does not exist. Please check the datepicker attribute.")})}typeof window<"u"&&(window.Datepicker=tN,window.initDatepickers=sc);function ac(){Fa(),ja(),Ua(),Ba(),Ga(),Ka(),Qa(),Ya(),Za(),Ja(),Xa(),ec(),tc(),sc()}typeof window<"u"&&(window.initFlowbite=ac);var FW=new jR("load",[Fa,ja,Ua,Ba,Ga,Ka,Qa,Ya,Za,Ja,Xa,ec,tc,sc]);FW.init();var nN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rN={};var $r,dE;(function(){var t;function e(T,y){function _(){}_.prototype=y.prototype,T.D=y.prototype,T.prototype=new _,T.prototype.constructor=T,T.C=function(b,C,S){for(var I=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)I[Qe-2]=arguments[Qe];return y.prototype[C].apply(b,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,y,_){_||(_=0);var b=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)b[C]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(C=0;16>C;++C)b[C]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=T.g[0],_=T.g[1],C=T.g[2];var S=T.g[3],I=y+(S^_&(C^S))+b[0]+3614090360&4294967295;y=_+(I<<7&4294967295|I>>>25),I=S+(C^y&(_^C))+b[1]+3905402710&4294967295,S=y+(I<<12&4294967295|I>>>20),I=C+(_^S&(y^_))+b[2]+606105819&4294967295,C=S+(I<<17&4294967295|I>>>15),I=_+(y^C&(S^y))+b[3]+3250441966&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(S^_&(C^S))+b[4]+4118548399&4294967295,y=_+(I<<7&4294967295|I>>>25),I=S+(C^y&(_^C))+b[5]+1200080426&4294967295,S=y+(I<<12&4294967295|I>>>20),I=C+(_^S&(y^_))+b[6]+2821735955&4294967295,C=S+(I<<17&4294967295|I>>>15),I=_+(y^C&(S^y))+b[7]+4249261313&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(S^_&(C^S))+b[8]+1770035416&4294967295,y=_+(I<<7&4294967295|I>>>25),I=S+(C^y&(_^C))+b[9]+2336552879&4294967295,S=y+(I<<12&4294967295|I>>>20),I=C+(_^S&(y^_))+b[10]+4294925233&4294967295,C=S+(I<<17&4294967295|I>>>15),I=_+(y^C&(S^y))+b[11]+2304563134&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(S^_&(C^S))+b[12]+1804603682&4294967295,y=_+(I<<7&4294967295|I>>>25),I=S+(C^y&(_^C))+b[13]+4254626195&4294967295,S=y+(I<<12&4294967295|I>>>20),I=C+(_^S&(y^_))+b[14]+2792965006&4294967295,C=S+(I<<17&4294967295|I>>>15),I=_+(y^C&(S^y))+b[15]+1236535329&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(C^S&(_^C))+b[1]+4129170786&4294967295,y=_+(I<<5&4294967295|I>>>27),I=S+(_^C&(y^_))+b[6]+3225465664&4294967295,S=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(S^y))+b[11]+643717713&4294967295,C=S+(I<<14&4294967295|I>>>18),I=_+(S^y&(C^S))+b[0]+3921069994&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^S&(_^C))+b[5]+3593408605&4294967295,y=_+(I<<5&4294967295|I>>>27),I=S+(_^C&(y^_))+b[10]+38016083&4294967295,S=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(S^y))+b[15]+3634488961&4294967295,C=S+(I<<14&4294967295|I>>>18),I=_+(S^y&(C^S))+b[4]+3889429448&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^S&(_^C))+b[9]+568446438&4294967295,y=_+(I<<5&4294967295|I>>>27),I=S+(_^C&(y^_))+b[14]+3275163606&4294967295,S=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(S^y))+b[3]+4107603335&4294967295,C=S+(I<<14&4294967295|I>>>18),I=_+(S^y&(C^S))+b[8]+1163531501&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^S&(_^C))+b[13]+2850285829&4294967295,y=_+(I<<5&4294967295|I>>>27),I=S+(_^C&(y^_))+b[2]+4243563512&4294967295,S=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(S^y))+b[7]+1735328473&4294967295,C=S+(I<<14&4294967295|I>>>18),I=_+(S^y&(C^S))+b[12]+2368359562&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(_^C^S)+b[5]+4294588738&4294967295,y=_+(I<<4&4294967295|I>>>28),I=S+(y^_^C)+b[8]+2272392833&4294967295,S=y+(I<<11&4294967295|I>>>21),I=C+(S^y^_)+b[11]+1839030562&4294967295,C=S+(I<<16&4294967295|I>>>16),I=_+(C^S^y)+b[14]+4259657740&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^S)+b[1]+2763975236&4294967295,y=_+(I<<4&4294967295|I>>>28),I=S+(y^_^C)+b[4]+1272893353&4294967295,S=y+(I<<11&4294967295|I>>>21),I=C+(S^y^_)+b[7]+4139469664&4294967295,C=S+(I<<16&4294967295|I>>>16),I=_+(C^S^y)+b[10]+3200236656&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^S)+b[13]+681279174&4294967295,y=_+(I<<4&4294967295|I>>>28),I=S+(y^_^C)+b[0]+3936430074&4294967295,S=y+(I<<11&4294967295|I>>>21),I=C+(S^y^_)+b[3]+3572445317&4294967295,C=S+(I<<16&4294967295|I>>>16),I=_+(C^S^y)+b[6]+76029189&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^S)+b[9]+3654602809&4294967295,y=_+(I<<4&4294967295|I>>>28),I=S+(y^_^C)+b[12]+3873151461&4294967295,S=y+(I<<11&4294967295|I>>>21),I=C+(S^y^_)+b[15]+530742520&4294967295,C=S+(I<<16&4294967295|I>>>16),I=_+(C^S^y)+b[2]+3299628645&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(C^(_|~S))+b[0]+4096336452&4294967295,y=_+(I<<6&4294967295|I>>>26),I=S+(_^(y|~C))+b[7]+1126891415&4294967295,S=y+(I<<10&4294967295|I>>>22),I=C+(y^(S|~_))+b[14]+2878612391&4294967295,C=S+(I<<15&4294967295|I>>>17),I=_+(S^(C|~y))+b[5]+4237533241&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~S))+b[12]+1700485571&4294967295,y=_+(I<<6&4294967295|I>>>26),I=S+(_^(y|~C))+b[3]+2399980690&4294967295,S=y+(I<<10&4294967295|I>>>22),I=C+(y^(S|~_))+b[10]+4293915773&4294967295,C=S+(I<<15&4294967295|I>>>17),I=_+(S^(C|~y))+b[1]+2240044497&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~S))+b[8]+1873313359&4294967295,y=_+(I<<6&4294967295|I>>>26),I=S+(_^(y|~C))+b[15]+4264355552&4294967295,S=y+(I<<10&4294967295|I>>>22),I=C+(y^(S|~_))+b[6]+2734768916&4294967295,C=S+(I<<15&4294967295|I>>>17),I=_+(S^(C|~y))+b[13]+1309151649&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~S))+b[4]+4149444226&4294967295,y=_+(I<<6&4294967295|I>>>26),I=S+(_^(y|~C))+b[11]+3174756917&4294967295,S=y+(I<<10&4294967295|I>>>22),I=C+(y^(S|~_))+b[2]+718787259&4294967295,C=S+(I<<15&4294967295|I>>>17),I=_+(S^(C|~y))+b[9]+3951481745&4294967295,T.g[0]=T.g[0]+y&4294967295,T.g[1]=T.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,T.g[2]=T.g[2]+C&4294967295,T.g[3]=T.g[3]+S&4294967295}r.prototype.u=function(T,y){y===void 0&&(y=T.length);for(var _=y-this.blockSize,b=this.B,C=this.h,S=0;S<y;){if(C==0)for(;S<=_;)i(this,T,S),S+=this.blockSize;if(typeof T=="string"){for(;S<y;)if(b[C++]=T.charCodeAt(S++),C==this.blockSize){i(this,b),C=0;break}}else for(;S<y;)if(b[C++]=T[S++],C==this.blockSize){i(this,b),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var y=1;y<T.length-8;++y)T[y]=0;var _=8*this.o;for(y=T.length-8;y<T.length;++y)T[y]=_&255,_/=256;for(this.u(T),T=Array(16),y=_=0;4>y;++y)for(var b=0;32>b;b+=8)T[_++]=this.g[y]>>>b&255;return T};function o(T,y){var _=a;return Object.prototype.hasOwnProperty.call(_,T)?_[T]:_[T]=y(T)}function s(T,y){this.h=y;for(var _=[],b=!0,C=T.length-1;0<=C;C--){var S=T[C]|0;b&&S==y||(_[C]=S,b=!1)}this.g=_}var a={};function c(T){return-128<=T&&128>T?o(T,function(y){return new s([y|0],0>y?-1:0)}):new s([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return A(u(-T));for(var y=[],_=1,b=0;T>=_;b++)y[b]=T/_|0,_*=4294967296;return new s(y,0)}function d(T,y){if(T.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(T.charAt(0)=="-")return A(d(T.substring(1),y));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=u(Math.pow(y,8)),b=p,C=0;C<T.length;C+=8){var S=Math.min(8,T.length-C),I=parseInt(T.substring(C,C+S),y);8>S?(S=u(Math.pow(y,S)),b=b.j(S).add(u(I))):(b=b.j(_),b=b.add(u(I)))}return b}var p=c(0),g=c(1),m=c(16777216);t=s.prototype,t.m=function(){if(x(this))return-A(this).m();for(var T=0,y=1,_=0;_<this.g.length;_++){var b=this.i(_);T+=(0<=b?b:4294967296+b)*y,y*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(E(this))return"0";if(x(this))return"-"+A(this).toString(T);for(var y=u(Math.pow(T,6)),_=this,b="";;){var C=B(_,y).g;_=M(_,C.j(y));var S=((0<_.g.length?_.g[0]:_.h)>>>0).toString(T);if(_=C,E(_))return S+b;for(;6>S.length;)S="0"+S;b=S+b}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function E(T){if(T.h!=0)return!1;for(var y=0;y<T.g.length;y++)if(T.g[y]!=0)return!1;return!0}function x(T){return T.h==-1}t.l=function(T){return T=M(this,T),x(T)?-1:E(T)?0:1};function A(T){for(var y=T.g.length,_=[],b=0;b<y;b++)_[b]=~T.g[b];return new s(_,~T.h).add(g)}t.abs=function(){return x(this)?A(this):this},t.add=function(T){for(var y=Math.max(this.g.length,T.g.length),_=[],b=0,C=0;C<=y;C++){var S=b+(this.i(C)&65535)+(T.i(C)&65535),I=(S>>>16)+(this.i(C)>>>16)+(T.i(C)>>>16);b=I>>>16,S&=65535,I&=65535,_[C]=I<<16|S}return new s(_,_[_.length-1]&-2147483648?-1:0)};function M(T,y){return T.add(A(y))}t.j=function(T){if(E(this)||E(T))return p;if(x(this))return x(T)?A(this).j(A(T)):A(A(this).j(T));if(x(T))return A(this.j(A(T)));if(0>this.l(m)&&0>T.l(m))return u(this.m()*T.m());for(var y=this.g.length+T.g.length,_=[],b=0;b<2*y;b++)_[b]=0;for(b=0;b<this.g.length;b++)for(var C=0;C<T.g.length;C++){var S=this.i(b)>>>16,I=this.i(b)&65535,Qe=T.i(C)>>>16,De=T.i(C)&65535;_[2*b+2*C]+=I*De,j(_,2*b+2*C),_[2*b+2*C+1]+=S*De,j(_,2*b+2*C+1),_[2*b+2*C+1]+=I*Qe,j(_,2*b+2*C+1),_[2*b+2*C+2]+=S*Qe,j(_,2*b+2*C+2)}for(b=0;b<y;b++)_[b]=_[2*b+1]<<16|_[2*b];for(b=y;b<2*y;b++)_[b]=0;return new s(_,0)};function j(T,y){for(;(T[y]&65535)!=T[y];)T[y+1]+=T[y]>>>16,T[y]&=65535,y++}function U(T,y){this.g=T,this.h=y}function B(T,y){if(E(y))throw Error("division by zero");if(E(T))return new U(p,p);if(x(T))return y=B(A(T),y),new U(A(y.g),A(y.h));if(x(y))return y=B(T,A(y)),new U(A(y.g),y.h);if(30<T.g.length){if(x(T)||x(y))throw Error("slowDivide_ only works with positive integers.");for(var _=g,b=y;0>=b.l(T);)_=Q(_),b=Q(b);var C=H(_,1),S=H(b,1);for(b=H(b,2),_=H(_,2);!E(b);){var I=S.add(b);0>=I.l(T)&&(C=C.add(_),S=I),b=H(b,1),_=H(_,1)}return y=M(T,C.j(y)),new U(C,y)}for(C=p;0<=T.l(y);){for(_=Math.max(1,Math.floor(T.m()/y.m())),b=Math.ceil(Math.log(_)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),S=u(_),I=S.j(y);x(I)||0<I.l(T);)_-=b,S=u(_),I=S.j(y);E(S)&&(S=g),C=C.add(S),T=M(T,I)}return new U(C,T)}t.A=function(T){return B(this,T).h},t.and=function(T){for(var y=Math.max(this.g.length,T.g.length),_=[],b=0;b<y;b++)_[b]=this.i(b)&T.i(b);return new s(_,this.h&T.h)},t.or=function(T){for(var y=Math.max(this.g.length,T.g.length),_=[],b=0;b<y;b++)_[b]=this.i(b)|T.i(b);return new s(_,this.h|T.h)},t.xor=function(T){for(var y=Math.max(this.g.length,T.g.length),_=[],b=0;b<y;b++)_[b]=this.i(b)^T.i(b);return new s(_,this.h^T.h)};function Q(T){for(var y=T.g.length+1,_=[],b=0;b<y;b++)_[b]=T.i(b)<<1|T.i(b-1)>>>31;return new s(_,T.h)}function H(T,y){var _=y>>5;y%=32;for(var b=T.g.length-_,C=[],S=0;S<b;S++)C[S]=0<y?T.i(S+_)>>>y|T.i(S+_+1)<<32-y:T.i(S+_);return new s(C,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,dE=rN.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,$r=rN.Integer=s}).apply(typeof nN<"u"?nN:typeof self<"u"?self:typeof window<"u"?window:{});var Dg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zr={};var hE,jW,cc,fE,Ju,Ag,pE,gE,mE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,f){return l==Array.prototype||l==Object.prototype||(l[h]=f.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dg=="object"&&Dg];for(var h=0;h<l.length;++h){var f=l[h];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(l,h){if(h)e:{var f=r;l=l.split(".");for(var v=0;v<l.length-1;v++){var D=l[v];if(!(D in f))break e;f=f[D]}l=l[l.length-1],v=f[l],h=h(v),h!=v&&h!=null&&e(f,l,{configurable:!0,writable:!0,value:h})}}function o(l,h){l instanceof String&&(l+="");var f=0,v=!1,D={next:function(){if(!v&&f<l.length){var k=f++;return{value:h(k,l[k]),done:!1}}return v=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(l){return l||function(){return o(this,function(h,f){return f})}});var s=s||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,f){return l.call.apply(l.bind,arguments)}function p(l,h,f){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,v),l.apply(h,D)}}return function(){return l.apply(h,arguments)}}function g(l,h,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,g.apply(null,arguments)}function m(l,h){var f=Array.prototype.slice.call(arguments,1);return function(){var v=f.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function E(l,h){function f(){}f.prototype=h.prototype,l.aa=h.prototype,l.prototype=new f,l.prototype.constructor=l,l.Qb=function(v,D,k){for(var F=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)F[Ae-2]=arguments[Ae];return h.prototype[D].apply(v,F)}}function x(l){let h=l.length;if(0<h){let f=Array(h);for(let v=0;v<h;v++)f[v]=l[v];return f}return[]}function A(l,h){for(let f=1;f<arguments.length;f++){let v=arguments[f];if(c(v)){let D=l.length||0,k=v.length||0;l.length=D+k;for(let F=0;F<k;F++)l[D+F]=v[F]}else l.push(v)}}class M{constructor(h,f){this.i=h,this.j=f,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function j(l){return/^[\s\xa0]*$/.test(l)}function U(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function B(l){return B[" "](l),l}B[" "]=function(){};var Q=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function H(l,h,f){for(let v in l)h.call(f,l[v],v,l)}function T(l,h){for(let f in l)h.call(void 0,l[f],f,l)}function y(l){let h={};for(let f in l)h[f]=l[f];return h}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(l,h){let f,v;for(let D=1;D<arguments.length;D++){v=arguments[D];for(f in v)l[f]=v[f];for(let k=0;k<_.length;k++)f=_[k],Object.prototype.hasOwnProperty.call(v,f)&&(l[f]=v[f])}}function C(l){var h=1;l=l.split(":");let f=[];for(;0<h&&l.length;)f.push(l.shift()),h--;return l.length&&f.push(l.join(":")),f}function S(l){a.setTimeout(()=>{throw l},0)}function I(){var l=Dn;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class Qe{constructor(){this.h=this.g=null}add(h,f){let v=De.get();v.set(h,f),this.h?this.h.next=v:this.g=v,this.h=v}}var De=new M(()=>new wt,l=>l.reset());class wt{constructor(){this.next=this.g=this.h=null}set(h,f){this.h=h,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ye,zn=!1,Dn=new Qe,Qi=()=>{let l=a.Promise.resolve(void 0);Ye=()=>{l.then(Vc)}};var Vc=()=>{for(var l;l=I();){try{l.h.call(l.g)}catch(f){S(f)}var h=De;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}zn=!1};function qt(){this.s=this.s,this.C=this.C}qt.prototype.s=!1,qt.prototype.ma=function(){this.s||(this.s=!0,this.N())},qt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ze(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}ze.prototype.h=function(){this.defaultPrevented=!0};var Jr=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let f=()=>{};a.addEventListener("test",f,h),a.removeEventListener("test",f,h)}catch{}return l}();function Wt(l,h){if(ze.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var f=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(Q){e:{try{B(h.nodeName);var D=!0;break e}catch{}D=!1}D||(h=null)}}else f=="mouseover"?h=l.fromElement:f=="mouseout"&&(h=l.toElement);this.relatedTarget=h,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Yi[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Wt.aa.h.call(this)}}E(Wt,ze);var Yi={2:"touch",3:"pen",4:"mouse"};Wt.prototype.h=function(){Wt.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var qn="closure_listenable_"+(1e6*Math.random()|0),vr=0;function Fc(l,h,f,v,D){this.listener=l,this.proxy=null,this.src=h,this.type=f,this.capture=!!v,this.ha=D,this.key=++vr,this.da=this.fa=!1}function ys(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Xr(l){this.src=l,this.g={},this.h=0}Xr.prototype.add=function(l,h,f,v,D){var k=l.toString();l=this.g[k],l||(l=this.g[k]=[],this.h++);var F=_s(l,h,v,D);return-1<F?(h=l[F],f||(h.fa=!1)):(h=new Fc(h,this.src,k,!!v,D),h.fa=f,l.push(h)),h};function jc(l,h){var f=h.type;if(f in l.g){var v=l.g[f],D=Array.prototype.indexOf.call(v,h,void 0),k;(k=0<=D)&&Array.prototype.splice.call(v,D,1),k&&(ys(h),l.g[f].length==0&&(delete l.g[f],l.h--))}}function _s(l,h,f,v){for(var D=0;D<l.length;++D){var k=l[D];if(!k.da&&k.listener==h&&k.capture==!!f&&k.ha==v)return D}return-1}var Uc="closure_lm_"+(1e6*Math.random()|0),Bc={};function Hc(l,h,f,v,D){if(v&&v.once)return _d(l,h,f,v,D);if(Array.isArray(h)){for(var k=0;k<h.length;k++)Hc(l,h[k],f,v,D);return null}return f=Is(f),l&&l[qn]?l.K(h,f,u(v)?!!v.capture:!!v,D):$c(l,h,f,!1,v,D)}function $c(l,h,f,v,D,k){if(!h)throw Error("Invalid event type");var F=u(D)?!!D.capture:!!D,Ae=Zi(l);if(Ae||(l[Uc]=Ae=new Xr(l)),f=Ae.add(h,f,v,F,k),f.proxy)return f;if(v=Nm(),f.proxy=v,v.src=l,v.listener=f,l.addEventListener)Jr||(D=F),D===void 0&&(D=!1),l.addEventListener(h.toString(),v,D);else if(l.attachEvent)l.attachEvent(zc(h.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Nm(){function l(f){return h.call(l.src,l.listener,f)}let h=wd;return l}function _d(l,h,f,v,D){if(Array.isArray(h)){for(var k=0;k<h.length;k++)_d(l,h[k],f,v,D);return null}return f=Is(f),l&&l[qn]?l.L(h,f,u(v)?!!v.capture:!!v,D):$c(l,h,f,!0,v,D)}function Wn(l,h,f,v,D){if(Array.isArray(h))for(var k=0;k<h.length;k++)Wn(l,h[k],f,v,D);else v=u(v)?!!v.capture:!!v,f=Is(f),l&&l[qn]?(l=l.i,h=String(h).toString(),h in l.g&&(k=l.g[h],f=_s(k,f,v,D),-1<f&&(ys(k[f]),Array.prototype.splice.call(k,f,1),k.length==0&&(delete l.g[h],l.h--)))):l&&(l=Zi(l))&&(h=l.g[h.toString()],l=-1,h&&(l=_s(h,f,v,D)),(f=-1<l?h[l]:null)&&ei(f))}function ei(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[qn])jc(h.i,l);else{var f=l.type,v=l.proxy;h.removeEventListener?h.removeEventListener(f,v,l.capture):h.detachEvent?h.detachEvent(zc(f),v):h.addListener&&h.removeListener&&h.removeListener(v),(f=Zi(h))?(jc(f,l),f.h==0&&(f.src=null,h[Uc]=null)):ys(l)}}}function zc(l){return l in Bc?Bc[l]:Bc[l]="on"+l}function wd(l,h){if(l.da)l=!0;else{h=new Wt(h,this);var f=l.listener,v=l.ha||l.src;l.fa&&ei(l),l=f.call(v,h)}return l}function Zi(l){return l=l[Uc],l instanceof Xr?l:null}var ws="__closure_events_fn_"+(1e9*Math.random()>>>0);function Is(l){return typeof l=="function"?l:(l[ws]||(l[ws]=function(h){return l.handleEvent(h)}),l[ws])}function rt(){qt.call(this),this.i=new Xr(this),this.M=this,this.F=null}E(rt,qt),rt.prototype[qn]=!0,rt.prototype.removeEventListener=function(l,h,f,v){Wn(this,l,h,f,v)};function ht(l,h){var f,v=l.F;if(v)for(f=[];v;v=v.F)f.push(v);if(l=l.M,v=h.type||h,typeof h=="string")h=new ze(h,l);else if(h instanceof ze)h.target=h.target||l;else{var D=h;h=new ze(v,l),b(h,D)}if(D=!0,f)for(var k=f.length-1;0<=k;k--){var F=h.g=f[k];D=Id(F,v,!0,h)&&D}if(F=h.g=l,D=Id(F,v,!0,h)&&D,D=Id(F,v,!1,h)&&D,f)for(k=0;k<f.length;k++)F=h.g=f[k],D=Id(F,v,!1,h)&&D}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var f=l.g[h],v=0;v<f.length;v++)ys(f[v]);delete l.g[h],l.h--}}this.F=null},rt.prototype.K=function(l,h,f,v){return this.i.add(String(l),h,!1,f,v)},rt.prototype.L=function(l,h,f,v){return this.i.add(String(l),h,!0,f,v)};function Id(l,h,f,v){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var D=!0,k=0;k<h.length;++k){var F=h[k];if(F&&!F.da&&F.capture==f){var Ae=F.listener,It=F.ha||F.src;F.fa&&jc(l.i,F),D=Ae.call(It,v)!==!1&&D}}return D&&!v.defaultPrevented}function P0(l,h,f){if(typeof l=="function")f&&(l=g(l,f));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function O0(l){l.g=P0(()=>{l.g=null,l.i&&(l.i=!1,O0(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class UO extends qt{constructor(h,f){super(),this.m=h,this.l=f,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:O0(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qc(l){qt.call(this),this.h=l,this.g={}}E(qc,qt);var L0=[];function V0(l){H(l.g,function(h,f){this.g.hasOwnProperty(f)&&ei(h)},l),l.g={}}qc.prototype.N=function(){qc.aa.N.call(this),V0(this)},qc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pm=a.JSON.stringify,BO=a.JSON.parse,HO=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Om(){}Om.prototype.h=null;function F0(l){return l.h||(l.h=l.i())}function j0(){}var Wc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lm(){ze.call(this,"d")}E(Lm,ze);function Vm(){ze.call(this,"c")}E(Vm,ze);var Ji={},U0=null;function Ed(){return U0=U0||new rt}Ji.La="serverreachability";function B0(l){ze.call(this,Ji.La,l)}E(B0,ze);function Gc(l){let h=Ed();ht(h,new B0(h))}Ji.STAT_EVENT="statevent";function H0(l,h){ze.call(this,Ji.STAT_EVENT,l),this.stat=h}E(H0,ze);function Ot(l){let h=Ed();ht(h,new H0(h,l))}Ji.Ma="timingevent";function $0(l,h){ze.call(this,Ji.Ma,l),this.size=h}E($0,ze);function Kc(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Qc(){this.g=!0}Qc.prototype.xa=function(){this.g=!1};function $O(l,h,f,v,D,k){l.info(function(){if(l.g)if(k)for(var F="",Ae=k.split("&"),It=0;It<Ae.length;It++){var Ee=Ae[It].split("=");if(1<Ee.length){var Dt=Ee[0];Ee=Ee[1];var At=Dt.split("_");F=2<=At.length&&At[1]=="type"?F+(Dt+"="+Ee+"&"):F+(Dt+"=redacted&")}}else F=null;else F=k;return"XMLHTTP REQ ("+v+") [attempt "+D+"]: "+h+`
`+f+`
`+F})}function zO(l,h,f,v,D,k,F){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+D+"]: "+h+`
`+f+`
`+k+" "+F})}function Es(l,h,f,v){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+WO(l,f)+(v?" "+v:"")})}function qO(l,h){l.info(function(){return"TIMEOUT: "+h})}Qc.prototype.info=function(){};function WO(l,h){if(!l.g)return h;if(!h)return null;try{var f=JSON.parse(h);if(f){for(l=0;l<f.length;l++)if(Array.isArray(f[l])){var v=f[l];if(!(2>v.length)){var D=v[1];if(Array.isArray(D)&&!(1>D.length)){var k=D[0];if(k!="noop"&&k!="stop"&&k!="close")for(var F=1;F<D.length;F++)D[F]=""}}}}return Pm(f)}catch{return h}}var bd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},z0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fm;function Td(){}E(Td,Om),Td.prototype.g=function(){return new XMLHttpRequest},Td.prototype.i=function(){return{}},Fm=new Td;function ti(l,h,f,v){this.j=l,this.i=h,this.l=f,this.R=v||1,this.U=new qc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new q0}function q0(){this.i=null,this.g="",this.h=!1}var W0={},jm={};function Um(l,h,f){l.L=1,l.v=Ad(yr(h)),l.m=f,l.P=!0,G0(l,null)}function G0(l,h){l.F=Date.now(),Cd(l),l.A=yr(l.v);var f=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),aT(f.i,"t",v),l.C=0,f=l.j.J,l.h=new q0,l.g=CT(l.j,f?h:null,!l.m),0<l.O&&(l.M=new UO(g(l.Y,l,l.g),l.O)),h=l.U,f=l.g,v=l.ca;var D="readystatechange";Array.isArray(D)||(D&&(L0[0]=D.toString()),D=L0);for(var k=0;k<D.length;k++){var F=Hc(f,D[k],v||h.handleEvent,!1,h.h||h);if(!F)break;h.g[F.key]=F}h=l.H?y(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Gc(),$O(l.i,l.u,l.A,l.l,l.R,l.m)}ti.prototype.ca=function(l){l=l.target;let h=this.M;h&&_r(l)==3?h.j():this.Y(l)},ti.prototype.Y=function(l){try{if(l==this.g)e:{let At=_r(this.g);var h=this.g.Ba();let Cs=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||pT(this.g)))){this.J||At!=4||h==7||(h==8||0>=Cs?Gc(3):Gc(2)),Bm(this);var f=this.g.Z();this.X=f;t:if(K0(this)){var v=pT(this.g);l="";var D=v.length,k=_r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xi(this),Yc(this);var F="";break t}this.h.i=new a.TextDecoder}for(h=0;h<D;h++)this.h.h=!0,l+=this.h.i.decode(v[h],{stream:!(k&&h==D-1)});v.length=0,this.h.g+=l,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,zO(this.i,this.u,this.A,this.l,this.R,At,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ae,It=this.g;if((Ae=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Ae)){var Ee=Ae;break t}}Ee=null}if(f=Ee)Es(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hm(this,f);else{this.o=!1,this.s=3,Ot(12),Xi(this),Yc(this);break e}}if(this.P){f=!0;let An;for(;!this.J&&this.C<F.length;)if(An=GO(this,F),An==jm){At==4&&(this.s=4,Ot(14),f=!1),Es(this.i,this.l,null,"[Incomplete Response]");break}else if(An==W0){this.s=4,Ot(15),Es(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else Es(this.i,this.l,An,null),Hm(this,An);if(K0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||F.length!=0||this.h.h||(this.s=1,Ot(16),f=!1),this.o=this.o&&f,!f)Es(this.i,this.l,F,"[Invalid Chunked Response]"),Xi(this),Yc(this);else if(0<F.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),Km(Dt),Dt.M=!0,Ot(11))}}else Es(this.i,this.l,F,null),Hm(this,F);At==4&&Xi(this),this.o&&!this.J&&(At==4?IT(this.j,this):(this.o=!1,Cd(this)))}else u1(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),Xi(this),Yc(this)}}}catch{}finally{}};function K0(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function GO(l,h){var f=l.C,v=h.indexOf(`
`,f);return v==-1?jm:(f=Number(h.substring(f,v)),isNaN(f)?W0:(v+=1,v+f>h.length?jm:(h=h.slice(v,v+f),l.C=v+f,h)))}ti.prototype.cancel=function(){this.J=!0,Xi(this)};function Cd(l){l.S=Date.now()+l.I,Q0(l,l.I)}function Q0(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Kc(g(l.ba,l),h)}function Bm(l){l.B&&(a.clearTimeout(l.B),l.B=null)}ti.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(qO(this.i,this.A),this.L!=2&&(Gc(),Ot(17)),Xi(this),this.s=2,Yc(this)):Q0(this,this.S-l)};function Yc(l){l.j.G==0||l.J||IT(l.j,l)}function Xi(l){Bm(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,V0(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Hm(l,h){try{var f=l.j;if(f.G!=0&&(f.g==l||$m(f.h,l))){if(!l.K&&$m(f.h,l)&&f.G==3){try{var v=f.Da.g.parse(h)}catch{v=null}if(Array.isArray(v)&&v.length==3){var D=v;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<l.F)Nd(f),Rd(f);else break e;Gm(f),Ot(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=Kc(g(f.Za,f),6e3));if(1>=J0(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else to(f,11)}else if((l.K||f.g==l)&&Nd(f),!j(h))for(D=f.Da.g.parse(h),h=0;h<D.length;h++){let Ee=D[h];if(f.T=Ee[0],Ee=Ee[1],f.G==2)if(Ee[0]=="c"){f.K=Ee[1],f.ia=Ee[2];let Dt=Ee[3];Dt!=null&&(f.la=Dt,f.j.info("VER="+f.la));let At=Ee[4];At!=null&&(f.Aa=At,f.j.info("SVER="+f.Aa));let Cs=Ee[5];Cs!=null&&typeof Cs=="number"&&0<Cs&&(v=1.5*Cs,f.L=v,f.j.info("backChannelRequestTimeoutMs_="+v)),v=f;let An=l.g;if(An){let Od=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Od){var k=v.h;k.g||Od.indexOf("spdy")==-1&&Od.indexOf("quic")==-1&&Od.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(zm(k,k.h),k.h=null))}if(v.D){let Qm=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;Qm&&(v.ya=Qm,Re(v.I,v.D,Qm))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-l.F,f.j.info("Handshake RTT: "+f.R+"ms")),v=f;var F=l;if(v.qa=TT(v,v.J?v.ia:null,v.W),F.K){X0(v.h,F);var Ae=F,It=v.L;It&&(Ae.I=It),Ae.B&&(Bm(Ae),Cd(Ae)),v.g=F}else _T(v);0<f.i.length&&Md(f)}else Ee[0]!="stop"&&Ee[0]!="close"||to(f,7);else f.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?to(f,7):Wm(f):Ee[0]!="noop"&&f.l&&f.l.ta(Ee),f.v=0)}}Gc(4)}catch{}}var KO=class{constructor(l,h){this.g=l,this.map=h}};function Y0(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Z0(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function J0(l){return l.h?1:l.g?l.g.size:0}function $m(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function zm(l,h){l.g?l.g.add(h):l.h=h}function X0(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}Y0.prototype.cancel=function(){if(this.i=eT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function eT(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let f of l.g.values())h=h.concat(f.D);return h}return x(l.i)}function QO(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],f=l.length,v=0;v<f;v++)h.push(l[v]);return h}h=[],f=0;for(v in l)h[f++]=l[v];return h}function YO(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var f=0;f<l;f++)h.push(f);return h}h=[],f=0;for(let v in l)h[f++]=v;return h}}}function tT(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var f=YO(l),v=QO(l),D=v.length,k=0;k<D;k++)h.call(void 0,v[k],f&&f[k],l)}var nT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ZO(l,h){if(l){l=l.split("&");for(var f=0;f<l.length;f++){var v=l[f].indexOf("="),D=null;if(0<=v){var k=l[f].substring(0,v);D=l[f].substring(v+1)}else k=l[f];h(k,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function eo(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof eo){this.h=l.h,Sd(this,l.j),this.o=l.o,this.g=l.g,Dd(this,l.s),this.l=l.l;var h=l.i,f=new Xc;f.i=h.i,h.g&&(f.g=new Map(h.g),f.h=h.h),rT(this,f),this.m=l.m}else l&&(h=String(l).match(nT))?(this.h=!1,Sd(this,h[1]||"",!0),this.o=Zc(h[2]||""),this.g=Zc(h[3]||"",!0),Dd(this,h[4]),this.l=Zc(h[5]||"",!0),rT(this,h[6]||"",!0),this.m=Zc(h[7]||"")):(this.h=!1,this.i=new Xc(null,this.h))}eo.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Jc(h,iT,!0),":");var f=this.g;return(f||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Jc(h,iT,!0),"@"),l.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&l.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&l.push("/"),l.push(Jc(f,f.charAt(0)=="/"?e1:XO,!0))),(f=this.i.toString())&&l.push("?",f),(f=this.m)&&l.push("#",Jc(f,n1)),l.join("")};function yr(l){return new eo(l)}function Sd(l,h,f){l.j=f?Zc(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Dd(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function rT(l,h,f){h instanceof Xc?(l.i=h,r1(l.i,l.h)):(f||(h=Jc(h,t1)),l.i=new Xc(h,l.h))}function Re(l,h,f){l.i.set(h,f)}function Ad(l){return Re(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Zc(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Jc(l,h,f){return typeof l=="string"?(l=encodeURI(l).replace(h,JO),f&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function JO(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var iT=/[#\/\?@]/g,XO=/[#\?:]/g,e1=/[#\?]/g,t1=/[#\?@]/g,n1=/#/g;function Xc(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function ni(l){l.g||(l.g=new Map,l.h=0,l.i&&ZO(l.i,function(h,f){l.add(decodeURIComponent(h.replace(/\+/g," ")),f)}))}t=Xc.prototype,t.add=function(l,h){ni(this),this.i=null,l=bs(this,l);var f=this.g.get(l);return f||this.g.set(l,f=[]),f.push(h),this.h+=1,this};function oT(l,h){ni(l),h=bs(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function sT(l,h){return ni(l),h=bs(l,h),l.g.has(h)}t.forEach=function(l,h){ni(this),this.g.forEach(function(f,v){f.forEach(function(D){l.call(h,D,v,this)},this)},this)},t.na=function(){ni(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),f=[];for(let v=0;v<h.length;v++){let D=l[v];for(let k=0;k<D.length;k++)f.push(h[v])}return f},t.V=function(l){ni(this);let h=[];if(typeof l=="string")sT(this,l)&&(h=h.concat(this.g.get(bs(this,l))));else{l=Array.from(this.g.values());for(let f=0;f<l.length;f++)h=h.concat(l[f])}return h},t.set=function(l,h){return ni(this),this.i=null,l=bs(this,l),sT(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function aT(l,h,f){oT(l,h),0<f.length&&(l.i=null,l.g.set(bs(l,h),x(f)),l.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var f=0;f<h.length;f++){var v=h[f];let k=encodeURIComponent(String(v)),F=this.V(v);for(v=0;v<F.length;v++){var D=k;F[v]!==""&&(D+="="+encodeURIComponent(String(F[v]))),l.push(D)}}return this.i=l.join("&")};function bs(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function r1(l,h){h&&!l.j&&(ni(l),l.i=null,l.g.forEach(function(f,v){var D=v.toLowerCase();v!=D&&(oT(this,v),aT(this,D,f))},l)),l.j=h}function i1(l,h){let f=new Qc;if(a.Image){let v=new Image;v.onload=m(ri,f,"TestLoadImage: loaded",!0,h,v),v.onerror=m(ri,f,"TestLoadImage: error",!1,h,v),v.onabort=m(ri,f,"TestLoadImage: abort",!1,h,v),v.ontimeout=m(ri,f,"TestLoadImage: timeout",!1,h,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else h(!1)}function o1(l,h){let f=new Qc,v=new AbortController,D=setTimeout(()=>{v.abort(),ri(f,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:v.signal}).then(k=>{clearTimeout(D),k.ok?ri(f,"TestPingServer: ok",!0,h):ri(f,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(D),ri(f,"TestPingServer: error",!1,h)})}function ri(l,h,f,v,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),v(f)}catch{}}function s1(){this.g=new HO}function a1(l,h,f){let v=f||"";try{tT(l,function(D,k){let F=D;u(D)&&(F=Pm(D)),h.push(v+k+"="+encodeURIComponent(F))})}catch(D){throw h.push(v+"type="+encodeURIComponent("_badmap")),D}}function el(l){this.l=l.Ub||null,this.j=l.eb||!1}E(el,Om),el.prototype.g=function(){return new xd(this.l,this.j)},el.prototype.i=function(l){return function(){return l}}({});function xd(l,h){rt.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(xd,rt),t=xd.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,nl(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tl(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,nl(this)),this.g&&(this.readyState=3,nl(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cT(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function cT(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?tl(this):nl(this),this.readyState==3&&cT(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,tl(this))},t.Qa=function(l){this.g&&(this.response=l,tl(this))},t.ga=function(){this.g&&tl(this)};function tl(l){l.readyState=4,l.l=null,l.j=null,l.v=null,nl(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var f=h.next();!f.done;)f=f.value,l.push(f[0]+": "+f[1]),f=h.next();return l.join(`\r
`)};function nl(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(xd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function lT(l){let h="";return H(l,function(f,v){h+=v,h+=":",h+=f,h+=`\r
`}),h}function qm(l,h,f){e:{for(v in f){var v=!1;break e}v=!0}v||(f=lT(f),typeof l=="string"?f!=null&&encodeURIComponent(String(f)):Re(l,h,f))}function Le(l){rt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Le,rt);var c1=/^https?$/i,l1=["POST","PUT"];t=Le.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,f,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fm.g(),this.v=this.o?F0(this.o):F0(Fm),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(k){uT(this,k);return}if(l=f||"",f=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var D in v)f.set(D,v[D]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let k of v.keys())f.set(k,v.get(k));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(f.keys()).find(k=>k.toLowerCase()=="content-type"),D=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(l1,h,void 0))||v||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[k,F]of f)this.g.setRequestHeader(k,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fT(this),this.u=!0,this.g.send(l),this.u=!1}catch(k){uT(this,k)}};function uT(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,dT(l),kd(l)}function dT(l){l.A||(l.A=!0,ht(l,"complete"),ht(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ht(this,"complete"),ht(this,"abort"),kd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kd(this,!0)),Le.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?hT(this):this.bb())},t.bb=function(){hT(this)};function hT(l){if(l.h&&typeof s<"u"&&(!l.v[1]||_r(l)!=4||l.Z()!=2)){if(l.u&&_r(l)==4)P0(l.Ea,0,l);else if(ht(l,"readystatechange"),_r(l)==4){l.h=!1;try{let F=l.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var f;if(!(f=h)){var v;if(v=F===0){var D=String(l.D).match(nT)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),v=!c1.test(D?D.toLowerCase():"")}f=v}if(f)ht(l,"complete"),ht(l,"success");else{l.m=6;try{var k=2<_r(l)?l.g.statusText:""}catch{k=""}l.l=k+" ["+l.Z()+"]",dT(l)}}finally{kd(l)}}}}function kd(l,h){if(l.g){fT(l);let f=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||ht(l,"ready");try{f.onreadystatechange=v}catch{}}}function fT(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function _r(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<_r(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),BO(h)}};function pT(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function u1(l){let h={};l=(l.g&&2<=_r(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(j(l[v]))continue;var f=C(l[v]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let k=h[D]||[];h[D]=k,k.push(f)}T(h,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rl(l,h,f){return f&&f.internalChannelParams&&f.internalChannelParams[l]||h}function gT(l){this.Aa=0,this.i=[],this.j=new Qc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rl("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rl("baseRetryDelayMs",5e3,l),this.cb=rl("retryDelaySeedMs",1e4,l),this.Wa=rl("forwardChannelMaxRetries",2,l),this.wa=rl("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Y0(l&&l.concurrentRequestLimit),this.Da=new s1,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=gT.prototype,t.la=8,t.G=1,t.connect=function(l,h,f,v){Ot(0),this.W=l,this.H=h||{},f&&v!==void 0&&(this.H.OSID=f,this.H.OAID=v),this.F=this.X,this.I=TT(this,null,this.W),Md(this)};function Wm(l){if(mT(l),l.G==3){var h=l.U++,f=yr(l.I);if(Re(f,"SID",l.K),Re(f,"RID",h),Re(f,"TYPE","terminate"),il(l,f),h=new ti(l,l.j,h),h.L=2,h.v=Ad(yr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=h.v,f=!0),f||(h.g=CT(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Cd(h)}bT(l)}function Rd(l){l.g&&(Km(l),l.g.cancel(),l.g=null)}function mT(l){Rd(l),l.u&&(a.clearTimeout(l.u),l.u=null),Nd(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Md(l){if(!Z0(l.h)&&!l.s){l.s=!0;var h=l.Ga;Ye||Qi(),zn||(Ye(),zn=!0),Dn.add(h,l),l.B=0}}function d1(l,h){return J0(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Kc(g(l.Ga,l,h),ET(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let D=new ti(this,this.j,l),k=this.o;if(this.S&&(k?(k=y(k),b(k,this.S)):k=this.S),this.m!==null||this.O||(D.H=k,k=null),this.P)e:{for(var h=0,f=0;f<this.i.length;f++){t:{var v=this.i[f];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(h+=v,4096<h){h=f;break e}if(h===4096||f===this.i.length-1){h=f+1;break e}}h=1e3}else h=1e3;h=yT(this,D,h),f=yr(this.I),Re(f,"RID",l),Re(f,"CVER",22),this.D&&Re(f,"X-HTTP-Session-Id",this.D),il(this,f),k&&(this.O?h="headers="+encodeURIComponent(String(lT(k)))+"&"+h:this.m&&qm(f,this.m,k)),zm(this.h,D),this.Ua&&Re(f,"TYPE","init"),this.P?(Re(f,"$req",h),Re(f,"SID","null"),D.T=!0,Um(D,f,null)):Um(D,f,h),this.G=2}}else this.G==3&&(l?vT(this,l):this.i.length==0||Z0(this.h)||vT(this))};function vT(l,h){var f;h?f=h.l:f=l.U++;let v=yr(l.I);Re(v,"SID",l.K),Re(v,"RID",f),Re(v,"AID",l.T),il(l,v),l.m&&l.o&&qm(v,l.m,l.o),f=new ti(l,l.j,f,l.B+1),l.m===null&&(f.H=l.o),h&&(l.i=h.D.concat(l.i)),h=yT(l,f,1e3),f.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),zm(l.h,f),Um(f,v,h)}function il(l,h){l.H&&H(l.H,function(f,v){Re(h,v,f)}),l.l&&tT({},function(f,v){Re(h,v,f)})}function yT(l,h,f){f=Math.min(l.i.length,f);var v=l.l?g(l.l.Na,l.l,l):null;e:{var D=l.i;let k=-1;for(;;){let F=["count="+f];k==-1?0<f?(k=D[0].g,F.push("ofs="+k)):k=0:F.push("ofs="+k);let Ae=!0;for(let It=0;It<f;It++){let Ee=D[It].g,Dt=D[It].map;if(Ee-=k,0>Ee)k=Math.max(0,D[It].g-100),Ae=!1;else try{a1(Dt,F,"req"+Ee+"_")}catch{v&&v(Dt)}}if(Ae){v=F.join("&");break e}}}return l=l.i.splice(0,f),h.D=l,v}function _T(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;Ye||Qi(),zn||(Ye(),zn=!0),Dn.add(h,l),l.v=0}}function Gm(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Kc(g(l.Fa,l),ET(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,wT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Kc(g(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),Rd(this),wT(this))};function Km(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function wT(l){l.g=new ti(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=yr(l.qa);Re(h,"RID","rpc"),Re(h,"SID",l.K),Re(h,"AID",l.T),Re(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Re(h,"TO",l.ja),Re(h,"TYPE","xmlhttp"),il(l,h),l.m&&l.o&&qm(h,l.m,l.o),l.L&&(l.g.I=l.L);var f=l.g;l=l.ia,f.L=1,f.v=Ad(yr(h)),f.m=null,f.P=!0,G0(f,l)}t.Za=function(){this.C!=null&&(this.C=null,Rd(this),Gm(this),Ot(19))};function Nd(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function IT(l,h){var f=null;if(l.g==h){Nd(l),Km(l),l.g=null;var v=2}else if($m(l.h,h))f=h.D,X0(l.h,h),v=1;else return;if(l.G!=0){if(h.o)if(v==1){f=h.m?h.m.length:0,h=Date.now()-h.F;var D=l.B;v=Ed(),ht(v,new $0(v,f)),Md(l)}else _T(l);else if(D=h.s,D==3||D==0&&0<h.X||!(v==1&&d1(l,h)||v==2&&Gm(l)))switch(f&&0<f.length&&(h=l.h,h.i=h.i.concat(f)),D){case 1:to(l,5);break;case 4:to(l,10);break;case 3:to(l,6);break;default:to(l,2)}}}function ET(l,h){let f=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(f*=2),f*h}function to(l,h){if(l.j.info("Error code "+h),h==2){var f=g(l.fb,l),v=l.Xa;let D=!v;v=new eo(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Sd(v,"https"),Ad(v),D?i1(v.toString(),f):o1(v.toString(),f)}else Ot(2);l.G=0,l.l&&l.l.sa(h),bT(l),mT(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function bT(l){if(l.G=0,l.ka=[],l.l){let h=eT(l.h);(h.length!=0||l.i.length!=0)&&(A(l.ka,h),A(l.ka,l.i),l.h.i.length=0,x(l.i),l.i.length=0),l.l.ra()}}function TT(l,h,f){var v=f instanceof eo?yr(f):new eo(f);if(v.g!="")h&&(v.g=h+"."+v.g),Dd(v,v.s);else{var D=a.location;v=D.protocol,h=h?h+"."+D.hostname:D.hostname,D=+D.port;var k=new eo(null);v&&Sd(k,v),h&&(k.g=h),D&&Dd(k,D),f&&(k.l=f),v=k}return f=l.D,h=l.ya,f&&h&&Re(v,f,h),Re(v,"VER",l.la),il(l,v),v}function CT(l,h,f){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new Le(new el({eb:f})):new Le(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ST(){}t=ST.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Pd(){}Pd.prototype.g=function(l,h){return new Xt(l,h)};function Xt(l,h){rt.call(this),this.g=new gT(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!j(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!j(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Ts(this)}E(Xt,rt),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){Wm(this.g)},Xt.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var f={};f.__data__=l,l=f}else this.u&&(f={},f.__data__=Pm(l),l=f);h.i.push(new KO(h.Ya++,l)),h.G==3&&Md(h)},Xt.prototype.N=function(){this.g.l=null,delete this.j,Wm(this.g),delete this.g,Xt.aa.N.call(this)};function DT(l){Lm.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let f in h){l=f;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}E(DT,Lm);function AT(){Vm.call(this),this.status=1}E(AT,Vm);function Ts(l){this.g=l}E(Ts,ST),Ts.prototype.ua=function(){ht(this.g,"a")},Ts.prototype.ta=function(l){ht(this.g,new DT(l))},Ts.prototype.sa=function(l){ht(this.g,new AT)},Ts.prototype.ra=function(){ht(this.g,"b")},Pd.prototype.createWebChannel=Pd.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,mE=zr.createWebChannelTransport=function(){return new Pd},gE=zr.getStatEventTarget=function(){return Ed()},pE=zr.Event=Ji,Ag=zr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bd.NO_ERROR=0,bd.TIMEOUT=8,bd.HTTP_ERROR=6,Ju=zr.ErrorCode=bd,z0.COMPLETE="complete",fE=zr.EventType=z0,j0.EventType=Wc,Wc.OPEN="a",Wc.CLOSE="b",Wc.ERROR="c",Wc.MESSAGE="d",rt.prototype.listen=rt.prototype.K,cc=zr.WebChannel=j0,jW=zr.FetchXmlHttpFactory=el,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha,hE=zr.XhrIo=Le}).apply(typeof Dg<"u"?Dg:typeof self<"u"?self:typeof window<"u"?window:{});var iN="@firebase/firestore",oN="4.7.14";var yt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");var Rc="11.7.3";var ls=new sr("@firebase/firestore");function lc(){return ls.logLevel}function $(t,...e){if(ls.logLevel<=me.DEBUG){let n=e.map(i0);ls.debug(`Firestore (${Rc}): ${t}`,...n)}}function Gr(t,...e){if(ls.logLevel<=me.ERROR){let n=e.map(i0);ls.error(`Firestore (${Rc}): ${t}`,...n)}}function mc(t,...e){if(ls.logLevel<=me.WARN){let n=e.map(i0);ls.warn(`Firestore (${Rc}): ${t}`,...n)}}function i0(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Z(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,QN(t,r,n)}function QN(t,e,n){let r=`FIRESTORE (${Rc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Gr(r),new Error(r)}function Te(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||QN(e,i,r)}function ne(t,e){return t}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},K=class extends on{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var qr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Og=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},IE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yt.UNAUTHENTICATED))}shutdown(){}},EE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},bE=class{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new qr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>w(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new qr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new Og(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new yt(e)}},TE=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},CE=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new TE(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Lg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},SE=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Te(this.o===void 0,3512);let r=o=>{o.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,$("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Lg(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Lg(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function UW(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function YN(){return new TextEncoder}var Vg=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=UW(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function he(t,e){return t<e?-1:t>e?1:0}function DE(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return he(r,i);{let o=YN(),s=BW(o.encode(sN(t,n)),o.encode(sN(e,n)));return s!==0?s:he(r,i)}}n+=r>65535?2:1}return he(t.length,e.length)}function sN(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function BW(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return he(t[n],e[n]);return he(t.length,e.length)}function vc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var aN=-62135596800,cN=1e6,St=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*cN);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<aN)throw new K(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cN}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-aN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var oe=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new St(0,0))}static max(){return new t(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var lN="__name__",Fg=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Z(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return he(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):DE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $r.fromString(e.substring(4,e.length-2))}},He=class t extends Fg{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new K(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},HW=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ln=class t extends Fg{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return HW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lN}static keyField(){return new t([lN])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new K(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new K(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new K(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new K(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var J=class t{constructor(e){this.path=e}static fromPath(e){return new t(He.fromString(e))}static fromName(e){return new t(He.fromString(e).popFirst(5))}static empty(){return new t(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new He(e.slice()))}};var id=-1,AE=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};AE.UNKNOWN_ID=-1;function $W(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=oe.fromTimestamp(r===1e9?new St(n+1,0):new St(n,r));return new us(i,J.empty(),e)}function zW(t){return new us(t.readTime,t.key,id)}var us=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(oe.min(),J.empty(),id)}static max(){return new t(oe.max(),J.empty(),id)}};function qW(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}var WW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",xE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Mc(t){return w(this,null,function*(){if(t.code!==P.FAILED_PRECONDITION||t.message!==WW)throw t;$("LocalStore","Unexpectedly lost primary lease")})}var N=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;n(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function GW(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Nc(t){return t.name==="IndexedDbTransactionError"}var o0=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ce&&this.ce(n),n}}t.le=-1;return t})(),s0=-1;function mm(t){return t==null}function od(t){return t===0&&1/t==-1/0}function KW(t){return typeof t=="number"&&Number.isInteger(t)&&!od(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ZN="";function QW(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=uN(e)),e=YW(t.get(n),e);return uN(e)}function YW(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case ZN:n+="";break;default:n+=o}}return n}function uN(t){return t+ZN+""}var ZW="remoteDocuments",JN="owner";var XN="mutationQueues";var eP="mutations";var tP="documentMutations",JW="remoteDocumentsV14";var nP="remoteDocumentGlobal";var rP="targets";var iP="targetDocuments";var oP="targetGlobal",sP="collectionParents";var aP="clientMetadata";var cP="bundles";var lP="namedQueries";var XW="indexConfiguration";var e3="indexState";var t3="indexEntries";var uP="documentOverlays";var n3="globals";var r3=[XN,eP,tP,ZW,rP,JN,oP,iP,aP,nP,sP,cP,lP],Rce=[...r3,uP],i3=[XN,eP,tP,JW,rP,JN,oP,iP,aP,nP,sP,cP,lP,uP],o3=i3,s3=[...o3,XW,e3,t3];var Mce=[...s3,n3];function dN(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ki(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dP(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var $e=class t{constructor(e,n){this.comparator=e,this.root=n||ur.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ur.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ur.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fc(this.root,e,this.comparator,!0)}},fc=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ur=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Z(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Z(27949);return e+(this.isRed()?0:1)}};ur.EMPTY=null,ur.RED=!0,ur.BLACK=!1;ur.EMPTY=new class{constructor(){this.size=0}get key(){throw Z(57766)}get value(){throw Z(16141)}get color(){throw Z(16727)}get left(){throw Z(29726)}get right(){throw Z(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new ur(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var _t=class t{constructor(e){this.comparator=e,this.data=new $e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jg(this.data.getIterator())}getIteratorFrom(e){return new jg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},jg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Sn=class t{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new t([])}unionWith(e){let n=new _t(ln.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vc(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Ug=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Pt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ug("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Pt.EMPTY_BYTE_STRING=new Pt("");var a3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(t){if(Te(!!t,39018),typeof t=="string"){let e=0,n=a3.exec(t);if(Te(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oe(t.seconds),nanos:Oe(t.nanos)}}function Oe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qr(t){return typeof t=="string"?Pt.fromBase64String(t):Pt.fromUint8Array(t)}var hP="server_timestamp",fP="__type__",pP="__previous_value__",gP="__local_write_time__";function a0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[fP])===null||n===void 0?void 0:n.stringValue)===hP}function vm(t){let e=t.mapValue.fields[pP];return a0(e)?vm(e):e}function sd(t){let e=Kr(t.mapValue.fields[gP].timestampValue);return new St(e.seconds,e.nanos)}var kE=class{constructor(e,n,r,i,o,s,a,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}},Bg="(default)",Hg=class t{constructor(e,n){this.projectId=e,this.database=n||Bg}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Bg}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var c0="__type__",mP="__max__",xg={mapValue:{fields:{__type__:{stringValue:mP}}}},l0="__vector__",yc="value";function zi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?a0(t)?4:yP(t)?9007199254740991:vP(t)?10:11:Z(28295,{value:t})}function fr(t,e){if(t===e)return!0;let n=zi(t);if(n!==zi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sd(t).isEqual(sd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Kr(i.timestampValue),a=Kr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Qr(i.bytesValue).isEqual(Qr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Oe(i.geoPointValue.latitude)===Oe(o.geoPointValue.latitude)&&Oe(i.geoPointValue.longitude)===Oe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Oe(i.integerValue)===Oe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Oe(i.doubleValue),a=Oe(o.doubleValue);return s===a?od(s)===od(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return vc(t.arrayValue.values||[],e.arrayValue.values||[],fr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(dN(s)!==dN(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!fr(s[c],a[c])))return!1;return!0}(t,e);default:return Z(52216,{left:t})}}function ad(t,e){return(t.values||[]).find(n=>fr(n,e))!==void 0}function _c(t,e){if(t===e)return 0;let n=zi(t),r=zi(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Oe(o.integerValue||o.doubleValue),c=Oe(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return hN(t.timestampValue,e.timestampValue);case 4:return hN(sd(t),sd(e));case 5:return DE(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Qr(o),c=Qr(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=he(a[u],c[u]);if(d!==0)return d}return he(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=he(Oe(o.latitude),Oe(s.latitude));return a!==0?a:he(Oe(o.longitude),Oe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return fN(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,u,d;let p=o.fields||{},g=s.fields||{},m=(a=p[yc])===null||a===void 0?void 0:a.arrayValue,E=(c=g[yc])===null||c===void 0?void 0:c.arrayValue,x=he(((u=m?.values)===null||u===void 0?void 0:u.length)||0,((d=E?.values)===null||d===void 0?void 0:d.length)||0);return x!==0?x:fN(m,E)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===xg.mapValue&&s===xg.mapValue)return 0;if(o===xg.mapValue)return 1;if(s===xg.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){let g=DE(c[p],d[p]);if(g!==0)return g;let m=_c(a[c[p]],u[d[p]]);if(m!==0)return m}return he(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Z(23264,{Pe:n})}}function hN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);let n=Kr(t),r=Kr(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function fN(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=_c(n[i],r[i]);if(o)return o}return he(n.length,r.length)}function wc(t){return RE(t)}function RE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Kr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=RE(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${RE(n.fields[s])}`;return i+"}"}(t.mapValue):Z(61005,{value:t})}function Mg(t){switch(zi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=vm(t);return e?16+Mg(e):16;case 5:return 2*t.stringValue.length;case 6:return Qr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Mg(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ki(r.fields,(o,s)=>{i+=o.length+Mg(s)}),i}(t.mapValue);default:throw Z(13486,{value:t})}}function ME(t){return!!t&&"integerValue"in t}function u0(t){return!!t&&"arrayValue"in t}function pN(t){return!!t&&"nullValue"in t}function gN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ng(t){return!!t&&"mapValue"in t}function vP(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[c0])===null||n===void 0?void 0:n.stringValue)===l0}function ed(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ki(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ed(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ed(t.arrayValue.values[n]);return e}return Object.assign({},t)}function yP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===mP}var Pce={mapValue:{fields:{[c0]:{stringValue:l0},[yc]:{arrayValue:{}}}}};var cn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ng(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ed(n)}setAll(e){let n=ln.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=ed(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Ng(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ng(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ki(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(ed(this.value))}};function _P(t){let e=[];return Ki(t.fields,(n,r)=>{let i=new ln([n]);if(Ng(r)){let o=_P(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Sn(e)}var $n=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,oe.min(),oe.min(),oe.min(),cn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,oe.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,oe.min(),oe.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,oe.min(),oe.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ic=class{constructor(e,n){this.position=e,this.inclusive=n}};function mN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=J.comparator(J.fromName(s.referenceValue),n.key):r=_c(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function vN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fr(t.position[n],e.position[n]))return!1;return!0}var Ec=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function c3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var $g=class{},dt=class t extends $g{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new PE(e,n,r):n==="array-contains"?new VE(e,r):n==="in"?new FE(e,r):n==="not-in"?new jE(e,r):n==="array-contains-any"?new UE(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new OE(e,r):new LE(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_c(n,this.value)):n!==null&&zi(this.value)===zi(n)&&this.matchesComparison(_c(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},pr=class t extends $g{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new t(e,n)}matches(e){return wP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function wP(t){return t.op==="and"}function IP(t){return l3(t)&&wP(t)}function l3(t){for(let e of t.filters)if(e instanceof pr)return!1;return!0}function NE(t){if(t instanceof dt)return t.field.canonicalString()+t.op.toString()+wc(t.value);if(IP(t))return t.filters.map(e=>NE(e)).join(",");{let e=t.filters.map(n=>NE(n)).join(",");return`${t.op}(${e})`}}function EP(t,e){return t instanceof dt?function(r,i){return i instanceof dt&&r.op===i.op&&r.field.isEqual(i.field)&&fr(r.value,i.value)}(t,e):t instanceof pr?function(r,i){return i instanceof pr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&EP(s,i.filters[a]),!0):!1}(t,e):void Z(19439)}function bP(t){return t instanceof dt?function(n){return`${n.field.canonicalString()} ${n.op} ${wc(n.value)}`}(t):t instanceof pr?function(n){return n.op.toString()+" {"+n.getFilters().map(bP).join(" ,")+"}"}(t):"Filter"}var PE=class extends dt{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){let n=J.comparator(e.key,this.key);return this.matchesComparison(n)}},OE=class extends dt{constructor(e,n){super(e,"in",n),this.keys=TP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},LE=class extends dt{constructor(e,n){super(e,"not-in",n),this.keys=TP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function TP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}var VE=class extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return u0(n)&&ad(n.arrayValue,this.value)}},FE=class extends dt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ad(this.value.arrayValue,n)}},jE=class extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ad(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ad(this.value.arrayValue,n)}},UE=class extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!u0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ad(this.value.arrayValue,r))}};var BE=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function yN(t,e=null,n=[],r=[],i=null,o=null,s=null){return new BE(t,e,n,r,i,o,s)}function d0(t){let e=ne(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>NE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),mm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wc(r)).join(",")),e.Ie=n}return e.Ie}function h0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!c3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vN(t.startAt,e.startAt)&&vN(t.endAt,e.endAt)}function HE(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var bc=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function u3(t,e,n,r,i,o,s,a){return new bc(t,e,n,r,i,o,s,a)}function f0(t){return new bc(t)}function _N(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function d3(t){return t.collectionGroup!==null}function td(t){let e=ne(t);if(e.Ee===null){e.Ee=[];let n=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new _t(ln.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Ec(o,r))}),n.has(ln.keyField().canonicalString())||e.Ee.push(new Ec(ln.keyField(),r))}return e.Ee}function dr(t){let e=ne(t);return e.de||(e.de=h3(e,td(t))),e.de}function h3(t,e){if(t.limitType==="F")return yN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ec(i.field,o)});let n=t.endAt?new Ic(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ic(t.startAt.position,t.startAt.inclusive):null;return yN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $E(t,e,n){return new bc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ym(t,e){return h0(dr(t),dr(e))&&t.limitType===e.limitType}function CP(t){return`${d0(dr(t))}|lt:${t.limitType}`}function uc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>bP(i)).join(", ")}]`),mm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>wc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>wc(i)).join(",")),`Target(${r})`}(dr(t))}; limitType=${t.limitType})`}function _m(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):J.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of td(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=mN(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,td(r),i)||r.endAt&&!function(s,a,c){let u=mN(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,td(r),i))}(t,e)}function f3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function SP(t){return(e,n)=>{let r=!1;for(let i of td(t)){let o=p3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function p3(t,e,n){let r=t.field.isKeyField()?J.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?_c(c,u):Z(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z(19790,{direction:t.dir})}}var Yr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ki(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return dP(this.inner)}size(){return this.innerSize}};var g3=new $e(J.comparator);function Zr(){return g3}var DP=new $e(J.comparator);function Xu(...t){let e=DP;for(let n of t)e=e.insert(n.key,n);return e}function AP(t){let e=DP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ss(){return nd()}function xP(){return nd()}function nd(){return new Yr(t=>t.toString(),(t,e)=>t.isEqual(e))}var m3=new $e(J.comparator),v3=new _t(J.comparator);function _e(...t){let e=v3;for(let n of t)e=e.add(n);return e}var y3=new _t(he);function _3(){return y3}function p0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:od(e)?"-0":e}}function kP(t){return{integerValue:""+t}}function w3(t,e){return KW(e)?kP(e):p0(t,e)}var Tc=class{constructor(){this._=void 0}};function I3(t,e,n){return t instanceof Cc?function(i,o){let s={fields:{[fP]:{stringValue:hP},[gP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&a0(o)&&(o=vm(o)),o&&(s.fields[pP]=o),{mapValue:s}}(n,e):t instanceof ds?MP(t,e):t instanceof hs?NP(t,e):function(i,o){let s=RP(i,o),a=wN(s)+wN(i.Re);return ME(s)&&ME(i.Re)?kP(a):p0(i.serializer,a)}(t,e)}function E3(t,e,n){return t instanceof ds?MP(t,e):t instanceof hs?NP(t,e):n}function RP(t,e){return t instanceof Sc?function(r){return ME(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Cc=class extends Tc{},ds=class extends Tc{constructor(e){super(),this.elements=e}};function MP(t,e){let n=PP(e);for(let r of t.elements)n.some(i=>fr(i,r))||n.push(r);return{arrayValue:{values:n}}}var hs=class extends Tc{constructor(e){super(),this.elements=e}};function NP(t,e){let n=PP(e);for(let r of t.elements)n=n.filter(i=>!fr(i,r));return{arrayValue:{values:n}}}var Sc=class extends Tc{constructor(e,n){super(),this.serializer=e,this.Re=n}};function wN(t){return Oe(t.integerValue||t.doubleValue)}function PP(t){return u0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function b3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ds&&i instanceof ds||r instanceof hs&&i instanceof hs?vc(r.elements,i.elements,fr):r instanceof Sc&&i instanceof Sc?fr(r.Re,i.Re):r instanceof Cc&&i instanceof Cc}(t.transform,e.transform)}var zE=class{constructor(e,n){this.version=e,this.transformResults=n}},Wr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Pg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Dc=class{};function OP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cd(t.key,Wr.none()):new fs(t.key,t.data,Wr.none());{let n=t.data,r=cn.empty(),i=new _t(ln.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new gr(t.key,r,new Sn(i.toArray()),Wr.none())}}function T3(t,e,n){t instanceof fs?function(i,o,s){let a=i.value.clone(),c=EN(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof gr?function(i,o,s){if(!Pg(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=EN(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(LP(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function rd(t,e,n,r){return t instanceof fs?function(o,s,a,c){if(!Pg(o.precondition,s))return a;let u=o.value.clone(),d=bN(o.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof gr?function(o,s,a,c){if(!Pg(o.precondition,s))return a;let u=bN(o.fieldTransforms,c,s),d=s.data;return d.setAll(LP(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Pg(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function C3(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=RP(r.transform,i||null);o!=null&&(n===null&&(n=cn.empty()),n.set(r.field,o))}return n||null}function IN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&vc(r,i,(o,s)=>b3(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var fs=class extends Dc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},gr=class extends Dc{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function LP(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function EN(t,e,n){let r=new Map;Te(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,E3(s,a,n[i]))}return r}function bN(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,I3(o,s,e))}return r}var cd=class extends Dc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},qE=class extends Dc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var WE=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&T3(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=rd(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=rd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=xP();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let c=OP(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&vc(this.mutations,e.mutations,(n,r)=>IN(n,r))&&vc(this.baseMutations,e.baseMutations,(n,r)=>IN(n,r))}},GE=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Te(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return m3}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var KE=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var QE=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var tt,Ie;function S3(t){switch(t){case P.OK:return Z(64938);case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return Z(15467,{code:t})}}function VP(t){if(t===void 0)return Gr("GRPC error has no .code"),P.UNKNOWN;switch(t){case tt.OK:return P.OK;case tt.CANCELLED:return P.CANCELLED;case tt.UNKNOWN:return P.UNKNOWN;case tt.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case tt.INTERNAL:return P.INTERNAL;case tt.UNAVAILABLE:return P.UNAVAILABLE;case tt.UNAUTHENTICATED:return P.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case tt.NOT_FOUND:return P.NOT_FOUND;case tt.ALREADY_EXISTS:return P.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return P.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case tt.ABORTED:return P.ABORTED;case tt.OUT_OF_RANGE:return P.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return P.UNIMPLEMENTED;case tt.DATA_LOSS:return P.DATA_LOSS;default:return Z(39323,{code:t})}}(Ie=tt||(tt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";var TN=null;var D3=new $r([4294967295,4294967295],0);function CN(t){let e=YN().encode(t),n=new dE;return n.update(e),new Uint8Array(n.digest())}function SN(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new $r([n,r],0),new $r([i,o],0)]}var YE=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new as(`Invalid padding: ${n}`);if(r<0)throw new as(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new as(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new as(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=$r.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply($r.fromNumber(r)));return i.compare(D3)===1&&(i=new $r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let n=CN(e),[r,i]=SN(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let n=CN(e),[r,i]=SN(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},as=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var zg=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ld.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(oe.min(),i,new $e(he),Zr(),_e())}},ld=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,_e(),_e(),_e())}};var pc=class{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}},qg=class{constructor(e,n){this.targetId=e,this.Ce=n}},Wg=class{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Gg=class{constructor(){this.Fe=0,this.Me=DN(),this.xe=Pt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=_e(),n=_e(),r=_e();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z(38017,{changeType:o})}}),new ld(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=DN()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Te(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},ZE=class{constructor(e){this.ze=e,this.je=new Map,this.He=Zr(),this.Je=kg(),this.Ye=kg(),this.Ze=new $e(he)}Xe(e){for(let n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(let n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{let r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Z(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){let n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){let o=i.target;if(HE(o))if(r===0){let s=new J(o.path);this.tt(n,s,$n.newNoDocument(s,oe.min()))}else Te(r===1,20013,{expectedCount:r});else{let s=this.ut(n);if(s!==r){let a=this.ct(e),c=a?this.lt(a,e,s):1;if(c!==0){this.st(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}TN?.ht(function(d,p,g,m,E){var x,A,M,j,U,B;let Q={localCacheCount:d,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},H=p.unchangedNames;return H&&(Q.bloomFilter={applied:E===0,hashCount:(x=H?.hashCount)!==null&&x!==void 0?x:0,bitmapLength:(j=(M=(A=H?.bits)===null||A===void 0?void 0:A.bitmap)===null||M===void 0?void 0:M.length)!==null&&j!==void 0?j:0,padding:(B=(U=H?.bits)===null||U===void 0?void 0:U.padding)!==null&&B!==void 0?B:0,mightContain:T=>{var y;return(y=m?.mightContain(T))!==null&&y!==void 0&&y}}),Q}(s,e.Ce,this.ze.Pt(),a,c))}}}}ct(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Qr(r).toUint8Array()}catch(c){if(c instanceof Ug)return mc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new YE(s,i,o)}catch(c){return mc(c instanceof as?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){let r=this.ze.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,o,null),i++)}),i}It(e){let n=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&HE(a.target)){let c=new J(a.target.path);this.Et(c).has(s)||this.dt(s,c)||this.tt(s,c,$n.newNoDocument(c,e))}o.Le&&(n.set(s,o.qe()),o.Qe())}});let r=_e();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this._t(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new zg(e,n,this.Ze,this.He,r);return this.He=Zr(),this.Je=kg(),this.Ye=kg(),this.Ze=new $e(he),i}et(e,n){if(!this.it(e))return;let r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){let n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Gg,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new _t(he),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new _t(he),this.Je=this.Je.insert(e,n)),n}it(e){let n=this._t(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}_t(e){let n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Gg),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}};function kg(){return new $e(J.comparator)}function DN(){return new $e(J.comparator)}var A3={asc:"ASCENDING",desc:"DESCENDING"},x3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},k3={and:"AND",or:"OR"},JE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function XE(t,e){return t.useProto3Json||mm(e)?e:{value:e}}function Kg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function R3(t,e){return Kg(t,e.toTimestamp())}function hr(t){return Te(!!t,49232),oe.fromTimestamp(function(n){let r=Kr(n);return new St(r.seconds,r.nanos)}(t))}function g0(t,e){return eb(t,e).canonicalString()}function eb(t,e){let n=function(i){return new He(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function jP(t){let e=He.fromString(t);return Te(zP(e),10190,{key:e.toString()}),e}function tb(t,e){return g0(t.databaseId,e.path)}function vE(t,e){let n=jP(e);if(n.get(1)!==t.databaseId.projectId)throw new K(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(BP(n))}function UP(t,e){return g0(t.databaseId,e)}function M3(t){let e=jP(t);return e.length===4?He.emptyPath():BP(e)}function nb(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BP(t){return Te(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function AN(t,e,n){return{name:tb(t,e),fields:n.value.mapValue.fields}}function N3(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Z(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(Te(d===void 0||typeof d=="string",58123),Pt.fromBase64String(d||"")):(Te(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Pt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let d=u.code===void 0?P.UNKNOWN:VP(u.code);return new K(d,u.message||"")}(s);n=new Wg(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=vE(t,r.document.name),o=hr(r.document.updateTime),s=r.document.createTime?hr(r.document.createTime):oe.min(),a=new cn({mapValue:{fields:r.document.fields}}),c=$n.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new pc(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=vE(t,r.document),o=r.readTime?hr(r.readTime):oe.min(),s=$n.newNoDocument(i,o),a=r.removedTargetIds||[];n=new pc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=vE(t,r.document),o=r.removedTargetIds||[];n=new pc([],o,i,null)}else{if(!("filter"in e))return Z(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new QE(i,o),a=r.targetId;n=new qg(a,s)}}return n}function P3(t,e){let n;if(e instanceof fs)n={update:AN(t,e.key,e.value)};else if(e instanceof cd)n={delete:tb(t,e.key)};else if(e instanceof gr)n={update:AN(t,e.key,e.data),updateMask:$3(e.fieldMask)};else{if(!(e instanceof qE))return Z(16599,{ft:e.type});n={verify:tb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Cc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ds)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof hs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Sc)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw Z(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:R3(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Z(27497)}(t,e.precondition)),n}function O3(t,e){return t&&t.length>0?(Te(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?hr(i.updateTime):hr(o);return s.isEqual(oe.min())&&(s=hr(o)),new zE(s,i.transformResults||[])}(n,e))):[]}function L3(t,e){return{documents:[UP(t,e.path)]}}function V3(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UP(t,i);let o=function(u){if(u.length!==0)return $P(pr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(d=>function(g){return{field:dc(g.field),direction:U3(g.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=XE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function F3(t){let e=M3(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Te(r===1,65062);let d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(p){let g=HP(p);return g instanceof pr&&IP(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(g=>function(E){return new Ec(hc(E.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,mm(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(p){let g=!!p.before,m=p.values||[];return new Ic(m,g)}(n.startAt));let u=null;return n.endAt&&(u=function(p){let g=!p.before,m=p.values||[];return new Ic(m,g)}(n.endAt)),u3(e,i,s,o,a,"F",c,u)}function j3(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=hc(n.unaryFilter.field);return dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=hc(n.unaryFilter.field);return dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=hc(n.unaryFilter.field);return dt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=hc(n.unaryFilter.field);return dt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Z(61313);default:return Z(60726)}}(t):t.fieldFilter!==void 0?function(n){return dt.create(hc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Z(58110);default:return Z(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pr.create(n.compositeFilter.filters.map(r=>HP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z(1026)}}(n.compositeFilter.op))}(t):Z(30097,{filter:t})}function U3(t){return A3[t]}function B3(t){return x3[t]}function H3(t){return k3[t]}function dc(t){return{fieldPath:t.canonicalString()}}function hc(t){return ln.fromServerFormat(t.fieldPath)}function $P(t){return t instanceof dt?function(n){if(n.op==="=="){if(gN(n.value))return{unaryFilter:{field:dc(n.field),op:"IS_NAN"}};if(pN(n.value))return{unaryFilter:{field:dc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gN(n.value))return{unaryFilter:{field:dc(n.field),op:"IS_NOT_NAN"}};if(pN(n.value))return{unaryFilter:{field:dc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dc(n.field),op:B3(n.op),value:n.value}}}(t):t instanceof pr?function(n){let r=n.getFilters().map(i=>$P(i));return r.length===1?r[0]:{compositeFilter:{op:H3(n.op),filters:r}}}(t):Z(54877,{filter:t})}function $3(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var ud=class t{constructor(e,n,r,i,o=oe.min(),s=oe.min(),a=Pt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var rb=class{constructor(e){this.wt=e}};function z3(t){let e=F3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$E(e,e.limit,"L"):e}var Qg=class{constructor(){}vt(e,n){this.Ct(e,n),n.Ft()}Ct(e,n){if("nullValue"in e)this.Mt(n,5);else if("booleanValue"in e)this.Mt(n,10),n.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(n,15),n.xt(Oe(e.integerValue));else if("doubleValue"in e){let r=Oe(e.doubleValue);isNaN(r)?this.Mt(n,13):(this.Mt(n,15),od(r)?n.xt(0):n.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(n,20),typeof r=="string"&&(r=Kr(r)),n.Ot(`${r.seconds||""}`),n.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,n),this.Bt(n);else if("bytesValue"in e)this.Mt(n,30),n.Lt(Qr(e.bytesValue)),this.Bt(n);else if("referenceValue"in e)this.kt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(n,45),n.xt(r.latitude||0),n.xt(r.longitude||0)}else"mapValue"in e?yP(e)?this.Mt(n,Number.MAX_SAFE_INTEGER):vP(e)?this.qt(e.mapValue,n):(this.Qt(e.mapValue,n),this.Bt(n)):"arrayValue"in e?(this.$t(e.arrayValue,n),this.Bt(n)):Z(19022,{Ut:e})}Nt(e,n){this.Mt(n,25),this.Kt(e,n)}Kt(e,n){n.Ot(e)}Qt(e,n){let r=e.fields||{};this.Mt(n,55);for(let i of Object.keys(r))this.Nt(i,n),this.Ct(r[i],n)}qt(e,n){var r,i;let o=e.fields||{};this.Mt(n,53);let s=yc,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(n,15),n.xt(Oe(a)),this.Nt(s,n),this.Ct(o[s],n)}$t(e,n){let r=e.values||[];this.Mt(n,50);for(let i of r)this.Ct(i,n)}kt(e,n){this.Mt(n,37),J.fromName(e).path.forEach(r=>{this.Mt(n,60),this.Kt(r,n)})}Mt(e,n){e.xt(n)}Bt(e){e.xt(2)}};Qg.Wt=new Qg;var ib=class{constructor(){this.yn=new ob}addToCollectionParentIndex(e,n){return this.yn.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(us.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(us.min())}updateCollectionGroup(e,n,r){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}},ob=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new _t(He.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _t(He.comparator)).toArray()}};var Oce=new Uint8Array(0);var xN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qP=41943040,Cn=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(qP,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);var dd=class t{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new t(0)}static ir(){return new t(-1)}};var kN="LruGarbageCollector",q3=1048576;function RN([t,e],[n,r]){let i=he(t,n);return i===0?he(e,r):i}var sb=class{constructor(e){this.cr=e,this.buffer=new _t(RN),this.lr=0}hr(){return++this.lr}Pr(e){let n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();RN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},ab=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){$(kN,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>w(this,null,function*(){this.Tr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Nc(n)?$(kN,"Ignoring IndexedDB error during garbage collection: ",n):yield Mc(n)}yield this.Ir(3e5)}))}},cb=class{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return N.resolve(o0.le);let r=new sb(n);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),N.resolve(xN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xN):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,i,o,s,a,c,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),lc()<=me.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),N.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function W3(t,e){return new cb(t,e)}var lb=class{constructor(){this.changes=new Yr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var ub=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var db=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&rd(r.mutation,i,Sn.empty(),St.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){let i=ss();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Xu();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=ss();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Zr(),s=nd(),a=function(){return nd()}();return n.forEach((c,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof gr)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),rd(d.mutation,u,d.mutation.getFieldMask(),St.now())):s.set(u.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>s.set(u,d)),n.forEach((u,d)=>{var p;return a.set(u,new ub(d,(p=s.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=nd(),i=new $e((s,a)=>s-a),o=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let d=r.get(c)||Sn.empty();d=a.applyToLocalView(u,d),r.set(c,d);let p=(i.get(a.batchId)||_e()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,p=xP();d.forEach(g=>{if(!o.has(g)){let m=OP(n.get(g),r.get(g));m!==null&&p.set(g,m),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,p))}return N.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return J.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):d3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):N.resolve(ss()),a=id,c=o;return s.next(u=>N.forEach(u,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(d)?N.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{c=c.insert(d,g)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,_e())).next(d=>({batchId:a,changes:AP(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=Xu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Xu();return this.indexManager.getCollectionParents(e,o).next(a=>N.forEach(a,c=>{let u=function(p,g){return new bc(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,u)=>{let d=u.getKey();s.get(d)===null&&(s=s.insert(d,$n.newInvalidDocument(d)))});let a=Xu();return s.forEach((c,u)=>{let d=o.get(c);d!==void 0&&rd(d.mutation,u,Sn.empty(),St.now()),_m(n,u)&&(a=a.insert(c,u))}),a})}};var hb=class{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return N.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:hr(i.createTime)}}(n)),N.resolve()}getNamedQuery(e,n){return N.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:z3(i.bundledQuery),readTime:hr(i.readTime)}}(n)),N.resolve()}};var fb=class{constructor(){this.overlays=new $e(J.comparator),this.Or=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){let r=ss();return N.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),N.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Or.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),N.resolve()}getOverlaysForCollection(e,n,r){let i=ss(),o=n.length+1,s=new J(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return N.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new $e((u,d)=>u-d),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=ss(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=ss(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return N.resolve(a)}St(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new KE(n,r));let o=this.Or.get(n);o===void 0&&(o=_e(),this.Or.set(n,o)),this.Or.set(n,o.add(r.key))}};var pb=class{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return N.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,N.resolve()}};var hd=class{constructor(){this.Nr=new _t(nt.Br),this.Lr=new _t(nt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){let r=new nt(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new nt(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){let n=new J(new He([])),r=new nt(n,e),i=new nt(n,e+1),o=[];return this.Lr.forEachInRange([r,i],s=>{this.Qr(s),o.push(s.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){let n=new J(new He([])),r=new nt(n,e),i=new nt(n,e+1),o=_e();return this.Lr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new nt(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},nt=class{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return J.comparator(e.key,n.key)||he(e.Gr,n.Gr)}static kr(e,n){return he(e.Gr,n.Gr)||J.comparator(e.key,n.key)}};var gb=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new _t(nt.Br)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new WE(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.zr=this.zr.add(new nt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return N.resolve(s)}lookupMutationBatch(e,n){return N.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Hr(r),o=i<0?0:i;return N.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?s0:this.Jn-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new nt(n,0),i=new nt(n,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,i],s=>{let a=this.jr(s.Gr);o.push(a)}),N.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _t(he);return n.forEach(i=>{let o=new nt(i,0),s=new nt(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,s],a=>{r=r.add(a.Gr)})}),N.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;J.isDocumentKey(o)||(o=o.child(""));let s=new nt(new J(o),0),a=new _t(he);return this.zr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Gr)),!0)},s),N.resolve(this.Jr(a))}Jr(e){let n=[];return e.forEach(r=>{let i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Te(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return N.forEach(n.mutations,i=>{let o=new nt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){let r=new nt(n,0),i=this.zr.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){let n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var mb=class{constructor(e){this.Zr=e,this.docs=function(){return new $e(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():$n.newInvalidDocument(n))}getEntries(e,n){let r=Zr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():$n.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Zr(),s=n.path,a=new J(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||qW(zW(d),r)<=0||(i.has(d.key)||_m(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return N.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Z(9500)}Xr(e,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new vb(this)}getSize(e){return N.resolve(this.size)}},vb=class extends lb{constructor(e){super(),this.vr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),N.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}};var yb=class{constructor(e){this.persistence=e,this.ei=new Yr(n=>d0(n),h0),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.ti=0,this.ni=new hd,this.targetCount=0,this.ri=dd.rr()}forEachTarget(e,n){return this.ei.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),N.resolve()}ar(e){this.ei.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ri=new dd(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.ar(n),N.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ei.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ei.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),N.waitFor(o).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){let r=this.ei.get(n)||null;return N.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),N.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),N.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),N.resolve()}getMatchingKeysForTargetId(e,n){let r=this.ni.Wr(n);return N.resolve(r)}containsKey(e,n){return N.resolve(this.ni.containsKey(n))}};var Yg=class{constructor(e,n){this.ii={},this.overlays={},this.si=new o0(0),this.oi=!1,this.oi=!0,this._i=new pb,this.referenceDelegate=e(this),this.ai=new yb(this),this.indexManager=new ib,this.remoteDocumentCache=function(i){return new mb(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new rb(n),this.ci=new hb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fb,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new gb(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);let i=new _b(this.si.next());return this.referenceDelegate.li(),r(i).next(o=>this.referenceDelegate.hi(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Pi(e,n){return N.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}},_b=class extends xE{constructor(e){super(),this.currentSequenceNumber=e}},wb=class t{constructor(e){this.persistence=e,this.Ti=new hd,this.Ii=null}static Ei(e){return new t(e)}get di(){if(this.Ii)return this.Ii;throw Z(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),N.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),N.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.di,r=>{let i=J.fromPath(r);return this.Ai(e,i).next(o=>{o||n.removeEntry(i,oe.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return N.or([()=>N.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}},Zg=class t{constructor(e,n){this.persistence=e,this.Ri=new Yr(r=>QW(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=W3(this,n)}static Ei(e,n){return new t(e,n)}li(){}hi(e){return N.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){let n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return N.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(o=>o?N.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Xr(e,s=>this.gr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,oe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),N.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),N.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),N.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),N.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mg(e.data.value)),n}gr(e,n,r){return N.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.Ri.get(n);return N.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Ib=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=i}static Ps(e,n){let r=_e(),i=_e();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Eb=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var bb=class{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return ak()?8:GW(gt())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Rs(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Vs(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Eb;return this.fs(e,n,s).next(a=>{if(o.result=a,this.Is)return this.gs(e,n,s,a.size)})}).next(()=>o.result)}gs(e,n,r,i){return r.documentReadCount<this.Es?(lc()<=me.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",uc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),N.resolve()):(lc()<=me.DEBUG&&$("QueryEngine","Query:",uc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(lc()<=me.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",uc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dr(n))):N.resolve())}Rs(e,n){if(_N(n))return N.resolve(null);let r=dr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=$E(n,null,"F"),r=dr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=_e(...o);return this.As.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.ps(n,a);return this.ys(n,u,s,c.readTime)?this.Rs(e,$E(n,null,"F")):this.ws(e,u,n,c)}))})))}Vs(e,n,r,i){return _N(n)||i.isEqual(oe.min())?N.resolve(null):this.As.getDocuments(e,r).next(o=>{let s=this.ps(n,o);return this.ys(n,s,r,i)?N.resolve(null):(lc()<=me.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uc(n)),this.ws(e,s,n,$W(i,id)).next(a=>a))})}ps(e,n){let r=new _t(SP(e));return n.forEach((i,o)=>{_m(e,o)&&(r=r.add(o))}),r}ys(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}fs(e,n,r){return lc()<=me.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",uc(n)),this.As.getDocumentsMatchingQuery(e,n,us.min(),r)}ws(e,n,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var m0="LocalStore",G3=3e8,Tb=class{constructor(e,n,r,i){this.persistence=e,this.bs=n,this.serializer=i,this.Ss=new $e(he),this.Ds=new Yr(o=>d0(o),h0),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new db(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}};function K3(t,e,n,r){return new Tb(t,e,n,r)}function WP(t,e){return w(this,null,function*(){let n=ne(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=_e();for(let u of i){s.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of o){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ms:u,removedBatchIds:s,addedBatchIds:a}))})})})}function Q3(t,e){let n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let p=u.batch,g=p.keys(),m=N.resolve();return g.forEach(E=>{m=m.next(()=>d.getEntry(c,E)).next(x=>{let A=u.docVersions.get(E);Te(A!==null,48541),x.version.compareTo(A)<0&&(p.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),d.addEntry(x)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=_e();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function GP(t){let e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function Y3(t,e){let n=ne(t),r=e.snapshotVersion,i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;let a=[];e.targetChanges.forEach((d,p)=>{let g=i.get(p);if(!g)return;a.push(n.ai.removeMatchingKeys(o,d.removedDocuments,p).next(()=>n.ai.addMatchingKeys(o,d.addedDocuments,p)));let m=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(Pt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(p,m),function(x,A,M){return x.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=G3?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(g,m,d)&&a.push(n.ai.updateTargetData(o,m))});let c=Zr(),u=_e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(Z3(o,s,e.documentUpdates).next(d=>{c=d.xs,u=d.Os})),!r.isEqual(oe.min())){let d=n.ai.getLastRemoteSnapshotVersion(o).next(p=>n.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return N.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.Ss=i,o))}function Z3(t,e,n){let r=_e(),i=_e();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Zr();return n.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(oe.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):$(m0,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{xs:s,Os:i}})}function J3(t,e){let n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=s0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function X3(t,e){let n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,e).next(o=>o?(i=o,N.resolve(i)):n.ai.allocateTargetId(r).next(s=>(i=new ud(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}function Cb(t,e,n){return w(this,null,function*(){let r=ne(t),i=r.Ss.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Nc(s))throw s;$(m0,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)})}function MN(t,e,n){let r=ne(t),i=oe.min(),o=_e();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){let p=ne(c),g=p.Ds.get(d);return g!==void 0?N.resolve(p.Ss.get(g)):p.ai.getTargetData(u,d)}(r,s,dr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.bs.getDocumentsMatchingQuery(s,e,n?i:oe.min(),n?o:_e())).next(a=>(eG(r,f3(e),a),{documents:a,Ns:o})))}function eG(t,e,n){let r=t.vs.get(e)||oe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.vs.set(e,r)}var Jg=class{constructor(){this.activeTargetIds=_3()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Sb=class{constructor(){this.So=new Jg,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Jg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Db=class{vo(e){}shutdown(){}};var NN="ConnectivityMonitor",Xg=class{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){$(NN,"Network connectivity changed: AVAILABLE");for(let e of this.Oo)e(0)}xo(){$(NN,"Network connectivity changed: UNAVAILABLE");for(let e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Rg=null;function Ab(){return Rg===null?Rg=function(){return 268435456+Math.round(2147483648*Math.random())}():Rg++,"0x"+Rg.toString(16)}var yE="RestConnection",tG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},xb=class{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===Bg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,n,r,i,o){let s=Ab(),a=this.$o(e,n.toUriEncodedString());$(yE,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(c,i,o);let{host:u}=new URL(a),d=Oo(u);return this.Ko(e,a,c,r,d).then(p=>($(yE,`Received RPC '${e}' ${s}: `,p),p),p=>{throw mc(yE,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Wo(e,n,r,i,o,s){return this.Qo(e,n,r,i,o)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}$o(e,n){let r=tG[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}};var kb=class{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}};var Nt="WebChannelConnection",Rb=class extends xb{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,i,o){let s=Ab();return new Promise((a,c)=>{let u=new hE;u.setWithCredentials(!0),u.listenOnce(fE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ju.NO_ERROR:let p=u.getResponseJson();$(Nt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Ju.TIMEOUT:$(Nt,`RPC '${e}' ${s} timed out`),c(new K(P.DEADLINE_EXCEEDED,"Request time out"));break;case Ju.HTTP_ERROR:let g=u.getStatus();if($(Nt,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let E=m?.error;if(E&&E.status&&E.message){let x=function(M){let j=M.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(j)>=0?j:P.UNKNOWN}(E.status);c(new K(x,E.message))}else c(new K(P.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new K(P.UNAVAILABLE,"Connection failed."));break;default:Z(9055,{s_:e,streamId:s,o_:u.getLastErrorCode(),__:u.getLastError()})}}finally{$(Nt,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);$(Nt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}a_(e,n,r){let i=Ab(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=mE(),a=gE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Uo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let d=o.join("");$(Nt,`Creating RPC '${e}' stream ${i}: ${d}`,c);let p=s.createWebChannel(d,c),g=!1,m=!1,E=new kb({Go:A=>{m?$(Nt,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(g||($(Nt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),$(Nt,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},zo:()=>p.close()}),x=(A,M,j)=>{A.listen(M,U=>{try{j(U)}catch(B){setTimeout(()=>{throw B},0)}})};return x(p,cc.EventType.OPEN,()=>{m||($(Nt,`RPC '${e}' stream ${i} transport opened.`),E.t_())}),x(p,cc.EventType.CLOSE,()=>{m||(m=!0,$(Nt,`RPC '${e}' stream ${i} transport closed`),E.r_())}),x(p,cc.EventType.ERROR,A=>{m||(m=!0,mc(Nt,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),E.r_(new K(P.UNAVAILABLE,"The operation could not be completed")))}),x(p,cc.EventType.MESSAGE,A=>{var M;if(!m){let j=A.data[0];Te(!!j,16349);let U=j,B=U?.error||((M=U[0])===null||M===void 0?void 0:M.error);if(B){$(Nt,`RPC '${e}' stream ${i} received error:`,B);let Q=B.status,H=function(_){let b=tt[_];if(b!==void 0)return VP(b)}(Q),T=B.message;H===void 0&&(H=P.INTERNAL,T="Unknown error status: "+Q+" with message "+B.message),m=!0,E.r_(new K(H,T)),p.close()}else $(Nt,`RPC '${e}' stream ${i} received:`,j),E.i_(j)}}),x(a,pE.STAT_EVENT,A=>{A.stat===Ag.PROXY?$(Nt,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Ag.NOPROXY&&$(Nt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.n_()},0),E}};function _E(){return typeof document<"u"?document:null}function wm(t){return new JE(t,!0)}var em=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();let n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}};var PN="PersistentStream",tm=class{constructor(e,n,r,i,o,s,a,c){this.bi=e,this.R_=r,this.V_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new em(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}stop(){return w(this,null,function*(){this.w_()&&(yield this.close(0))})}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}C_(){return w(this,null,function*(){if(this.b_())return this.close(0)})}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}close(e,n){return w(this,null,function*(){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(Gr(n.toString()),Gr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Zo(n)})}O_(){}auth(){this.state=1;let e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{e(()=>{let i=new K(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,n){let r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(()=>w(this,null,function*(){this.state=0,this.start()}))}L_(e){return $(PN,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():($(PN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Mb=class extends tm{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();let n=N3(this.serializer,e),r=function(o){if(!("targetChange"in o))return oe.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?oe.min():s.readTime?hr(s.readTime):oe.min()}(e);return this.listener.Q_(n,r)}U_(e){let n={};n.database=nb(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=HE(c)?{documents:L3(o,c)}:{query:V3(o,c).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=FP(o,s.resumeToken);let u=XE(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(oe.min())>0){a.readTime=Kg(o,s.snapshotVersion.toTimestamp());let u=XE(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=j3(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){let n={};n.database=nb(this.serializer),n.removeTarget=e,this.F_(n)}},Nb=class extends tm{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return Te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();let n=O3(e.writeResults,e.commitTime),r=hr(e.commitTime);return this.listener.j_(r,n)}H_(){let e={};e.database=nb(this.serializer),this.F_(e)}G_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>P3(this.serializer,r))};this.F_(n)}};var Pb=class{},Ob=class extends Pb{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new K(P.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Qo(e,eb(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(P.UNKNOWN,o.toString())})}Wo(e,n,r,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,eb(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(P.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}},Lb=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Gr(n),this.ea=!1):$("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}};var ps="RemoteStore",Vb=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(s=>{r.enqueueAndForget(()=>w(this,null,function*(){gs(this)&&($(ps,"Restarting streams for network reachability change."),yield function(c){return w(this,null,function*(){let u=ne(c);u.aa.add(4),yield vd(u),u.la.set("Unknown"),u.aa.delete(4),yield Im(u)})}(this))}))}),this.la=new Lb(r,i)}};function Im(t){return w(this,null,function*(){if(gs(t))for(let e of t.ua)yield e(!0)})}function vd(t){return w(this,null,function*(){for(let e of t.ua)yield e(!1)})}function KP(t,e){let n=ne(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),w0(n)?_0(n):Pc(n).b_()&&y0(n,e))}function v0(t,e){let n=ne(t),r=Pc(n);n._a.delete(e),r.b_()&&QP(n,e),n._a.size===0&&(r.b_()?r.v_():gs(n)&&n.la.set("Unknown"))}function y0(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pc(t).U_(e)}function QP(t,e){t.ha.Ke(e),Pc(t).K_(e)}function _0(t){t.ha=new ZE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Pc(t).start(),t.la.ta()}function w0(t){return gs(t)&&!Pc(t).w_()&&t._a.size>0}function gs(t){return ne(t).aa.size===0}function YP(t){t.ha=void 0}function nG(t){return w(this,null,function*(){t.la.set("Online")})}function rG(t){return w(this,null,function*(){t._a.forEach((e,n)=>{y0(t,e)})})}function iG(t,e){return w(this,null,function*(){YP(t),w0(t)?(t.la.ia(e),_0(t)):t.la.set("Unknown")})}function oG(t,e,n){return w(this,null,function*(){if(t.la.set("Online"),e instanceof Wg&&e.state===2&&e.cause)try{yield function(i,o){return w(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i._a.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i._a.delete(a),i.ha.removeTarget(a))})}(t,e)}catch(r){$(ps,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield nm(t,r)}else if(e instanceof pc?t.ha.Xe(e):e instanceof qg?t.ha.ot(e):t.ha.nt(e),!n.isEqual(oe.min()))try{let r=yield GP(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.ha.It(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=o._a.get(u);d&&o._a.set(u,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let d=o._a.get(c);if(!d)return;o._a.set(c,d.withResumeToken(Pt.EMPTY_BYTE_STRING,d.snapshotVersion)),QP(o,c);let p=new ud(d.target,c,u,d.sequenceNumber);y0(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){$(ps,"Failed to raise snapshot:",r),yield nm(t,r)}})}function nm(t,e,n){return w(this,null,function*(){if(!Nc(e))throw e;t.aa.add(1),yield vd(t),t.la.set("Offline"),n||(n=()=>GP(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(null,null,function*(){$(ps,"Retrying IndexedDB access"),yield n(),t.aa.delete(1),yield Im(t)}))})}function ZP(t,e){return e().catch(n=>nm(t,n,e))}function Em(t){return w(this,null,function*(){let e=ne(t),n=qi(e),r=e.oa.length>0?e.oa[e.oa.length-1].batchId:s0;for(;sG(e);)try{let i=yield J3(e.localStore,r);if(i===null){e.oa.length===0&&n.v_();break}r=i.batchId,aG(e,i)}catch(i){yield nm(e,i)}JP(e)&&XP(e)})}function sG(t){return gs(t)&&t.oa.length<10}function aG(t,e){t.oa.push(e);let n=qi(t);n.b_()&&n.W_&&n.G_(e.mutations)}function JP(t){return gs(t)&&!qi(t).w_()&&t.oa.length>0}function XP(t){qi(t).start()}function cG(t){return w(this,null,function*(){qi(t).H_()})}function lG(t){return w(this,null,function*(){let e=qi(t);for(let n of t.oa)e.G_(n.mutations)})}function uG(t,e,n){return w(this,null,function*(){let r=t.oa.shift(),i=GE.from(r,e,n);yield ZP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Em(t)})}function dG(t,e){return w(this,null,function*(){e&&qi(t).W_&&(yield function(r,i){return w(this,null,function*(){if(function(s){return S3(s)&&s!==P.ABORTED}(i.code)){let o=r.oa.shift();qi(r).D_(),yield ZP(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Em(r)}})}(t,e)),JP(t)&&XP(t)})}function ON(t,e){return w(this,null,function*(){let n=ne(t);n.asyncQueue.verifyOperationInProgress(),$(ps,"RemoteStore received new credentials");let r=gs(n);n.aa.add(3),yield vd(n),r&&n.la.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),yield Im(n)})}function hG(t,e){return w(this,null,function*(){let n=ne(t);e?(n.aa.delete(2),yield Im(n)):e||(n.aa.add(2),yield vd(n),n.la.set("Unknown"))})}function Pc(t){return t.Pa||(t.Pa=function(n,r,i){let o=ne(n);return o.Y_(),new Mb(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{jo:nG.bind(null,t),Jo:rG.bind(null,t),Zo:iG.bind(null,t),Q_:oG.bind(null,t)}),t.ua.push(e=>w(null,null,function*(){e?(t.Pa.D_(),w0(t)?_0(t):t.la.set("Unknown")):(yield t.Pa.stop(),YP(t))}))),t.Pa}function qi(t){return t.Ta||(t.Ta=function(n,r,i){let o=ne(n);return o.Y_(),new Nb(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:cG.bind(null,t),Zo:dG.bind(null,t),z_:lG.bind(null,t),j_:uG.bind(null,t)}),t.ua.push(e=>w(null,null,function*(){e?(t.Ta.D_(),yield Em(t)):(yield t.Ta.stop(),t.oa.length>0&&($(ps,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))}))),t.Ta}var Fb=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function I0(t,e){if(Gr("AsyncQueue",`${e}: ${t}`),Nc(t))return new K(P.UNAVAILABLE,`${e}: ${t}`);throw t}var rm=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Xu(),this.sortedSet=new $e(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var im=class{constructor(){this.Ia=new $e(J.comparator)}track(e){let n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Z(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){let e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}},Ac=class t{constructor(e,n,r,i,o,s,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,rm.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ym(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var jb=class{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}},Ub=class{constructor(){this.queries=LN(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){let i=ne(n),o=i.queries;i.queries=LN(),o.forEach((s,a)=>{for(let c of a.Ra)c.onError(r)})})(this,new K(P.ABORTED,"Firestore shutting down"))}};function LN(){return new Yr(t=>CP(t),ym)}function fG(t,e){return w(this,null,function*(){let n=ne(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Va()&&e.ma()&&(r=2):(o=new jb,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=yield n.onListen(i,!0);break;case 1:o.Aa=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=I0(s,`Initialization of query '${uc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Ra.push(e),e.ga(n.onlineState),o.Aa&&e.pa(o.Aa)&&E0(n)})}function pG(t,e){return w(this,null,function*(){let n=ne(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Ra.indexOf(e);s>=0&&(o.Ra.splice(s,1),o.Ra.length===0?i=e.ma()?0:1:!o.Va()&&e.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function gG(t,e){let n=ne(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.Ra)a.pa(i)&&(r=!0);s.Aa=i}}r&&E0(n)}function mG(t,e,n){let r=ne(t),i=r.queries.get(e);if(i)for(let o of i.Ra)o.onError(n);r.queries.delete(e)}function E0(t){t.fa.forEach(e=>{e.next()})}var Bb,VN;(VN=Bb||(Bb={})).ya="default",VN.Cache="cache";var Hb=class{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ac(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;let r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;let n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=Ac.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Bb.Cache}};var om=class{constructor(e){this.key=e}},sm=class{constructor(e){this.key=e}},$b=class{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=_e(),this.mutatedKeys=_e(),this.Ua=SP(e),this.Ka=new rm(this.Ua)}get Wa(){return this.qa}Ga(e,n){let r=n?n.za:new im,i=n?n.Ka:this.Ka,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{let g=i.get(d),m=_m(this.query,p)?p:null,E=!!g&&this.mutatedKeys.has(g.key),x=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),A=!1;g&&m?g.data.isEqual(m.data)?E!==x&&(r.track({type:3,doc:m}),A=!0):this.ja(g,m)||(r.track({type:2,doc:m}),A=!0,(c&&this.Ua(m,c)>0||u&&this.Ua(m,u)<0)&&(a=!0)):!g&&m?(r.track({type:0,doc:m}),A=!0):g&&!m&&(r.track({type:1,doc:g}),A=!0,(c||u)&&(a=!0)),A&&(m?(s=s.add(m),o=x?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ka:s,za:r,ys:a,mutatedKeys:o}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;let s=e.za.da();s.sort((d,p)=>function(m,E){let x=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z(20277,{Vt:A})}};return x(m)-x(E)}(d.type,p.type)||this.Ua(d.doc,p.doc)),this.Ha(r),i=i!=null&&i;let a=n&&!i?this.Ja():[],c=this.$a.size===0&&this.current&&!i?1:0,u=c!==this.Qa;return this.Qa=c,s.length!==0||u?{snapshot:new Ac(this.query,e.Ka,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new im,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];let e=this.$a;this.$a=_e(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});let n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new sm(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new om(r))}),n}Xa(e){this.qa=e.Ns,this.$a=_e();let n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return Ac.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}},b0="SyncEngine",zb=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},qb=class{constructor(e){this.key=e,this.tu=!1}},Wb=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new Yr(a=>CP(a),ym),this.iu=new Map,this.su=new Set,this.ou=new $e(J.comparator),this._u=new Map,this.au=new hd,this.uu={},this.cu=new Map,this.lu=dd.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}};function vG(t,e,n=!0){return w(this,null,function*(){let r=oO(t),i,o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.eu()):i=yield eO(r,e,n,!0),i})}function yG(t,e){return w(this,null,function*(){let n=oO(t);yield eO(n,e,!0,!1)})}function eO(t,e,n,r){return w(this,null,function*(){let i=yield X3(t.localStore,dr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield _G(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&KP(t.remoteStore,i),a})}function _G(t,e,n,r,i){return w(this,null,function*(){t.Pu=(p,g,m)=>function(x,A,M,j){return w(this,null,function*(){let U=A.view.Ga(M);U.ys&&(U=yield MN(x.localStore,A.query,!1).then(({documents:T})=>A.view.Ga(T,U)));let B=j&&j.targetChanges.get(A.targetId),Q=j&&j.targetMismatches.get(A.targetId)!=null,H=A.view.applyChanges(U,x.isPrimaryClient,B,Q);return jN(x,A.targetId,H.Ya),H.snapshot})}(t,p,g,m);let o=yield MN(t.localStore,e,!0),s=new $b(e,o.Ns),a=s.Ga(o.documents),c=ld.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,c);jN(t,n,u.Ya);let d=new zb(e,n,s);return t.ru.set(e,d),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),u.snapshot})}function wG(t,e,n){return w(this,null,function*(){let r=ne(t),i=r.ru.get(e),o=r.iu.get(i.targetId);if(o.length>1)return r.iu.set(i.targetId,o.filter(s=>!ym(s,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Cb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&v0(r.remoteStore,i.targetId),Gb(r,i.targetId)}).catch(Mc))):(Gb(r,i.targetId),yield Cb(r.localStore,i.targetId,!0))})}function IG(t,e){return w(this,null,function*(){let n=ne(t),r=n.ru.get(e),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),v0(n.remoteStore,r.targetId))})}function EG(t,e,n){return w(this,null,function*(){let r=xG(t);try{let i=yield function(s,a){let c=ne(s),u=St.now(),d=a.reduce((m,E)=>m.add(E.key),_e()),p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let E=Zr(),x=_e();return c.Cs.getEntries(m,d).next(A=>{E=A,E.forEach((M,j)=>{j.isValidDocument()||(x=x.add(M))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,E)).next(A=>{p=A;let M=[];for(let j of a){let U=C3(j,p.get(j.key).overlayedDocument);U!=null&&M.push(new gr(j.key,U,_P(U.value.mapValue),Wr.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,M,a)}).next(A=>{g=A;let M=A.applyToLocalDocumentSet(p,x);return c.documentOverlayCache.saveOverlays(m,A.batchId,M)})}).then(()=>({batchId:g.batchId,changes:AP(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.uu[s.currentUser.toKey()];u||(u=new $e(he)),u=u.insert(a,c),s.uu[s.currentUser.toKey()]=u}(r,i.batchId,n),yield yd(r,i.changes),yield Em(r.remoteStore)}catch(i){let o=I0(i,"Failed to persist write");n.reject(o)}})}function tO(t,e){return w(this,null,function*(){let n=ne(t);try{let r=yield Y3(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n._u.get(o);s&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.tu=!0:i.modifiedDocuments.size>0?Te(s.tu,14607):i.removedDocuments.size>0&&(Te(s.tu,42227),s.tu=!1))}),yield yd(n,r,e)}catch(r){yield Mc(r)}})}function FN(t,e,n){let r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ru.forEach((o,s)=>{let a=s.view.ga(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=ne(s);c.onlineState=a;let u=!1;c.queries.forEach((d,p)=>{for(let g of p.Ra)g.ga(a)&&(u=!0)}),u&&E0(c)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function bG(t,e,n){return w(this,null,function*(){let r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r._u.get(e),o=i&&i.key;if(o){let s=new $e(J.comparator);s=s.insert(o,$n.newNoDocument(o,oe.min()));let a=_e().add(o),c=new zg(oe.min(),new Map,new $e(he),s,a);yield tO(r,c),r.ou=r.ou.remove(o),r._u.delete(e),T0(r)}else yield Cb(r.localStore,e,!1).then(()=>Gb(r,e,n)).catch(Mc)})}function TG(t,e){return w(this,null,function*(){let n=ne(t),r=e.batch.batchId;try{let i=yield Q3(n.localStore,e);rO(n,r,null),nO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield yd(n,i)}catch(i){yield Mc(i)}})}function CG(t,e,n){return w(this,null,function*(){let r=ne(t);try{let i=yield function(s,a){let c=ne(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(p=>(Te(p!==null,37113),d=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);rO(r,e,n),nO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield yd(r,i)}catch(i){yield Mc(i)}})}function nO(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function rO(t,e,n){let r=ne(t),i=r.uu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function Gb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||iO(t,r)})}function iO(t,e){t.su.delete(e.path.canonicalString());let n=t.ou.get(e);n!==null&&(v0(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),T0(t))}function jN(t,e,n){for(let r of n)r instanceof om?(t.au.addReference(r.key,e),SG(t,r)):r instanceof sm?($(b0,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||iO(t,r.key)):Z(19791,{Iu:r})}function SG(t,e){let n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||($(b0,"New document in limbo: "+n),t.su.add(r),T0(t))}function T0(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){let e=t.su.values().next().value;t.su.delete(e);let n=new J(He.fromString(e)),r=t.lu.next();t._u.set(r,new qb(n)),t.ou=t.ou.insert(n,r),KP(t.remoteStore,new ud(dr(f0(n.path)),r,"TargetPurposeLimboResolution",o0.le))}}function yd(t,e,n){return w(this,null,function*(){let r=ne(t),i=[],o=[],s=[];r.ru.isEmpty()||(r.ru.forEach((a,c)=>{s.push(r.Pu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){let p=u?!u.fromCache:(d=n?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){i.push(u);let p=Ib.Ps(c.targetId,u);o.push(p)}}))}),yield Promise.all(s),r.nu.Q_(i),yield function(c,u){return w(this,null,function*(){let d=ne(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>N.forEach(u,g=>N.forEach(g.ls,m=>d.persistence.referenceDelegate.addReference(p,g.targetId,m)).next(()=>N.forEach(g.hs,m=>d.persistence.referenceDelegate.removeReference(p,g.targetId,m)))))}catch(p){if(!Nc(p))throw p;$(m0,"Failed to update sequence numbers: "+p)}for(let p of u){let g=p.targetId;if(!p.fromCache){let m=d.Ss.get(g),E=m.snapshotVersion,x=m.withLastLimboFreeSnapshotVersion(E);d.Ss=d.Ss.insert(g,x)}}})}(r.localStore,o))})}function DG(t,e){return w(this,null,function*(){let n=ne(t);if(!n.currentUser.isEqual(e)){$(b0,"User change. New user:",e.toKey());let r=yield WP(n.localStore,e);n.currentUser=e,function(o,s){o.cu.forEach(a=>{a.forEach(c=>{c.reject(new K(P.CANCELLED,s))})}),o.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield yd(n,r.Ms)}})}function AG(t,e){let n=ne(t),r=n._u.get(e);if(r&&r.tu)return _e().add(r.key);{let i=_e(),o=n.iu.get(e);if(!o)return i;for(let s of o){let a=n.ru.get(s);i=i.unionWith(a.view.Wa)}return i}}function oO(t){let e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bG.bind(null,e),e.nu.Q_=gG.bind(null,e.eventManager),e.nu.Tu=mG.bind(null,e.eventManager),e}function xG(t){let e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CG.bind(null,e),e}var sO=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return w(this,null,function*(){this.serializer=wm(n.databaseInfo.databaseId),this.sharedClientState=this.Au(n),this.persistence=this.Ru(n),yield this.persistence.start(),this.localStore=this.Vu(n),this.gcScheduler=this.mu(n,this.localStore),this.indexBackfillerScheduler=this.fu(n,this.localStore)})}mu(n,r){return null}fu(n,r){return null}Vu(n){return K3(this.persistence,new bb,n.initialUser,this.serializer)}Ru(n){return new Yg(wb.Ei,this.serializer)}Au(n){return new Sb}terminate(){return w(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),Kb=class extends sO{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){Te(this.persistence.referenceDelegate instanceof Zg,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new ab(r,e.asyncQueue,n)}Ru(e){let n=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new Yg(r=>Zg.Ei(r,n),this.serializer)}};var kG=(()=>{class t{initialize(n,r){return w(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>FN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=DG.bind(null,this.syncEngine),yield hG(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Ub}()}createDatastore(n){let r=wm(n.databaseInfo.databaseId),i=function(s){return new Rb(s)}(n.databaseInfo);return function(s,a,c,u){return new Ob(s,a,c,u)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,c){return new Vb(i,o,s,a,c)}(this.localStore,this.datastore,n.asyncQueue,r=>FN(this.syncEngine,r,0),function(){return Xg.C()?new Xg:new Db}())}createSyncEngine(n,r){return function(o,s,a,c,u,d,p){let g=new Wb(o,s,a,c,u,d);return p&&(g.hu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return w(this,null,function*(){var n,r;yield function(o){return w(this,null,function*(){let s=ne(o);$(ps,"RemoteStore shutting down."),s.aa.add(5),yield vd(s),s.ca.shutdown(),s.la.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Qb=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Gr("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Wi="FirestoreClient",Yb=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=yt.UNAUTHENTICATED,this.clientId=Vg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>w(this,null,function*(){$(Wi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>($(Wi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=I0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function wE(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),$(Wi,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(null,null,function*(){r.isEqual(i)||(yield WP(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function UN(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield RG(t);$(Wi,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ON(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ON(e.remoteStore,i)),t._onlineComponents=e})}function RG(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$(Wi,"Using user provided OfflineComponentProvider");try{yield wE(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===P.FAILED_PRECONDITION||i.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;mc("Error using user provided cache. Falling back to memory cache: "+n),yield wE(t,new sO)}}else $(Wi,"Using default OfflineComponentProvider"),yield wE(t,new Kb(void 0));return t._offlineComponents})}function aO(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?($(Wi,"Using user provided OnlineComponentProvider"),yield UN(t,t._uninitializedComponentsProvider._online)):($(Wi,"Using default OnlineComponentProvider"),yield UN(t,new kG))),t._onlineComponents})}function MG(t){return aO(t).then(e=>e.syncEngine)}function BN(t){return w(this,null,function*(){let e=yield aO(t),n=e.eventManager;return n.onListen=vG.bind(null,e.syncEngine),n.onUnlisten=wG.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yG.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=IG.bind(null,e.syncEngine),n})}function cO(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var HN=new Map;function lO(t,e,n){if(!n)throw new K(P.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function NG(t,e,n,r){if(e===!0&&r===!0)throw new K(P.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $N(t){if(!J.isDocumentKey(t))throw new K(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zN(t){if(J.isDocumentKey(t))throw new K(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function C0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z(12329,{type:typeof t})}function Hi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=C0(t);throw new K(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var uO="firestore.googleapis.com",qN=!0,am=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uO,this.ssl=qN}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:qN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<q3)throw new K(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new K(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new K(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new K(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},xc=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new am({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new am(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new IE;switch(r.type){case"firstParty":return new CE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,ka("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return w(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=HN.get(n);r&&($("ComponentProvider","Removing Datastore"),HN.delete(n),r.terminate())}(this),Promise.resolve()}};function dO(t,e,n,r={}){var i;t=Hi(t,xc);let o=Oo(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;s.host!==uO&&s.host!==c&&mc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!or(u,a)&&(t._setSettings(u),o&&(mp(`https://${c}`),ka("Firestore",!0)),r.mockUserToken)){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=yt.MOCK_USER;else{d=tk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new K(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new yt(g)}t._authCredentials=new EE(new Og(d,p))}}var cm=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},un=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},$i=class t extends cm{constructor(e,n,r){super(e,n,f0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new J(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function hO(t,e,...n){if(t=Ge(t),lO("collection","path",e),t instanceof xc){let r=He.fromString(e,...n);return zN(r),new $i(t,null,r)}{if(!(t instanceof un||t instanceof $i))throw new K(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(He.fromString(e,...n));return zN(r),new $i(t.firestore,null,r)}}function S0(t,e,...n){if(t=Ge(t),arguments.length===1&&(e=Vg.newId()),lO("doc","path",e),t instanceof xc){let r=He.fromString(e,...n);return $N(r),new un(t,null,new J(r))}{if(!(t instanceof un||t instanceof $i))throw new K(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(He.fromString(e,...n));return $N(r),new un(t.firestore,t instanceof $i?t.converter:null,new J(r))}}var WN="AsyncQueue",lm=class{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new em(this,"async_queue_retry"),this.ju=()=>{let r=_E();r&&$(WN,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;let n=_E();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;let n=_E();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});let n=new qr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}Zu(){return w(this,null,function*(){if(this.Qu.length!==0){try{yield this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Nc(e))throw e;$(WN,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}})}Yu(e){let n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Gr("INTERNAL UNHANDLED ERROR: ",GN(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);let i=Fb.createAndSchedule(this,e,n,r,o=>this.Xu(o));return this.Uu.push(i),i}Ju(){this.Ku&&Z(47125,{ec:GN(this.Ku)})}verifyOperationInProgress(){}tc(){return w(this,null,function*(){let e;do e=this.Hu,yield e;while(e!==this.Hu)})}nc(e){for(let n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){let n=this.Uu.indexOf(e);this.Uu.splice(n,1)}};function GN(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function KN(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Gi=class extends xc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new lm,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return w(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new lm(e),this._firestoreClient=void 0,yield e}})}};function fO(t,e){let n=typeof t=="object"?t:Vo(),r=typeof t=="string"?t:e||Bg,i=Na(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=ek("firestore");o&&dO(i,...o)}return i}function pO(t){if(t._terminated)throw new K(P.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||PG(t),t._firestoreClient}function PG(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,u,d){return new kE(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,cO(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Yb(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(t._componentsProvider))}var fd=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Pt.fromBase64String(e))}catch(n){throw new K(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var kc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var pd=class{constructor(e){this._methodName=e}};var gd=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}};var md=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var OG=/^__.*__$/,Zb=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new gr(e,this.data,this.fieldMask,n,this.fieldTransforms):new fs(e,this.data,n,this.fieldTransforms)}},um=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new gr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function gO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z(40011,{oc:t})}}var Jb=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return hm(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(gO(this.oc)&&OG.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}},Xb=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wm(e)}dc(e,n,r,i=!1){return new Jb({oc:e,methodName:n,Ec:r,path:ln.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function mO(t){let e=t._freezeSettings(),n=wm(t._databaseId);return new Xb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function LG(t,e,n,r,i,o={}){let s=t.dc(o.merge||o.mergeFields?2:0,e,n,i);D0("Data must be an object, but it was:",s,r);let a=vO(r,s),c,u;if(o.merge)c=new Sn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let p of o.mergeFields){let g=e0(e,p,n);if(!s.contains(g))throw new K(P.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);_O(d,g)||d.push(g)}c=new Sn(d),u=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=s.fieldTransforms;return new Zb(new cn(a),c,u)}var dm=class t extends pd{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function VG(t,e,n,r){let i=t.dc(1,e,n);D0("Data must be an object, but it was:",i,r);let o=[],s=cn.empty();Ki(r,(c,u)=>{let d=A0(e,c,n);u=Ge(u);let p=i.hc(d);if(u instanceof dm)o.push(d);else{let g=bm(u,p);g!=null&&(o.push(d),s.set(d,g))}});let a=new Sn(o);return new um(s,a,i.fieldTransforms)}function FG(t,e,n,r,i,o){let s=t.dc(1,e,n),a=[e0(e,r,n)],c=[i];if(o.length%2!=0)throw new K(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(e0(e,o[g])),c.push(o[g+1]);let u=[],d=cn.empty();for(let g=a.length-1;g>=0;--g)if(!_O(u,a[g])){let m=a[g],E=c[g];E=Ge(E);let x=s.hc(m);if(E instanceof dm)u.push(m);else{let A=bm(E,x);A!=null&&(u.push(m),d.set(m,A))}}let p=new Sn(u);return new um(d,p,s.fieldTransforms)}function bm(t,e){if(yO(t=Ge(t)))return D0("Unsupported field value:",e,t),vO(t,e);if(t instanceof pd)return function(r,i){if(!gO(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=bm(a,i.Pc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ge(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return w3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=St.fromDate(r);return{timestampValue:Kg(i.serializer,o)}}if(r instanceof St){let o=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kg(i.serializer,o)}}if(r instanceof gd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fd)return{bytesValue:FP(i.serializer,r._byteString)};if(r instanceof un){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:g0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof md)return function(s,a){return{mapValue:{fields:{[c0]:{stringValue:l0},[yc]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Tc("VectorValues must only contain numeric values.");return p0(a.serializer,u)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${C0(r)}`)}(t,e)}function vO(t,e){let n={};return dP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ki(t,(r,i)=>{let o=bm(i,e.uc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function yO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof St||t instanceof gd||t instanceof fd||t instanceof un||t instanceof pd||t instanceof md)}function D0(t,e,n){if(!yO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=C0(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function e0(t,e,n){if((e=Ge(e))instanceof kc)return e._internalPath;if(typeof e=="string")return A0(t,e);throw hm("Field path arguments must be of type string or ",t,!1,void 0,n)}var jG=new RegExp("[~\\*/\\[\\]]");function A0(t,e,n){if(e.search(jG)>=0)throw hm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kc(...e.split("."))._internalPath}catch{throw hm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hm(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new K(P.INVALID_ARGUMENT,a+t+c)}function _O(t,e){return t.some(n=>n.isEqual(e))}var fm=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new t0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(wO("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},t0=class extends fm{data(){return super.data()}};function wO(t,e){return typeof e=="string"?A0(t,e):e instanceof kc?e._internalPath:e._delegate._internalPath}function UG(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var n0=class{convertValue(e,n="none"){switch(zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Z(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ki(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[yc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Oe(s.doubleValue));return new md(o)}convertGeoPoint(e){return new gd(Oe(e.latitude),Oe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=vm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sd(e));default:return null}}convertTimestamp(e){let n=Kr(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=He.fromString(e);Te(zP(r),9688,{name:e});let i=new Hg(r.get(1),r.get(3)),o=new J(r.popFirst(5));return i.isEqual(n)||Gr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function BG(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var cs=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},pm=class extends fm{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(wO("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},gc=class extends pm{data(e={}){return super.data(e)}},r0=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new cs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new gc(this._firestore,this._userDataWriter,r.key,r,new cs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new gc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new cs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new gc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new cs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:HG(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function HG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z(61501,{type:t})}}var gm=class extends n0{constructor(e){super(),this.firestore=e}convertBytes(e){return new fd(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,n)}};function IO(t,e,n,...r){t=Hi(t,un);let i=Hi(t.firestore,Gi),o=mO(i),s;return s=typeof(e=Ge(e))=="string"||e instanceof kc?FG(o,"updateDoc",t._key,e,n,r):VG(o,"updateDoc",t._key,e),k0(i,[s.toMutation(t._key,Wr.exists(!0))])}function EO(t){return k0(Hi(t.firestore,Gi),[new cd(t._key,Wr.none())])}function bO(t,e){let n=Hi(t.firestore,Gi),r=S0(t),i=BG(t.converter,e);return k0(n,[LG(mO(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Wr.exists(!1))]).then(()=>r)}function x0(t,...e){var n,r,i;t=Ge(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||KN(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(KN(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,u,d;if(t instanceof un)u=Hi(t.firestore,Gi),d=f0(t._key.path),c={next:p=>{e[s]&&e[s]($G(u,t,p))},error:e[s+1],complete:e[s+2]};else{let p=Hi(t,cm);u=Hi(p.firestore,Gi),d=p._query;let g=new gm(u);c={next:m=>{e[s]&&e[s](new r0(u,g,p,m))},error:e[s+1],complete:e[s+2]},UG(t._query)}return function(g,m,E,x){let A=new Qb(x),M=new Hb(m,A,E);return g.asyncQueue.enqueueAndForget(()=>w(null,null,function*(){return fG(yield BN(g),M)})),()=>{A.yu(),g.asyncQueue.enqueueAndForget(()=>w(null,null,function*(){return pG(yield BN(g),M)}))}}(pO(u),d,a,c)}function k0(t,e){return function(r,i){let o=new qr;return r.asyncQueue.enqueueAndForget(()=>w(null,null,function*(){return EG(yield MG(r),i,o)})),o.promise}(pO(t),e)}function $G(t,e,n){let r=n.docs.get(e._key),i=new gm(t);return new pm(t,i,e._key,r,new cs(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Rc=i})(Ti),Fn(new $t("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Gi(new bE(r.getProvider("auth-internal")),new SE(s,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new K(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hg(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ue(iN,oN,e),Ue(iN,oN,"esm2017")})();var Tm=function(){return Tm=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Tm.apply(this,arguments)};var WG={includeMetadataChanges:!1};function TO(t,e){return e===void 0&&(e=WG),new ue(function(n){var r=x0(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function CO(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Tm(Tm({},r),(n={},n[e.idField]=t.id,n))}function SO(t){return TO(t,{includeMetadataChanges:!0}).pipe(ae(function(e){return e.docs}))}function DO(t,e){return e===void 0&&(e={}),SO(t).pipe(ae(function(n){return n.map(function(r){return CO(r,e)})}))}var ms=class{constructor(e){return e}},AO="firestore",R0=class{constructor(){return Oa(AO)}};var M0=new q("angularfire2.firestore-instances");function GG(t,e){let n=Eu(AO,t,e);return n&&new ms(n)}function KG(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ms(r)}}var QG={provide:R0,deps:[[new vn,M0]]},YG={provide:ms,useFactory:GG,deps:[[new vn,M0],Nr]};function xO(t,...e){return Ue("angularfire",Ci.full,"fst"),Tr([YG,QG,{provide:M0,useFactory:KG(t),multi:!0,deps:[Ce,ft,Si,jo,[new vn,Pu],[new vn,La],...e]}])}var kO=Mt(DO,!0);var RO=Mt(bO,!0,2);var MO=Mt(hO,!0,2);var NO=Mt(EO,!0,2);var N0=Mt(S0,!0,2);var PO=Mt(fO,!0);var OO=Mt(IO,!0,2);var ZG="treatments",mr=class t{_firestore=R(ms);_collection=MO(this._firestore,ZG);getTreatments=Iu(kO(this._collection,{idField:"id"}),{initialValue:[]});createTreatment(e){return RO(this._collection,e)}updateTreatment(e,n){let r=N0(this._collection,e);return OO(r,n)}deleteTreatment(e){let n=N0(this._collection,e);return NO(n)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})};function JG(t,e){t&1&&(O(0,"p",18)(1,"span",19),W(2,"Oops!"),L(),W(3," This field is required!"),L())}function XG(t,e){if(t&1&&kt(0,JG,4,0,"p",18),t&2){let n,r=Ht();Tt((n=r.modalForm.get("suffering"))!=null&&n.hasError("required")?0:-1)}}function e9(t,e){t&1&&(O(0,"p",18)(1,"span",19),W(2,"Oops!"),L(),W(3," This field is required!"),L())}function t9(t,e){if(t&1&&kt(0,e9,4,0,"p",18),t&2){let n,r=Ht();Tt((n=r.modalForm.get("treatment"))!=null&&n.hasError("required")?0:-1)}}var Oc=class t{_formBuilder=R(dp);_treatmentService=R(mr);_toastService=R(Ni);modalId=_n.required();modalTitle=_n.required();treatmentToEdit=_n(null);modalForm=this._formBuilder.nonNullable.group({suffering:["",Rr.required],treatment:["",Rr.required]});constructor(){mf(()=>{this.resetModal()})}onSubmit(){return w(this,null,function*(){try{let{suffering:e,treatment:n}=this.modalForm.value,r={suffering:e||"",treatment:n||""};this.treatmentToEdit()?(yield this._treatmentService.updateTreatment(this.treatmentToEdit().id,{suffering:e,treatment:n}),this._toastService.showToast("Tratamiento actualizado correctamente.","success")):(yield this._treatmentService.createTreatment(r),this._toastService.showToast("Tratamiento creada correctamente.","success"),this.modalForm.reset())}catch{this._toastService.showToast("Ocurri\xF3 un problema.","error")}})}resetModal(){this.treatmentToEdit()?this.modalForm.patchValue({suffering:this.treatmentToEdit()?.suffering,treatment:this.treatmentToEdit()?.treatment}):this.modalForm.reset({suffering:"",treatment:""})}onCloseModal(){this.resetModal()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=je({type:t,selectors:[["app-treatment-modal"]],inputs:{modalId:[1,"modalId"],modalTitle:[1,"modalTitle"],treatmentToEdit:[1,"treatmentToEdit"]},decls:26,vars:10,consts:[["tabindex","-1","aria-hidden","true",1,"fixed","top-0","left-0","right-0","z-50","items-center","justify-center","hidden","w-full","p-4","overflow-x-hidden","overflow-y-auto","md:inset-0","h-[calc(100%-1rem)]","max-h-full",3,"id"],[1,"relative","w-full","max-w-2xl","max-h-full"],[1,"relative","bg-white","rounded-lg","shadow-sm","dark:bg-gray-700",3,"ngSubmit","formGroup"],[1,"flex","items-start","justify-between","p-4","border-b","rounded-t","dark:border-gray-600","border-gray-200"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white"],["type","button",1,"text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center","dark:hover:bg-gray-600","dark:hover:text-white",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[1,"p-6","space-y-6"],[1,"grid","grid-cols-6","gap-6"],[1,"col-span-6","sm:col-span-3"],["for","suffering",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","text","id","suffering","formControlName","suffering","placeholder","Headache...","required","",1,"shadow-xs","bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-600","focus:border-blue-600","block","w-full","p-2.5","dark:bg-gray-600","dark:border-gray-500","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","treatment",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["id","treatment","formControlName","treatment","rows","4","placeholder","Write your treatment here...",1,"block","p-2.5","w-full","text-sm","text-gray-900","bg-gray-50","rounded-lg","border","border-gray-300","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],[1,"flex","items-center","p-6","space-x-3","rtl:space-x-reverse","border-t","border-gray-200","rounded-b","dark:border-gray-600"],["type","submit",1,"text-white","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800",3,"disabled"],[1,"mt-2","text-sm","text-red-600","dark:text-red-500"],[1,"font-medium"]],template:function(n,r){if(n&1&&(O(0,"div",0)(1,"div",1)(2,"form",2),qe("ngSubmit",function(){return r.onSubmit()}),O(3,"div",3)(4,"h3",4),W(5),L(),O(6,"button",5),qe("click",function(){return r.onCloseModal()}),xt(),O(7,"svg",6),ye(8,"path",7),L(),Bt(),O(9,"span",8),W(10,"Close modal"),L()()(),O(11,"div",9)(12,"div",10)(13,"div",11)(14,"label",12),W(15,"Suffering"),L(),ye(16,"input",13),kt(17,XG,1,1),L(),O(18,"div",11)(19,"label",14),W(20,"Treatment"),L(),ye(21,"textarea",15),kt(22,t9,1,1),L()()(),O(23,"div",16)(24,"button",17),W(25," Save "),L()()()()()),n&2){let i,o;m_("id",r.modalId()),de(2),ct("formGroup",r.modalForm),de(3),tr(" ",r.modalTitle()," "),de(),ca("data-modal-hide",r.modalId()),de(11),Tt((i=r.modalForm.get("suffering"))!=null&&i.invalid&&((i=r.modalForm.get("suffering"))!=null&&i.touched)?17:-1),de(5),Tt((o=r.modalForm.get("treatment"))!=null&&o.invalid&&((o=r.modalForm.get("treatment"))!=null&&o.touched)?22:-1),de(2),mi("cursor-not-allowed",r.modalForm.invalid),ct("disabled",r.modalForm.invalid),ca("data-modal-hide",r.modalId())}},dependencies:[hp,up,Ei,xa,sp,No,fu,pu],encapsulation:2})};var n9=(t,e)=>e.id;function r9(t,e){if(t&1){let n=da();O(0,"tr",7)(1,"td",22)(2,"div",3),ye(3,"input",23),O(4,"label",24),W(5,"checkbox"),L()()(),O(6,"td",25),W(7),L(),O(8,"td",25),W(9),L(),O(10,"td",25)(11,"div",3),W(12),L()(),O(13,"td",25)(14,"div",26)(15,"a",27),qe("click",function(){let i=wo(n).$implicit,o=Ht();return Io(o.openEditModal(i))}),xt(),O(16,"svg",28),ye(17,"path",29),L()(),Bt(),O(18,"a",30),qe("click",function(){let i=wo(n).$implicit,o=Ht();return Io(o.openDeleteModal(i))}),xt(),O(19,"svg",28),ye(20,"path",31),L()()()()()}if(t&2){let n=e.$implicit;de(7),tr(" ",n.id," "),de(2),tr(" ",n.suffering," "),de(3),tr(" ",n.treatment," ")}}var Cm=class t{_treatmentService=R(mr);treatments=_n.required();selectedTreatment=Fe(null);treatmentToDelete=Fe(null);openEditModal(e){this.selectedTreatment.set(e)}openDeleteModal(e){this.treatmentToDelete.set(e)}deleteTreatment(){return w(this,null,function*(){let e=this.treatmentToDelete();e?.id&&(yield this._treatmentService.deleteTreatment(e.id))})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=je({type:t,selectors:[["app-table"]],inputs:{treatments:[1,"treatments"]},decls:37,vars:3,consts:[[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"p-4"],[1,"flex","items-center"],["id","checkbox-all-search","type","checkbox",1,"w-4","h-4","text-blue-600","bg-gray-100","border-gray-300","rounded-sm","focus:ring-blue-500","dark:focus:ring-blue-600","dark:ring-offset-gray-800","dark:focus:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600"],["for","checkbox-all-search",1,"sr-only"],["scope","col",1,"px-6","py-3"],[1,"bg-white","border-b","dark:bg-gray-800","dark:border-gray-700","border-gray-200","hover:bg-gray-50","dark:hover:bg-gray-600"],[3,"modalId","modalTitle","treatmentToEdit"],["id","popup-modal","tabindex","-1",1,"hidden","overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","z-50","justify-center","items-center","w-full","md:inset-0","h-[calc(100%-1rem)]","max-h-full"],[1,"relative","p-4","w-full","max-w-md","max-h-full"],[1,"relative","bg-white","rounded-lg","shadow-sm","dark:bg-gray-700"],["type","button","data-modal-hide","popup-modal",1,"absolute","top-3","end-2.5","text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center","dark:hover:bg-gray-600","dark:hover:text-white"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[1,"p-4","md:p-5","text-center"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"mx-auto","mb-4","text-gray-400","w-12","h-12","dark:text-gray-200"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"mb-5","text-lg","font-normal","text-gray-500","dark:text-gray-400"],["data-modal-hide","popup-modal","type","button",1,"text-white","bg-red-600","hover:bg-red-800","focus:ring-4","focus:outline-none","focus:ring-red-300","dark:focus:ring-red-800","font-medium","rounded-lg","text-sm","inline-flex","items-center","px-5","py-2.5","text-center",3,"click"],["data-modal-hide","popup-modal","type","button",1,"py-2.5","px-5","ms-3","text-sm","font-medium","text-gray-900","focus:outline-none","bg-white","rounded-lg","border","border-gray-200","hover:bg-gray-100","hover:text-blue-700","focus:z-10","focus:ring-4","focus:ring-gray-100","dark:focus:ring-gray-700","dark:bg-gray-800","dark:text-gray-400","dark:border-gray-600","dark:hover:text-white","dark:hover:bg-gray-700"],[1,"w-4","p-4"],["id","checkbox-table-search-1","type","checkbox",1,"w-4","h-4","text-blue-600","bg-gray-100","border-gray-300","rounded-sm","focus:ring-blue-500","dark:focus:ring-blue-600","dark:ring-offset-gray-800","dark:focus:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600"],["for","checkbox-table-search-1",1,"sr-only"],[1,"px-6","py-4"],[1,"flex","flex-row","gap-2","items-center"],["type","button","data-modal-target","editTreatmentModal","data-modal-show","editTreatmentModal",1,"font-medium","text-blue-600","dark:text-blue-500","hover:underline","cursor-pointer",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"w-6","h-6","text-gray-800","dark:text-white"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z"],["type","button","data-modal-target","popup-modal","data-modal-toggle","popup-modal",1,"font-medium","text-blue-600","dark:text-blue-500","hover:underline","cursor-pointer",3,"click"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"]],template:function(n,r){n&1&&(O(0,"table",0)(1,"thead",1)(2,"tr")(3,"th",2)(4,"div",3),ye(5,"input",4),O(6,"label",5),W(7,"checkbox"),L()()(),O(8,"th",6),W(9," Id "),L(),O(10,"th",6),W(11," Suffering "),L(),O(12,"th",6),W(13," Treatment "),L(),O(14,"th",6),W(15," Action "),L()()(),O(16,"tbody"),la(17,r9,21,3,"tr",7,n9),L()(),ye(19,"app-treatment-modal",8),O(20,"div",9)(21,"div",10)(22,"div",11)(23,"button",12),xt(),O(24,"svg",13),ye(25,"path",14),L(),Bt(),O(26,"span",15),W(27,"Close modal"),L()(),O(28,"div",16),xt(),O(29,"svg",17),ye(30,"path",18),L(),Bt(),O(31,"h3",19),W(32,"Are you sure you want to delete this treatment?"),L(),O(33,"button",20),qe("click",function(){return r.deleteTreatment()}),W(34," Yes, I'm sure "),L(),O(35,"button",21),W(36," No, cancel "),L()()()()()),n&2&&(de(17),ua(r.treatments()),de(2),ct("modalId","editTreatmentModal")("modalTitle","Edit treatment")("treatmentToEdit",r.selectedTreatment()))},dependencies:[Oc],encapsulation:2})};var Lc=class t{searchQuery=_n();search="";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=je({type:t,selectors:[["app-search-bar"]],inputs:{searchQuery:[1,"searchQuery"]},decls:7,vars:1,consts:[["for","simple-search",1,"sr-only"],[1,"relative","w-full"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","pointer-events-none"],["aria-hidden","true","fill","currentColor","viewbox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5","text-gray-500","dark:text-gray-400"],["fill-rule","evenodd","d","M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule","evenodd"],["type","text","id","simple-search","placeholder","Search","required","",1,"block","w-full","p-2","pl-10","text-sm","text-gray-900","border","border-gray-300","rounded-lg","bg-gray-50","focus:ring-primary-500","focus:border-primary-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500",3,"ngModelChange","ngModel"]],template:function(n,r){n&1&&(O(0,"label",0),W(1,"Search"),L(),O(2,"div",1)(3,"div",2),xt(),O(4,"svg",3),ye(5,"path",4),L()(),Bt(),O(6,"input",5),y_("ngModelChange",function(o){return rA(r.search,o)||(r.search=o),o}),qe("ngModelChange",function(o){let s;return(s=r.searchQuery())==null?null:s.set(o)}),L()()),n&2&&(de(6),v_("ngModel",r.search))},dependencies:[Qx,Ei,xa,No,gw],encapsulation:2})};function Sm(t,e){let n=r=>r.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/);return tn(()=>{let r=n(e());return t().filter(i=>{let o=n(i.suffering).join(""),s=n(i.treatment).join("");return r.every(a=>o.includes(a)||s.includes(a))})})}var Dm=class t{_treatmentService=R(mr);treatments=this._treatmentService.getTreatments;searchQuery=Fe("");filteredTreatments=Sm(this.treatments,this.searchQuery);ngAfterViewInit(){setTimeout(()=>{ac()},1e3)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=je({type:t,selectors:[["app-admin-treatments"]],decls:30,vars:4,consts:[[1,"pt-10","px-2","md:w-3/4","mx-auto"],[1,"flex","items-center","justify-between","flex-column","md:flex-row","flex-wrap","space-y-4","md:space-y-0","py-4","bg-white","dark:bg-gray-900"],[1,"flex","md:flex-row","items-center","gap-2"],[1,"m-0"],["id","dropdownActionButton","data-dropdown-toggle","dropdownAction","type","button",1,"inline-flex","items-center","text-gray-500","bg-white","border","border-gray-300","focus:outline-none","hover:bg-gray-100","focus:ring-4","focus:ring-gray-100","font-medium","rounded-lg","text-sm","px-3","py-1.5","dark:bg-gray-800","dark:text-gray-400","dark:border-gray-600","dark:hover:bg-gray-700","dark:hover:border-gray-600","dark:focus:ring-gray-700"],[1,"sr-only"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 10 6",1,"w-2.5","h-2.5","ms-2.5"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 4 4 4-4"],["id","dropdownAction",1,"z-10","hidden","bg-white","divide-y","divide-gray-100","rounded-lg","shadow-sm","w-44","dark:bg-gray-700","dark:divide-gray-600"],["aria-labelledby","dropdownActionButton",1,"py-1","text-sm","text-gray-700","dark:text-gray-200"],["href","#",1,"block","px-4","py-2","hover:bg-gray-100","dark:hover:bg-gray-600","dark:hover:text-white"],[1,"py-1"],["href","#",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100","dark:hover:bg-gray-600","dark:text-gray-200","dark:hover:text-white"],["type","button","data-modal-target","addTreatmentModal","data-modal-show","addTreatmentModal",1,"text-white","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","dark:bg-blue-600","dark:hover:bg-blue-700","focus:outline-none","dark:focus:ring-blue-800"],[1,"w-full","md:w-1/2",3,"searchQuery"],[1,"shadow-md","sm:rounded-lg","overflow-x-auto","relative"],[3,"treatments"],[3,"modalId","modalTitle"]],template:function(n,r){n&1&&(O(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4)(5,"span",5),W(6,"Action button"),L(),W(7," Action "),xt(),O(8,"svg",6),ye(9,"path",7),L()(),Bt(),O(10,"div",8)(11,"ul",9)(12,"li")(13,"a",10),W(14,"Reward"),L()(),O(15,"li")(16,"a",10),W(17,"Promote"),L()(),O(18,"li")(19,"a",10),W(20,"Activate account"),L()()(),O(21,"div",11)(22,"a",12),W(23,"Delete User"),L()()()(),O(24,"button",13),W(25," Add treatment "),L()(),ye(26,"app-search-bar",14),L(),O(27,"div",15),ye(28,"app-table",16)(29,"app-treatment-modal",17),L()()),n&2&&(de(26),ct("searchQuery",r.searchQuery),de(2),ct("treatments",r.filteredTreatments()),de(),ct("modalId","addTreatmentModal")("modalTitle","Add treatment"))},dependencies:[Oc,Cm,Lc],encapsulation:2})};var Am=class t{treatment=_n.required();static \u0275fac=function(n){return new(n||t)};static \u0275cmp=je({type:t,selectors:[["app-treatment-card"]],inputs:{treatment:[1,"treatment"]},decls:5,vars:2,consts:[[1,"block","max-w-sm","p-6","bg-white","border","border-gray-200","rounded-lg","shadow-sm","dark:bg-gray-800","dark:border-gray-700"],[1,"mb-2","text-2xl","font-bold","tracking-tight","text-gray-900","dark:text-white"],[1,"font-normal","text-gray-700","dark:text-gray-400"]],template:function(n,r){n&1&&(O(0,"div",0)(1,"h5",1),W(2),L(),O(3,"p",2),W(4),L()()),n&2&&(de(2),ha(r.treatment().suffering),de(2),ha(r.treatment().treatment))},encapsulation:2})};function i9(t,e){if(t&1){let n=da();O(0,"li",8)(1,"input",9),qe("change",function(i){let o=wo(n).$implicit,s=Ht();return Io(s.toggleCenter(i,o))}),L(),O(2,"label",10),W(3),L()()}if(t&2){let n=e.$implicit;de(),ct("id",n)("value",n),de(),ct("for",n),de(),tr(" ",n.toUpperCase()," ")}}var xm=class t{centers=["c1","c2","c3","c4","c5","c6","c7","ds"];selectedCenters=Fe([]);centersChanged=eD();toggleCenter(e,n){let i=e.target.checked,o=this.selectedCenters(),s=i?[...o,n]:o.filter(a=>a!==n);this.selectedCenters.set(s),this.centersChanged.emit(s)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=je({type:t,selectors:[["app-filter-treatment"]],outputs:{centersChanged:"centersChanged"},decls:12,vars:0,consts:[["id","filterDropdownButton","data-dropdown-toggle","filterDropdown","type","button",1,"flex","items-center","justify-center","w-full","px-4","py-2","text-sm","font-medium","text-gray-900","bg-white","border","border-gray-200","rounded-lg","md:w-auto","focus:outline-none","hover:bg-gray-100","hover:text-primary-700","focus:z-10","focus:ring-4","focus:ring-gray-200","dark:focus:ring-gray-700","dark:bg-gray-800","dark:text-gray-400","dark:border-gray-600","dark:hover:text-white","dark:hover:bg-gray-700"],["xmlns","http://www.w3.org/2000/svg","aria-hidden","true","viewbox","0 0 20 20","fill","currentColor",1,"w-4","h-4","mr-2","text-gray-400"],["fill-rule","evenodd","d","M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z","clip-rule","evenodd"],["fill","currentColor","viewbox","0 0 20 20","xmlns","http://www.w3.org/2000/svg","aria-hidden","true",1,"-mr-1","ml-1.5","w-5","h-5"],["clip-rule","evenodd","fill-rule","evenodd","d","M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"],["id","filterDropdown",1,"z-10","hidden","w-48","p-3","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"mb-3","text-sm","font-medium","text-gray-900","dark:text-white"],["aria-labelledby","dropdownDefault",1,"space-y-2","text-sm"],[1,"flex","items-center"],["type","checkbox",1,"w-4","h-4","bg-gray-100","border-gray-300","rounded","text-primary-600","focus:ring-primary-500","dark:focus:ring-primary-600","dark:ring-offset-gray-700","focus:ring-2","dark:bg-gray-600","dark:border-gray-500",3,"change","id","value"],[1,"ml-2","text-sm","font-medium","text-gray-900","dark:text-gray-100",3,"for"]],template:function(n,r){n&1&&(O(0,"button",0),xt(),O(1,"svg",1),ye(2,"path",2),L(),W(3," Filter "),O(4,"svg",3),ye(5,"path",4),L()(),Bt(),O(6,"div",5)(7,"h6",6),W(8," Centros "),L(),O(9,"ul",7),la(10,i9,4,4,"li",8,eA),L()()),n&2&&(de(10),ua(r.centers))},encapsulation:2})};var o9=(t,e)=>e.id;function s9(t,e){if(t&1&&ye(0,"app-treatment-card",11),t&2){let n=e.$implicit;ct("treatment",n)}}var km=class t{_treatmentService=R(mr);treatments=this._treatmentService.getTreatments;searchQuery=Fe("");filteredTreatments=Sm(this.treatments,this.searchQuery);selectedCenters=Fe([]);filtered=tn(()=>{let e=this.selectedCenters();return e.length===0?this.filteredTreatments():this.filteredTreatments().filter(n=>e.some(r=>n.treatment.toLowerCase().includes(r.toLowerCase())))});onCentersChanged(e){this.selectedCenters.set(e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=je({type:t,selectors:[["app-treatments"]],decls:13,vars:1,consts:[[1,"bg-gray-50","dark:bg-gray-900","h-screen","flex","items-start"],[1,"max-w-screen-xl","px-4","mx-auto","lg:px-12","lg:w-2xl","w-full","mt-8"],[1,"relative","bg-white","shadow-md","dark:bg-gray-800","sm:rounded-lg"],[1,"flex","flex-col","items-center","justify-between","p-4","space-y-3","md:flex-row","md:space-y-0","md:space-x-4"],[1,"w-full"],[1,"flex","items-center"],[1,"w-full",3,"searchQuery"],[1,"flex","flex-col","items-stretch","justify-end","flex-shrink-0","w-full","space-y-2","md:w-auto","md:flex-row","md:space-y-0","md:items-center","md:space-x-3"],[1,"flex","items-center","w-full","space-x-3","md:w-auto"],[3,"centersChanged"],[1,"grid","gap-4","mb-6","mt-16","md:grid-cols-2"],[3,"treatment"]],template:function(n,r){n&1&&(O(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"form",5),ye(6,"app-search-bar",6),L()(),O(7,"div",7)(8,"div",8)(9,"app-filter-treatment",9),qe("centersChanged",function(o){return r.onCentersChanged(o)}),L()()()()(),O(10,"div",10),la(11,s9,1,1,"app-treatment-card",11,o9),L()()()),n&2&&(de(6),ct("searchQuery",r.searchQuery),de(5),ua(r.filtered()))},dependencies:[Lc,Am,xm],encapsulation:2})};var vs=class t{_auth=R(Lr);userSignal=Iu(RI(this._auth),{initialValue:null});isLoggedIn=tn(()=>!!this.userSignal());get authState$(){return RI(this._auth)}logout(){return w(this,null,function*(){try{yield FR(this._auth),console.log("\u2705 Sesi\xF3n cerrada correctamente")}catch(e){console.error("\u274C Error al cerrar sesi\xF3n",e)}})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})};var LO=()=>{let t=R(Ln);return R(vs).authState$.pipe(ae(n=>n?!0:(t.navigateByUrl(""),!1)))},VO=()=>{let t=R(Ln);return R(vs).authState$.pipe(ae(n=>n?(t.navigateByUrl("/admin-treatments"),!1):!0))};var FO=[{path:"",component:km},{path:"admin-login-ireca",canActivate:[VO],component:qp},{path:"admin-treatments",canActivate:[LO],component:Dm}];var jO={providers:[cA({eventCoalescing:!0}),tw(FO),Dk(()=>Ak({projectId:"ireca-search",appId:"1:313971213856:web:70c4a836f7db07497c5e45",storageBucket:"ireca-search.firebasestorage.app",apiKey:"AIzaSyBrDETQi1DNKmCiFZYzcgoQxCvlrG3ORhI",authDomain:"ireca-search.firebaseapp.com",messagingSenderId:"313971213856"})),OR(()=>LR()),xO(()=>PO())]};function a9(t,e){t&1&&(O(0,"div",1),xt(),O(1,"svg",4),ye(2,"path",5),L(),Bt(),O(3,"span",6),W(4,"Check icon"),L()())}function c9(t,e){t&1&&(O(0,"div",2),xt(),O(1,"svg",4),ye(2,"path",7),L(),Bt(),O(3,"span",6),W(4,"Error icon"),L()())}function l9(t,e){if(t&1&&(O(0,"div",0),kt(1,a9,5,0,"div",1)(2,c9,5,0,"div",2),O(3,"div",3),W(4),L()()),t&2){let n=Ht();de(),Tt(n.toast().type==="success"?1:-1),de(),Tt(n.toast().type==="error"?2:-1),de(2),ha(n.toast().message)}}var Rm=class t{_toastService=R(Ni);toast=this._toastService.toast;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=je({type:t,selectors:[["app-toast-message"]],decls:1,vars:1,consts:[["id","toast-danger","role","alert",1,"flex","items-center","w-full","max-w-xs","p-4","mb-4","text-gray-500","bg-white","rounded-lg","shadow-sm","dark:text-gray-400","dark:bg-gray-800","fixed","bottom-5","right-5"],[1,"inline-flex","items-center","justify-center","shrink-0","w-8","h-8","text-green-500","bg-green-100","rounded-lg","dark:bg-green-800","dark:text-green-200"],[1,"inline-flex","items-center","justify-center","shrink-0","w-8","h-8","text-red-500","bg-red-100","rounded-lg","dark:bg-red-800","dark:text-red-200"],[1,"ms-3","text-sm","font-normal"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"],[1,"sr-only"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 11.793a1 1 0 1 1-1.414 1.414L10 11.414l-2.293 2.293a1 1 0 0 1-1.414-1.414L8.586 10 6.293 7.707a1 1 0 0 1 1.414-1.414L10 8.586l2.293-2.293a1 1 0 0 1 1.414 1.414L11.414 10l2.293 2.293Z"]],template:function(n,r){n&1&&kt(0,l9,5,3,"div",0),n&2&&Tt(r.toast().visible?0:-1)},encapsulation:2})};function u9(t,e){if(t&1){let n=da();O(0,"button",1),qe("click",function(){wo(n);let i=Ht();return Io(i.logOut())}),W(1,"Log out"),L()}}var Mm=class t{authState=R(vs);_router=R(Ln);ngAfterViewInit(){ac()}logOut(){return w(this,null,function*(){yield this.authState.logout(),this._router.navigateByUrl("")})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=je({type:t,selectors:[["app-root"]],decls:3,vars:1,consts:[["type","button",1,"py-2.5","px-5","me-2","mb-2","text-sm","font-medium","text-gray-900","focus:outline-none","bg-white","rounded-lg","border","border-gray-200","hover:bg-gray-100","hover:text-blue-700","focus:z-10","focus:ring-4","focus:ring-gray-100","dark:focus:ring-gray-700","dark:bg-gray-800","dark:text-gray-400","dark:border-gray-600","dark:hover:text-white","dark:hover:bg-gray-700","fixed","right-0"],["type","button",1,"py-2.5","px-5","me-2","mb-2","text-sm","font-medium","text-gray-900","focus:outline-none","bg-white","rounded-lg","border","border-gray-200","hover:bg-gray-100","hover:text-blue-700","focus:z-10","focus:ring-4","focus:ring-gray-100","dark:focus:ring-gray-700","dark:bg-gray-800","dark:text-gray-400","dark:border-gray-600","dark:hover:text-white","dark:hover:bg-gray-700","fixed","right-0",3,"click"]],template:function(n,r){n&1&&(kt(0,u9,2,0,"button",0),ye(1,"app-toast-message")(2,"router-outlet")),n&2&&Tt(r.authState.isLoggedIn()?0:-1)},dependencies:[iu,Rm],encapsulation:2})};R_(Mm,jO).catch(t=>console.error(t));
